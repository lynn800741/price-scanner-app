<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>LENSY - 萬物價格掃描器</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        .app-container {
            max-width: 500px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            background: #fff;
        }

        /* 頁面容器 */
        .page {
            display: none;
            min-height: 100vh;
            position: relative;
        }

        .page.active {
            display: block;
        }

        /* 頂部導航欄 */
        .nav-header {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            padding: 15px 20px;
            background: #fff;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #eee;
        }

        .app-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        /* 底部導航 */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            background: #fff;
            border-top: 1px solid #eee;
            display: flex;
            align-items: center;
            z-index: 1000;
            padding-bottom: env(safe-area-inset-bottom);
        }

        .bottom-nav.hidden {
            display: none;
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-item svg {
            width: 24px;
            height: 24px;
            fill: #999;
            margin-bottom: 4px;
        }

        .nav-item.active svg {
            fill: #FF6B35;
        }

        .nav-item span {
            font-size: 12px;
            color: #999;
        }

        .nav-item.active span {
            color: #FF6B35;
        }

        /* 相機按鈕特殊樣式 */
        .nav-camera {
            position: relative;
        }

        .camera-btn {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            background: #000;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .camera-btn svg {
            width: 30px;
            height: 30px;
            fill: #fff;
        }

        /* 設定頁面樣式 */
        .settings-page {
            padding-top: 60px;
            padding-bottom: 80px;
        }

        .section {
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #FF6B35;
            margin: 20px 20px 10px;
        }

        .list-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            background: #fff;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
        }

        .list-item-left {
            display: flex;
            align-items: center;
            flex: 1;
        }

        .list-item-icon {
            width: 24px;
            height: 24px;
            margin-right: 15px;
            fill: #666;
        }

        .list-item-content {
            flex: 1;
        }

        .list-item-title {
            font-size: 16px;
            color: #333;
        }

        .list-item-subtitle {
            font-size: 14px;
            color: #999;
            margin-top: 2px;
        }

        .list-item-arrow {
            width: 20px;
            height: 20px;
            fill: #999;
        }

        /* Switch 開關 */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 30px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #FF6B35;
        }

        input:checked + .slider:before {
            transform: translateX(20px);
        }

        /* 相機頁面 */
        .camera-page {
            position: relative;
            height: 100vh;
            background: #000;
        }

        #cameraFeed {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .camera-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }

        .close-camera {
            position: absolute;
            top: 40px;
            left: 20px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            cursor: pointer;
            pointer-events: all;
        }

        .close-camera svg {
            width: 24px;
            height: 24px;
            fill: #fff;
        }

        /* 掃描框 */
        .scan-area {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .scan-text {
            color: #fff;
            font-size: 16px;
            margin-bottom: 20px;
        }

        .scan-frame {
            width: 280px;
            height: 280px;
            position: relative;
        }

        /* 四角邊框樣式 */
        .scan-frame::before,
        .scan-frame::after,
        .scan-corner-tl,
        .scan-corner-tr {
            content: '';
            position: absolute;
            width: 40px;
            height: 40px;
            border: 3px solid #fff;
        }

        .scan-frame::before {
            top: 0;
            left: 0;
            border-right: none;
            border-bottom: none;
            border-top-left-radius: 8px;
        }

        .scan-frame::after {
            top: 0;
            right: 0;
            border-left: none;
            border-bottom: none;
            border-top-right-radius: 8px;
        }

        .scan-corner-tl {
            bottom: 0;
            left: 0;
            border-right: none;
            border-top: none;
            border-bottom-left-radius: 8px;
        }

        .scan-corner-tr {
            bottom: 0;
            right: 0;
            border-left: none;
            border-top: none;
            border-bottom-right-radius: 8px;
        }

        /* 底部控制 */
        .camera-controls {
            position: absolute;
            bottom: 40px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 50px;
            pointer-events: all;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .control-btn svg {
            width: 24px;
            height: 24px;
            fill: #fff;
        }

        .capture-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: #fff;
            border: 3px solid rgba(255, 255, 255, 0.5);
            position: relative;
            cursor: pointer;
        }

        .capture-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #fff;
        }

        /* 照片列表頁 */
        .list-page {
            padding-top: 60px;
            padding-bottom: 80px;
        }

        .search-container {
            padding: 10px 20px;
            background: #fff;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .search-box {
            flex: 1;
            display: flex;
            align-items: center;
            background: #f5f5f5;
            border-radius: 10px;
            padding: 10px 15px;
        }

        .search-icon {
            width: 20px;
            height: 20px;
            fill: #999;
            margin-right: 10px;
        }

        .search-input {
            flex: 1;
            border: none;
            background: none;
            font-size: 16px;
            outline: none;
        }

        .select-btn {
            padding: 8px 16px;
            background: #f5f5f5;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            color: #333;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .select-btn:hover {
            background: #e0e0e0;
        }

        .select-btn.active {
            background: #FF6B35;
            color: white;
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 60vh;
            padding: 20px;
        }

        .empty-icon {
            width: 100px;
            height: 100px;
            border: 2px dashed #ddd;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .empty-icon svg {
            width: 50px;
            height: 50px;
            fill: #ccc;
        }

        .empty-title {
            font-size: 18px;
            color: #333;
            margin-bottom: 8px;
        }

        .empty-subtitle {
            font-size: 14px;
            color: #999;
        }

        /* 選取模式頂部工具列 */
        .select-mode-header {
            position: fixed;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            background: #fff;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
            transition: top 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1002;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .select-mode-header.active {
            top: 0;
        }
        .select-mode-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }
        .select-mode-cancel {
            padding: 8px 16px;
            background: #f5f5f5;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }
        .select-mode-cancel:hover {
            background: #e0e0e0;
        }
        /* 批量操作工具列 */
        .batch-toolbar {
            position: fixed;
            bottom: -80px;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            background: #fff;
            border-top: 1px solid #eee;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            transition: bottom 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1001;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        }

        .batch-toolbar.active {
            bottom: 0;
        }

        .batch-action-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .batch-share-btn {
            background: #2196F3;
            color: white;
        }

        .batch-share-btn:hover {
            background: #1976D2;
        }

        .batch-delete-btn {
            background: #f44336;
            color: white;
        }

        .batch-delete-btn:hover {
            background: #d32f2f;
        }
        /* 禁用狀態的按鈕樣式 */
        .batch-action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .batch-action-btn:disabled:hover {
            background: inherit;
        }

        .batch-count {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        /* 選取模式下隱藏底部導航 */
        .select-mode .bottom-nav {
            display: none;
        }
        /* 選取模式下為頂部固定工具列留出空間 */
        .select-mode .list-header {
            margin-top: 60px;
        }

        /* 載入動畫 */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            flex-direction: column;
            gap: 20px;
        }

        .loading-overlay.active {
            display: flex;
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top-color: #FF6B35;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: #fff;
            font-size: 18px;
        }

        /* 結果頁面 - 新增單獨頁面樣式 */
        .result-page {
            padding-top: 60px;
            padding-bottom: 80px;
            background: #f5f5f5;
        }

        .result-header {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            padding: 15px 20px;
            background: #fff;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #eee;
        }

        .result-back-btn {
            width: 35px;
            height: 35px;
            background: #f5f5f5;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .result-back-btn:hover {
            background: #e0e0e0;
        }

        .result-back-btn svg {
            width: 20px;
            height: 20px;
            fill: #333;
        }

        .result-menu-btn {
            width: 35px;
            height: 35px;
            background: #f5f5f5;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .result-menu-btn:hover {
            background: #e0e0e0;
        }

        .result-menu-btn svg {
            width: 20px;
            height: 20px;
            fill: #666;
        }

        /* 下拉選單 */
        .result-dropdown {
            position: absolute;
            top: 50px;
            right: 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            display: none;
            z-index: 2001;
            min-width: 180px;
        }

        .result-dropdown.active {
            display: block;
        }

        .dropdown-item {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background 0.2s;
            border-bottom: 1px solid #f0f0f0;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: #f5f5f5;
        }

        .dropdown-item svg {
            width: 18px;
            height: 18px;
            fill: #666;
        }

        .dropdown-item.delete {
            color: #f44336;
        }

        .dropdown-item.delete svg {
            fill: #f44336;
        }

        /* 編輯名稱對話框 */
        .edit-dialog {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
        }

        .edit-dialog.active {
            display: flex;
        }

        .edit-dialog-content {
            background: #fff;
            border-radius: 15px;
            padding: 20px;
            width: 90%;
            max-width: 400px;
        }

        .edit-dialog-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .edit-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .edit-dialog-buttons {
            display: flex;
            gap: 10px;
        }

        .edit-dialog-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }

        .edit-dialog-btn.save {
            background: #4CAF50;
            color: white;
        }

        .edit-dialog-btn.cancel {
            background: #f5f5f5;
            color: #666;
        }

        .result-content {
            padding: 20px;
            max-width: 500px;
            margin: 0 auto;
        }

        .result-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .result-name {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #333;
        }

        .price-section {
            background: linear-gradient(135deg, #FF6B35 0%, #FF8A65 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .price-value {
            font-size: 48px;
            font-weight: 700;
            margin: 10px 0;
        }

        .info-card {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .info-card-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .info-card-content {
            font-size: 15px;
            color: #666;
            line-height: 1.6;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .action-button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-chat {
            background: #4CAF50;
            color: white;
        }

        .btn-share {
            background: #2196F3;
            color: white;
        }

        /* Canvas for photo capture */
        #photoCanvas {
            display: none;
        }

        /* 歷史記錄樣式 */
        .history-section {
            padding: 0 20px;
        }

        .month-label {
            font-size: 16px;
            font-weight: 600;
            color: #666;
            margin: 20px 0 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .history-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .history-item {
            background: #f5f5f5;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .history-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .history-item.selected {
            transform: scale(0.95);
            box-shadow: 0 0 0 3px #FF6B35;
        }

        .history-item-checkbox {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 24px;
            height: 24px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #999;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 2;
        }

        .select-mode .history-item-checkbox {
            display: flex;
        }

        .history-item-checkbox.checked {
            background: #FF6B35;
            border-color: #FF6B35;
        }

        .history-item-checkbox.checked::after {
            content: '✓';
            color: white;
            font-size: 16px;
            font-weight: bold;
        }

        .history-img {
            width: 100%;
            height: 120px;
            object-fit: cover;
        }

        .history-info {
            padding: 10px;
        }

        .history-name {
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .history-price {
            font-size: 16px;
            color: #FF6B35;
            font-weight: 700;
        }

        .history-date {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }

        /* 文件輸入隱藏 */
        #fileInput {
            display: none;
        }

        /* 聊天頁面樣式 */
        .chat-page {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            height: 100vh;
            background: #fff;
            z-index: 3000;
            display: none;
            flex-direction: column;
        }

        .chat-page.active {
            display: flex;
        }

        .chat-header {
            position: relative;
            padding: 15px 20px;
            background: #fff;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .chat-close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            width: 35px;
            height: 35px;
            background: #f5f5f5;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .chat-close-btn:hover {
            background: #e0e0e0;
        }

        .chat-close-btn svg {
            width: 18px;
            height: 18px;
            fill: #666;
        }

        /* 重新查看圖片按鈕區域 */
        .view-image-section {
            padding: 10px 20px;
            background: #f9f9f9;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: center;
        }

        .view-image-btn {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 8px 16px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 14px;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
        }

        .view-image-btn:hover {
            background: #f5f5f5;
            color: #333;
            border-color: #999;
        }

        .view-image-btn svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #ffffff;
        }

        /* 引導詞區域 */
        .quick-prompts {
            padding: 10px 20px;
            background: #fff;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }

        .prompt-chip {
            display: inline-block;
            padding: 8px 16px;
            margin: 4px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 14px;
            color: #333;
            cursor: pointer;
            transition: all 0.3s;
        }

        .prompt-chip:hover {
            background: #FF6B35;
            color: white;
            border-color: #FF6B35;
        }

        .message {
            margin-bottom: 24px;
        }

        .message.user {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 16px;
        }

        .message.user .message-content {
            max-width: 70%;
            padding: 12px 16px;
            background: #FF6B35;
            color: white;
            border-radius: 18px;
            line-height: 1.6;
            word-wrap: break-word;
            font-size: 15px;
        }

        .message.assistant {
            margin-bottom: 32px;
        }

        .message.assistant .message-content {
            color: #2d2d2d;
            line-height: 1.8;
            font-size: 15px;
        }

        /* AI 訊息的 Markdown 樣式 */
        .message.assistant .message-content h1 {
            font-size: 24px;
            font-weight: 700;
            margin: 20px 0 16px 0;
            color: #1a1a1a;
        }

        .message.assistant .message-content h2 {
            font-size: 20px;
            font-weight: 600;
            margin: 18px 0 14px 0;
            color: #2d2d2d;
        }

        .message.assistant .message-content h3 {
            font-size: 18px;
            font-weight: 600;
            margin: 16px 0 12px 0;
            color: #2d2d2d;
        }

        .message.assistant .message-content p {
            margin: 12px 0;
        }

        .message.assistant .message-content strong {
            font-weight: 600;
            color: #1a1a1a;
        }

        .message.assistant .message-content em {
            font-style: italic;
        }

        .message.assistant .message-content ul,
        .message.assistant .message-content ol {
            margin: 12px 0;
            padding-left: 24px;
        }

        .message.assistant .message-content li {
            margin: 6px 0;
            line-height: 1.7;
        }

        .message.assistant .message-content code {
            background: #f6f6f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'SF Mono', Consolas, monospace;
            font-size: 14px;
            color: #d73a49;
        }

        .message.assistant .message-content pre {
            background: #f6f6f6;
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 16px 0;
        }

        .message.assistant .message-content pre code {
            background: none;
            padding: 0;
            color: #2d2d2d;
        }

        .message.assistant .message-content blockquote {
            border-left: 3px solid #FF6B35;
            padding-left: 16px;
            margin: 16px 0;
            color: #666;
            font-style: italic;
        }

        .message.assistant .message-content a {
            color: #FF6B35;
            text-decoration: none;
            font-weight: 500;
        }

        .message.assistant .message-content a:hover {
            text-decoration: underline;
        }

        .message.assistant .message-content table {
            border-collapse: collapse;
            width: 100%;
            margin: 16px 0;
        }

        .message.assistant .message-content th,
        .message.assistant .message-content td {
            border: 1px solid #e5e5e5;
            padding: 8px 12px;
            text-align: left;
        }

        .message.assistant .message-content th {
            background: #f9f9f9;
            font-weight: 600;
        }

        .chat-input-area {
            padding: 15px;
            background: #fff;
            border-top: 1px solid #eee;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 24px;
            font-size: 16px;
            outline: none;
            resize: none;
            max-height: 120px;
        }

        .chat-input:focus {
            border-color: #FF6B35;
        }

        .chat-send-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: #FF6B35;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .chat-send-btn:hover {
            background: #ff5722;
        }

        .chat-send-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .chat-send-btn svg {
            width: 20px;
            height: 20px;
            fill: white;
        }

        .chat-loading {
            display: inline-flex;
            gap: 4px;
            padding: 8px 0;
        }

        .chat-loading span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #999;
            animation: chatLoading 1.4s ease-in-out infinite;
        }

        .chat-loading span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .chat-loading span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes chatLoading {
            0%, 60%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            30% {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }
        
        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }

        .disclaimer-text {
            font-size: 12px;
            color: #999;
            text-align: center;
            margin-top: 10px;
        }

        /* 忘記密碼頁面樣式 */
        .forgot-password-page {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            height: 100vh;
            background: #fff;
            z-index: 4600;
            display: none;
            flex-direction: column;
        }

        .forgot-password-page.active {
            display: flex;
            animation: slideIn 0.3s ease forwards;
        }

        .forgot-header {
            position: relative;
            padding: 15px 20px;
            background: #fff;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .forgot-back-btn {
            position: absolute;
            top: 15px;
            left: 20px;
            width: 35px;
            height: 35px;
            background: none;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .forgot-back-btn svg {
            width: 24px;
            height: 24px;
            fill: #333;
        }

        .forgot-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .forgot-content {
            flex: 1;
            padding: 40px 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .forgot-icon {
            width: 80px;
            height: 80px;
            background: #FFF3E0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
        }

        .forgot-icon svg {
            width: 40px;
            height: 40px;
            fill: #FF6B35;
        }

        .forgot-description {
            font-size: 16px;
            color: #666;
            text-align: center;
            line-height: 1.6;
            margin-bottom: 30px;
            max-width: 300px;
        }

        .forgot-form {
            width: 100%;
            max-width: 350px;
        }

        .forgot-button {
            width: 100%;
            padding: 14px;
            background: #FF6B35;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .forgot-button:hover {
            background: #ff5722;
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3);
        }

        /* 成功訊息樣式 */
        .success-dialog {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 5000;
        }

        .success-dialog.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .success-content {
            background: #fff;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 350px;
            text-align: center;
        }

        .success-icon {
            width: 60px;
            height: 60px;
            background: #4CAF50;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }

        .success-icon svg {
            width: 30px;
            height: 30px;
            fill: white;
        }

        .success-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .success-message {
            font-size: 16px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .success-button {
            padding: 12px 30px;
            background: #FF6B35;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }
        .auth-page {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            height: 100vh;
            background: #fff;
            z-index: 4500;
            display: none;
            flex-direction: column;
            overflow-y: auto;
        }

        .auth-page.active {
            display: flex;
            animation: slideIn 0.3s ease forwards;
        }

        @keyframes slideIn {
            from {
                transform: translateX(-50%) translateY(100%);
            }
            to {
                transform: translateX(-50%) translateY(0);
            }
        }

        .auth-header {
            position: relative;
            padding: 15px 20px;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .auth-close-btn {
            position: absolute;
            top: 15px;
            left: 20px;
            width: 35px;
            height: 35px;
            background: none;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .auth-close-btn svg {
            width: 24px;
            height: 24px;
            fill: #333;
        }

        .auth-content {
            flex: 1;
            padding: 20px 30px 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .auth-logo {
            font-size: 48px;
            font-weight: 800;
            color: #FF6B35;
            margin-bottom: 10px;
            letter-spacing: -2px;
        }

        .auth-subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 40px;
        }

        .auth-form {
            width: 100%;
            max-width: 350px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
            display: block;
        }

        .form-input-wrapper {
            position: relative;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            outline: none;
            transition: all 0.3s;
        }

        .form-input:focus {
            border-color: #FF6B35;
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }

        .password-toggle {
            position: absolute;
            top: 50%;
            right: 16px;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
        }

        .password-toggle svg {
            width: 20px;
            height: 20px;
            fill: #999;
        }

        .forgot-password {
            display: inline-block;
            font-size: 14px;
            color: #FF6B35;
            text-decoration: none;
            margin-bottom: 24px;
            cursor: pointer;
        }

        .forgot-password:hover {
            text-decoration: underline;
        }

        .auth-button {
            width: 100%;
            padding: 14px;
            background: #FF6B35;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .auth-button:hover {
            background: #ff5722;
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3);
        }

        .auth-switch {
            text-align: center;
            font-size: 14px;
            color: #666;
            margin-bottom: 30px;
        }

        .auth-switch a {
            color: #FF6B35;
            text-decoration: none;
            cursor: pointer;
        }

        .auth-switch a:hover {
            text-decoration: underline;
        }

        .divider {
            display: flex;
            align-items: center;
            margin: 30px 0;
            color: #999;
            font-size: 14px;
            width: 100%;
            max-width: 350px;
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: #e0e0e0;
            display: block;
        }

        .divider span {
            padding: 0 16px;
            white-space: nowrap;
        }

        .social-login {
            width: 100%;
            max-width: 350px;
        }

        .social-button {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fff;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .social-button:hover {
            background: #f5f5f5;
            transform: translateY(-2px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .social-button svg {
            width: 20px;
            height: 20px;
        }

        .apple-button {
            background: #000;
            color: #fff;
            border: none;
        }

        .apple-button:hover {
            background: #333;
        }

        .terms-text {
            font-size: 12px;
            color: #999;
            text-align: center;
            line-height: 1.6;
            margin-top: 30px;
        }

        .terms-text a {
            color: #666;
            text-decoration: underline;
        }

        .terms-text a:hover {
            color: #FF6B35;
        }
        .pro-upgrade-page {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            height: 100vh;
            background: #fff;
            z-index: 4000;
            display: none;
            flex-direction: column;
            overflow-y: auto;
        }

        .pro-upgrade-page.active {
            display: flex;
        }

        .pro-header {
            position: relative;
            padding: 15px 20px;
            background: #fff;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pro-close-btn {
            position: absolute;
            top: 15px;
            left: 20px;
            width: 35px;
            height: 35px;
            background: none;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .pro-close-btn svg {
            width: 24px;
            height: 24px;
            fill: #333;
        }

        .pro-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            padding-bottom: 150px;
        }

        .pro-hero {
            text-align: center;
            margin-bottom: 20px;
        }

        .pro-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #FF6B35 0%, #FF8A65 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: bold;
            color: white;
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.3);
        }

        .pro-title {
            font-size: 28px;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        .pro-subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 10px;
        }

        .trial-info {
            font-size: 18px;
            font-weight: 600;
            color: #4CAF50;
            margin-bottom: 20px;
        }

        .features-list {
            margin-bottom: 30px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .feature-icon {
            width: 40px;
            height: 40px;
            background: #FFF3E0;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .feature-icon svg {
            width: 24px;
            height: 24px;
            fill: #FF6B35;
        }

        .feature-text {
            flex: 1;
        }

        .feature-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .feature-desc {
            font-size: 14px;
            color: #666;
        }

        .pricing-section {
            margin-bottom: 20px;
        }

        .pricing-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .pricing-card {
            flex: 1;
            background: #f9f9f9;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px 15px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            text-align: center;
        }

        .pricing-card.selected {
            border-color: #FF6B35;
            background: #FFF3E0;
            transform: scale(1.02);
        }

        .pricing-card.popular {
            position: relative;
        }

        .discount-badge {
            position: absolute;
            top: -10px;
            right: 10px;
            background: #f44336;
            color: white;
            padding: 4px 10px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 600;
        }

        .pricing-radio {
            width: 20px;
            height: 20px;
            border: 2px solid #999;
            border-radius: 50%;
            position: relative;
            margin: 0 auto 10px;
        }

        .pricing-card.selected .pricing-radio {
            border-color: #FF6B35;
        }

        .pricing-card.selected .pricing-radio::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: #FF6B35;
            border-radius: 50%;
        }

        .pricing-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .pricing-price {
            font-size: 20px;
            font-weight: 700;
            color: #333;
            margin-bottom: 5px;
        }

        .pricing-note {
            font-size: 13px;
            color: #999;
        }

        .pricing-period {
            font-size: 13px;
            color: #666;
            margin-top: 8px;
        }

        .bottom-section {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            background: #fff;
            padding: 15px 20px 25px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        }

        .subscribe-btn {
            width: 100%;
            padding: 16px;
            background: #FF6B35;
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 15px;
        }

        .subscribe-btn:hover {
            background: #ff5722;
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3);
        }

        .terms-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            font-size: 12px;
        }

        .terms-links a {
            color: #666;
            text-decoration: none;
            transition: color 0.3s;
        }

        .terms-links a:hover {
            color: #FF6B35;
        }
        
        /* AI上傳頁面樣式 */
        .ai-upload-page {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            height: 100vh;
            background: #fff;
            z-index: 3500;
            display: none;
            flex-direction: column;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .ai-upload-page.active {
            display: flex;
            animation: fadeIn 0.3s ease forwards;
        }

        .ai-upload-header {
            position: relative;
            padding: 15px 20px;
            background: #fff;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ai-upload-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .ai-upload-close-btn {
            position: absolute;
            top: 15px;
            left: 20px;
            width: 35px;
            height: 35px;
            background: #f5f5f5;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .ai-upload-close-btn:hover {
            background: #e0e0e0;
        }

        .ai-upload-close-btn svg {
            width: 20px;
            height: 20px;
            fill: #333;
        }

        .ai-upload-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .upload-box {
            width: 100%;
            max-width: 350px;
            padding: 60px 40px;
            background: #f9f9f9;
            border: 2px dashed #ddd;
            border-radius: 20px;
            text-align: center;
            transition: all 0.3s;
        }

        .upload-box:hover {
            border-color: #FF6B35;
            background: #FFF3E0;
        }

        .upload-icon-container {
            width: 100px;
            height: 100px;
            margin: 0 auto 20px;
            background: #FF6B35;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3);
            position: relative;
            overflow: hidden;
        }

        .upload-icon-container:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(255, 107, 53, 0.4);
        }
        
        .upload-icon-container:active {
            transform: scale(0.95);
        }
        
        .upload-icon-container::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .upload-icon-container:hover::before {
            width: 100px;
            height: 100px;
        }

        .upload-icon-container svg {
            width: 50px;
            height: 50px;
            fill: white;
        }

        .upload-text {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .upload-subtext {
            font-size: 16px;
            color: #666;
            line-height: 1.5;
        }

        .upload-tips {
            margin-top: 30px;
            padding: 15px;
            background: #FFF3E0;
            border-radius: 10px;
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }

        .upload-tips-title {
            font-weight: 600;
            color: #FF6B35;
            margin-bottom: 5px;
        }
        
        /* 語言選擇頁面樣式 */
        .language-selector-page {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            height: 100vh;
            background: #fff;
            z-index: 2000;
            display: none;
            flex-direction: column;
        }
        
        .language-selector-page.active {
            display: flex;
            animation: slideInRight 0.3s ease forwards;
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(50%) translateX(100%);
            }
            to {
                transform: translateX(-50%) translateX(0);
            }
        }
        
        .language-header {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background: #fff;
            border-bottom: 1px solid #eee;
            position: relative;
        }
        
        .language-close-btn {
            background: none;
            border: none;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-right: 15px;
        }
        
        .language-close-btn svg {
            width: 24px;
            height: 24px;
            fill: #333;
        }
        
        .language-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            flex: 1;
        }
        
        .language-content {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 20px;
        }
        
        .language-section {
            margin-top: 20px;
        }
        
        .language-section-title {
            font-size: 14px;
            font-weight: 600;
            color: #999;
            margin: 0 20px 10px;
            text-transform: uppercase;
        }
        
        .language-list {
            background: #fff;
        }
        
        .language-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .language-item:hover {
            background: #f5f5f5;
        }
        
        .language-item:active {
            background: #eee;
        }
        
        .language-name {
            font-size: 16px;
            color: #333;
        }
        
        .language-check {
            font-size: 20px;
            color: #FF6B35;
            display: none;
        }
        
        .language-check.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- 設定頁面 -->
        <div class="page settings-page" id="settingsPage">
            <div class="nav-header">
                <h1 class="app-title" data-i18n="settings.title">設定</h1>
            </div>
            
            <div class="section">
                <h2 class="section-title" data-i18n="settings.membership">會員服務</h2>
                
                <div class="list-item" onclick="openProUpgrade()">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M5 16L3 5l5.5 0L12 16m3.5 0H21l-2-11L14 5"/>
                        </svg>
                        <div class="list-item-content">
                            <div class="list-item-title" data-i18n="settings.memberStatus">會員狀態</div>
                            <div class="list-item-subtitle" data-i18n="settings.memberStatusFree">免費版</div>
                        </div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
                
                <div class="list-item">
                    <div class="list-item-left">
                        <div class="list-item-title" style="margin-left: 39px;"><span data-i18n="settings.remainingScans">剩餘掃描次數</span>: 50</div>
                    </div>
                </div>
                
                <div class="list-item">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.restorePurchase">復原購買</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title" data-i18n="settings.proFeatures">Pro 版功能</h2>
                
                <div class="list-item" onclick="openAIUpload()">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M22 2.53L16.47 8 13 11.5l-1.5 1.5L8 16.47 2.53 22 1 20.47 6.47 15 11 10.5l1.5-1.5L16 5.47 20.47 1 22 2.53M10.94 13L2 22v-2l8.94-9L11 11l-.06 2M13 10.94L22 2h-2l-9 8.94v.12L13 13v-2.06"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.aiService">AI智能服務</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
                
                <div class="list-item" onclick="openExportDialog()">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M12,19L8,15H10.5V12H13.5V15H16L12,19Z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.exportExcel">匯出成Excel報告</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
                
                <div class="list-item" onclick="openBatchAnalysis()">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.batchRecognition">多張照片批次辨識</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
                
                <div class="list-item">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.autoSaveAlbum">自動儲存到相簿</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="autoSaveToggle">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title" data-i18n="settings.account">帳號</h2>
                
                <div class="list-item" onclick="handleLogin()">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.loginRegister">登入/註冊</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title" data-i18n="settings.support">支援</h2>
                
                <div class="list-item" onclick="showLanguageSelector()">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M21 9L17.5 14.5C17.08 15.08 16.5 15.5 15.91 15.68L11.7 16.89C11.45 16.96 11.21 17 11 17C10.5 17 10.08 16.76 9.82 16.3L7.91 12.72C7.66 12.17 7.9 11.5 8.47 11.28L12.66 9.61C13.22 9.39 13.86 9.63 14.12 10.2L15.38 12.94L18.5 8.5L21 9Z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.language">語言</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
                
                <div class="list-item">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.contactUs">聯絡我們</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
                
                <div class="list-item" onclick="showHelp()">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.help">輔助說明</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title" data-i18n="settings.about">關於APP</h2>
                
                <div class="list-item" onclick="showAppInfo()">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.appInfo">APP資訊</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
                
                <div class="list-item" onclick="rateApp()">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.rateApp">評價APP</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
                
                <div class="list-item" onclick="shareApp()">
                    <div class="list-item-left">
                        <svg class="list-item-icon" viewBox="0 0 24 24">
                            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
                        </svg>
                        <div class="list-item-title" data-i18n="settings.shareApp">分享給朋友</div>
                    </div>
                    <svg class="list-item-arrow" viewBox="0 0 24 24">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                    </svg>
                </div>
            </div>
        </div>

        <!-- 相機頁面 -->
        <div class="page camera-page" id="cameraPage">
            <video id="cameraFeed" autoplay playsinline></video>
            <canvas id="photoCanvas"></canvas>
            
            <div class="camera-overlay">
                <div class="close-camera" onclick="goToHome()">
                    <svg viewBox="0 0 24 24">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                    </svg>
                </div>

                <div class="scan-area">
                    <p class="scan-text" data-i18n="camera.scanHint">確保物品清晰地位於鏡頭焦點中</p>
                    <div class="scan-frame" id="scanFrame">
                        <span class="scan-corner-tl"></span>
                        <span class="scan-corner-tr"></span>
                    </div>
                </div>

                <div class="camera-controls">
                    <button class="control-btn" onclick="document.getElementById('multiFileInput').click()">
                        <svg viewBox="0 0 24 24">
                            <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                        </svg>
                    </button>
                    
                    <button class="capture-btn" onclick="capturePhoto()"></button>
                    
                    <button class="control-btn" onclick="toggleFlash()">
                        <svg viewBox="0 0 24 24">
                            <path d="M7 2v11h3v9l7-12h-4l4-8z"/>
                        </svg>
                    </button>
                </div>
                
            </div>
        </div>

        <!-- 照片列表頁面 -->
        <div class="page list-page active" id="listPage">
            <div class="nav-header">
                <h1 class="app-title">LENSY</h1>
            </div>
            
            <div class="search-container">
                <div class="search-box">
                    <svg class="search-icon" viewBox="0 0 24 24">
                        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </svg>
                    <input type="text" class="search-input" placeholder="搜尋" id="searchInput" oninput="searchHistory()">
                </div>
                <button class="select-btn" id="selectBtn" onclick="toggleSelectMode()" data-i18n="list.selectMode">選取</button>
            </div>
            
            <div class="empty-state" id="emptyState">
                <div class="empty-icon">
                    <svg viewBox="0 0 24 24">
                        <path d="M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2V4zm6 9l-4 5h12l-3.5-4.5-2.5 3.01L10 13zM22 11V4c0-1.1-.9-2-2-2h-7v2h7v7h2zm-2 9h-7v2h7c1.1 0 2-.9 2-2v-7h-2v7zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4v-7z"/>
                    </svg>
                </div>
                <h3 class="empty-title" data-i18n="list.empty.title">拍攝你的第一張照片</h3>
                <p class="empty-subtitle" data-i18n="list.empty.desc">開始建立你的價格卡</p>
            </div>
            
            <div class="history-section" id="historySection" style="display: none;">
                <!-- 歷史記錄會動態加入這裡 -->
            </div>
        </div>

        <!-- 結果頁面 - 修改為單獨頁面 -->
        <div class="page result-page" id="resultPage">
            <div class="result-header">
                <button class="result-back-btn" onclick="closeResult()">
                    <svg viewBox="0 0 24 24">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                </button>
                <h1 class="app-title" data-i18n="result.title">分析結果</h1>
                <button class="result-menu-btn" onclick="toggleResultMenu()">
                    <svg viewBox="0 0 24 24">
                        <circle cx="12" cy="5" r="2"/>
                        <circle cx="12" cy="12" r="2"/>
                        <circle cx="12" cy="19" r="2"/>
                    </svg>
                </button>
            </div>
            
            <div class="result-dropdown" id="resultDropdown">
                <div class="dropdown-item" onclick="reanalyzeImage()">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
                    </svg>
                    <span data-i18n="result.reanalyze">更正物品識別</span>
                </div>
                <div class="dropdown-item" onclick="editItemName()">
                    <svg viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <span data-i18n="result.editName">編輯名稱</span>
                </div>
                <div class="dropdown-item delete" onclick="deleteCurrentItem()">
                    <svg viewBox="0 0 24 24">
                        <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                    </svg>
                    <span data-i18n="result.delete">刪除</span>
                </div>
            </div>
            
            <div class="result-content" id="resultContent">
                <!-- 動態內容會插入這裡 -->
            </div>
        </div>

        <!-- 選取模式頂部工具列 -->
        <div class="select-mode-header" id="selectModeHeader">
            <span class="select-mode-title" data-i18n="list.selectItems">選擇項目</span>
            <button class="select-mode-cancel" onclick="toggleSelectMode()" data-i18n="list.cancel">取消</button>
        </div>
        <!-- 批量操作工具列 -->
        <div class="batch-toolbar" id="batchToolbar">
            <button class="batch-action-btn batch-share-btn" id="batchShareBtn" onclick="batchShare()" disabled>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
                </svg>
                <span data-i18n="list.share">分享</span>
            </button>
            <span class="batch-count" id="batchCountText">已選取 <span id="selectedCount">0</span> 個</span>
            <button class="batch-action-btn batch-delete-btn" id="batchDeleteBtn" onclick="batchDelete()" disabled>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                </svg>
                <span data-i18n="list.delete">刪除</span>
            </button>
        </div>

        <!-- 底部導航 -->
        <div class="bottom-nav" id="bottomNav">
            <div class="nav-item active" onclick="switchPage('listPage')">
                <svg viewBox="0 0 24 24">
                    <path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"/>
                </svg>
                <span data-i18n="nav.list">照片列表</span>
            </div>
            
            <div class="nav-item nav-camera">
                <div class="camera-btn" onclick="switchPage('cameraPage')">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 15a3 3 0 100-6 3 3 0 000 6z"/><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/>
                    </svg>
                </div>
            </div>
            
            <div class="nav-item" onclick="switchPage('settingsPage')">
                <svg viewBox="0 0 24 24">
                    <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
                </svg>
                <span data-i18n="nav.settings">設定</span>
            </div>
        </div>

        <!-- 編輯名稱對話框 -->
        <div class="edit-dialog" id="editDialog">
            <div class="edit-dialog-content">
                <h3 class="edit-dialog-title">編輯名稱</h3>
                <input type="text" class="edit-input" id="editNameInput" placeholder="輸入新名稱">
                <div class="edit-dialog-buttons">
                    <button class="edit-dialog-btn save" onclick="saveEditedName()">儲存</button>
                    <button class="edit-dialog-btn cancel" onclick="closeEditDialog()">取消</button>
                </div>
            </div>
        </div>

        <!-- 載入動畫 -->
        <div class="loading-overlay" id="loadingOverlay">
            <div class="loader"></div>
            <div class="loading-text" data-i18n="common.aiAnalyzing">AI 正在分析中...</div>
        </div>
        
        <!-- 聊天頁面 -->
        <div class="chat-page" id="chatPage">
            <div class="chat-header">
                <h1 class="chat-title">AI 助手</h1>
                <button class="chat-close-btn" onclick="closeChat()">
                    <svg viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>
            <div class="view-image-section" id="viewImageSection" style="display: none;">
                <button class="view-image-btn" onclick="sendMessageWithImage('請重新查看這張圖片並告訴我你看到了什麼。')">
                    <svg viewBox="0 0 24 24">
                        <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                    </svg>
                    重新查看圖片
                </button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- 對話內容會動態加入這裡 -->
            </div>
            <div class="chat-input-area">
                <div class="quick-prompts" id="quickPrompts">
                    <span class="prompt-chip" onclick="sendQuickPrompt('這個值得買嗎？')">這個值得買嗎？</span>
                    <span class="prompt-chip" onclick="sendQuickPrompt('有更便宜的替代品嗎？')">有更便宜的替代品嗎？</span>
                    <span class="prompt-chip" onclick="sendQuickPrompt('如何保養這個物品？')">如何保養這個物品？</span>
                    <span class="prompt-chip" onclick="sendQuickPrompt('這個物品的優缺點是什麼？')">優缺點分析</span>
                    <span class="prompt-chip" onclick="sendQuickPrompt('使用時要注意什麼？')">使用注意事項</span>
                </div>
                <div class="chat-input-container">
                    <textarea class="chat-input" id="chatInput" placeholder="詢問關於這個物品..." rows="1"></textarea>
                    <button class="chat-send-btn" id="chatSendBtn" onclick="sendMessage()">
                        <svg viewBox="0 0 24 24">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- 升級PRO頁面 -->
        <div class="pro-upgrade-page" id="proUpgradePage">
            <div class="pro-header">
                <button class="pro-close-btn" onclick="closeProUpgrade()">
                    <svg viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
                <h1 class="app-title" data-i18n="pro.title">升級方案</h1>
            </div>
            
            <div class="pro-content">
                <div class="pro-hero">
                    <div class="pro-logo">L</div>
                    <h2 class="pro-title">LENSY PRO</h2>
                    <p class="pro-subtitle" data-i18n="pro.subtitle">解鎖所有強大功能，讓掃描分析更專業</p>
                    <p class="trial-info" data-i18n="pro.trialInfo">3 天免費試用</p>
                </div>

                <div class="features-list">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M22 2.53L16.47 8 13 11.5l-1.5 1.5L8 16.47 2.53 22 1 20.47 6.47 15 11 10.5l1.5-1.5L16 5.47 20.47 1 22 2.53M10.94 13L2 22v-2l8.94-9L11 11l-.06 2M13 10.94L22 2h-2l-9 8.94v.12L13 13v-2.06"/>
                            </svg>
                        </div>
                        <div class="feature-text">
                            <div class="feature-title" data-i18n="pro.feature1Title">AI 智能服務</div>
                            <div class="feature-desc" data-i18n="pro.feature1Desc">更精準的物品識別與價格分析</div>
                        </div>
                    </div>

                    <div class="feature-item">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                        </div>
                        <div class="feature-text">
                            <div class="feature-title" data-i18n="pro.feature2Title">每月 1000 次掃描分析</div>
                            <div class="feature-desc" data-i18n="pro.feature2Desc">滿足你的所有掃描需求</div>
                        </div>
                    </div>

                    <div class="feature-item">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM5 17l1.41-1.41 1.38 1.38 1.42-1.42-1.38-1.38L9.24 13l-1.41-1.41-1.42 1.41 1.38 1.38L6.42 15.59 5 17zm12-2h-5v-2h5v2zm-5-4h5v2h-5z"/>
                            </svg>
                        </div>
                        <div class="feature-text">
                            <div class="feature-title" data-i18n="pro.feature3Title">去除煩人的應用程式廣告</div>
                            <div class="feature-desc" data-i18n="pro.feature3Desc">享受純淨無干擾的使用體驗</div>
                        </div>
                    </div>

                    <div class="feature-item">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M12,19L8,15H10.5V12H13.5V15H16L12,19Z"/>
                            </svg>
                        </div>
                        <div class="feature-text">
                            <div class="feature-title" data-i18n="pro.feature4Title">匯出 Excel 報告</div>
                            <div class="feature-desc" data-i18n="pro.feature4Desc">專業的數據整理與分析報告</div>
                        </div>
                    </div>

                    <div class="feature-item">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                            </svg>
                        </div>
                        <div class="feature-text">
                            <div class="feature-title" data-i18n="pro.feature5Title">多張照片批次辨識</div>
                            <div class="feature-desc" data-i18n="pro.feature5Desc">一次處理多張照片，節省時間</div>
                        </div>
                    </div>

                    <div class="feature-item">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/>
                            </svg>
                        </div>
                        <div class="feature-text">
                            <div class="feature-title" data-i18n="pro.feature6Title">自動儲存到相簿</div>
                            <div class="feature-desc" data-i18n="pro.feature6Desc">掃描結果自動備份不遺失</div>
                        </div>
                    </div>
                </div>

                <div class="pricing-section">
                    <div class="pricing-container">
                        <div class="pricing-card popular" id="yearlyPlan" onclick="selectPlan('yearly')">
                            <div class="discount-badge" data-i18n="pro.discountBadge">省34%</div>
                            <div class="pricing-radio"></div>
                            <div class="pricing-title" data-i18n="pro.yearlyPlan">年繳方案</div>
                            <div class="pricing-price">$99</div>
                            <div class="pricing-note" data-i18n="pro.perMonth">每月</div>
                            <div class="pricing-period"><span data-i18n="pro.yearlyTotal">$1,188/年</span></div>
                        </div>

                        <div class="pricing-card" id="monthlyPlan" onclick="selectPlan('monthly')">
                            <div class="pricing-radio"></div>
                            <div class="pricing-title" data-i18n="pro.monthlyPlan">月繳方案</div>
                            <div class="pricing-price">$150</div>
                            <div class="pricing-note" data-i18n="pro.perMonth">每月</div>
                            <div class="pricing-period" data-i18n="pro.monthlyBilling">按月計費</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bottom-section">
                <button class="subscribe-btn" onclick="startFreeTrial()">
                    <span data-i18n="pro.startFreeTrial">開始免費試用</span>
                </button>
                <div class="terms-links">
                    <a href="#" onclick="showTerms('usage'); return false;" data-i18n="pro.termsOfUse">使用條款</a>
                    <a href="#" onclick="showTerms('privacy'); return false;" data-i18n="pro.privacyPolicy">隱私政策</a>
                    <a href="#" onclick="showTerms('subscription'); return false;" data-i18n="pro.subscriptionTerms">訂閱條款</a>
                    <a href="#" onclick="restorePurchase(); return false;" data-i18n="pro.restorePurchase">恢復購買</a>
                </div>
            </div>
        </div>
        
        <!-- 登入/註冊頁面 -->
        <div class="auth-page" id="authPage">
            <div class="auth-header">
                <button class="auth-close-btn" onclick="closeAuth()">
                    <svg viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>
            
            <div class="auth-content">
                <h1 class="auth-logo">LENSY</h1>
                <p class="auth-subtitle" data-i18n="auth.subtitle">萬物價格掃描器</p>
                
                <form class="auth-form" id="authForm" onsubmit="handleAuth(event)">
                    <div class="form-group">
                        <label class="form-label" data-i18n="auth.emailLabel">電子郵件地址</label>
                        <input type="email" class="form-input" id="emailInput" placeholder="輸入您的電子郵件" data-i18n-placeholder="auth.emailPlaceholder" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" data-i18n="auth.passwordLabel">密碼</label>
                        <div class="form-input-wrapper">
                            <input type="password" class="form-input" id="passwordInput" placeholder="輸入您的密碼" data-i18n-placeholder="auth.passwordPlaceholder" required>
                            <button type="button" class="password-toggle" onclick="togglePassword()">
                                <svg viewBox="0 0 24 24" id="eyeIcon">
                                    <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <a href="#" class="forgot-password" onclick="handleForgotPassword()" data-i18n="auth.forgotPassword">忘記密碼？</a>
                    
                    <button type="submit" class="auth-button" id="authButton" data-i18n="auth.loginButton">登入</button>
                    
                    <div class="auth-switch" id="authSwitch">
                        <span data-i18n="auth.noAccount">尚未註冊帳號？</span> <a href="#" onclick="toggleAuthMode()" data-i18n="auth.registerLink">註冊</a>
                    </div>
                </form>
                
                <div class="divider">
                    <span data-i18n="auth.or">或</span>
                </div>
                
                <div class="social-login">
                    <button class="social-button apple-button" onclick="handleAppleLogin()">
                        <svg viewBox="0 0 24 24" fill="white">
                            <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
                        </svg>
                        <span data-i18n="auth.signInWithApple">使用 Apple 登入</span>
                    </button>
                    
                    <button class="social-button google-button" onclick="handleGoogleLogin()">
                        <svg viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        <span data-i18n="auth.signInWithGoogle">使用 Google 登入</span>
                    </button>
                </div>
                
                <p class="terms-text">
                    加入 LENSY，即表示您已閱讀並同意我們的<br>
                    <a href="#" onclick="showTerms('usage')">使用條款</a> 和 <a href="#" onclick="showTerms('privacy')">隱私政策</a> 之所有內容。
                </p>
            </div>
        </div>
        
        <!-- AI上傳頁面 -->
        <div class="ai-upload-page" id="aiUploadPage">
            <div class="ai-upload-header">
                <button class="ai-upload-close-btn" onclick="closeAIUpload()">
                    <svg viewBox="0 0 24 24">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                </button>
                <h1 class="ai-upload-title" data-i18n="ai.title">AI智能服務</h1>
            </div>
            
            <div class="ai-upload-content">
                <div class="upload-box">
                    <div class="upload-icon-container" onclick="document.getElementById('aiFileInput').click()">
                        <svg viewBox="0 0 24 24">
                            <path d="M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z"/>
                        </svg>
                    </div>
                    <h2 class="upload-text" data-i18n="ai.uploadText">上傳照片與AI開始對談</h2>
                    <p class="upload-subtext" data-i18n="ai.uploadSubtext">點擊上方圖示選擇照片<br>開始智能對話分析</p>
                    
                    <div class="upload-tips">
                        <div class="upload-tips-title" data-i18n="ai.tips.title">💡 使用提示</div>
                        <div class="upload-tips-content" data-i18n="ai.tips.content">
                        • 選擇一張清晰的照片<br>
                        • AI會深度分析照片內容<br>
                        • 提供個性化的見解與建議
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 語言選擇頁面 -->
        <div class="language-selector-page" id="languageSelectorPage">
            <div class="language-header">
                <button class="language-close-btn" onclick="closeLanguageSelector()">
                    <svg viewBox="0 0 24 24">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                </button>
                <h1 class="language-title" data-i18n="language.title">選擇語言</h1>
            </div>
            
            <div class="language-content">
                <!-- 常用語言 -->
                <div class="language-section">
                    <h3 class="language-section-title" data-i18n="language.common">常用</h3>
                    <div class="language-list">
                        <div class="language-item" onclick="changeLanguage('zh-TW')">
                            <span class="language-name">繁體中文</span>
                            <span class="language-check" data-lang="zh-TW">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('zh-CN')">
                            <span class="language-name">简体中文</span>
                            <span class="language-check" data-lang="zh-CN">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('en')">
                            <span class="language-name">English</span>
                            <span class="language-check" data-lang="en">✓</span>
                        </div>
                    </div>
                </div>
                
                <!-- 亞洲語言 -->
                <div class="language-section">
                    <h3 class="language-section-title" data-i18n="language.asia">亞洲</h3>
                    <div class="language-list">
                        <div class="language-item" onclick="changeLanguage('ja')">
                            <span class="language-name">日本語</span>
                            <span class="language-check" data-lang="ja">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('ko')">
                            <span class="language-name">한국어</span>
                            <span class="language-check" data-lang="ko">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('th')">
                            <span class="language-name">ภาษาไทย</span>
                            <span class="language-check" data-lang="th">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('vi')">
                            <span class="language-name">Tiếng Việt</span>
                            <span class="language-check" data-lang="vi">✓</span>
                        </div>
                    </div>
                </div>
                
                <!-- 歐洲語言 -->
                <div class="language-section">
                    <h3 class="language-section-title" data-i18n="language.europe">歐洲</h3>
                    <div class="language-list">
                        <div class="language-item" onclick="changeLanguage('es')">
                            <span class="language-name">Español</span>
                            <span class="language-check" data-lang="es">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('fr')">
                            <span class="language-name">Français</span>
                            <span class="language-check" data-lang="fr">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('de')">
                            <span class="language-name">Deutsch</span>
                            <span class="language-check" data-lang="de">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('it')">
                            <span class="language-name">Italiano</span>
                            <span class="language-check" data-lang="it">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('pt')">
                            <span class="language-name">Português</span>
                            <span class="language-check" data-lang="pt">✓</span>
                        </div>
                    </div>
                </div>
                
                <!-- 其他語言 -->
                <div class="language-section">
                    <h3 class="language-section-title" data-i18n="language.other">其他</h3>
                    <div class="language-list">
                        <div class="language-item" onclick="changeLanguage('ar')">
                            <span class="language-name">العربية</span>
                            <span class="language-check" data-lang="ar">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('tr')">
                            <span class="language-name">Türkçe</span>
                            <span class="language-check" data-lang="tr">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('ru')">
                            <span class="language-name">Русский</span>
                            <span class="language-check" data-lang="ru">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('id')">
                            <span class="language-name">Bahasa Indonesia</span>
                            <span class="language-check" data-lang="id">✓</span>
                        </div>
                        <div class="language-item" onclick="changeLanguage('tl')">
                            <span class="language-name">Filipino</span>
                            <span class="language-check" data-lang="tl">✓</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 忘記密碼頁面 -->
        <div class="forgot-password-page" id="forgotPasswordPage">
            <div class="forgot-header">
                <button class="forgot-back-btn" onclick="closeForgotPassword()">
                    <svg viewBox="0 0 24 24">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                </button>
                <h1 class="forgot-title" data-i18n="forgot.title">忘記密碼</h1>
            </div>
            
            <div class="forgot-content">
                <div class="forgot-icon">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                    </svg>
                </div>
                
                <p class="forgot-description">
                    <span data-i18n="forgot.description">請輸入您註冊時使用的電子郵件地址<br>我們將發送密碼重設連結給您</span>
                </p>
                
                <form class="forgot-form" onsubmit="handlePasswordReset(event)">
                    <div class="form-group">
                        <label class="form-label" data-i18n="forgot.emailLabel">電子郵件地址</label>
                        <input type="email" class="form-input" id="resetEmailInput" placeholder="輸入您的電子郵件" data-i18n-placeholder="forgot.emailPlaceholder" required>
                    </div>
                    
                    <button type="submit" class="forgot-button" data-i18n="forgot.continueButton">繼續</button>
                </form>
            </div>
        </div>
        
        <!-- 成功訊息對話框 -->
        <div class="success-dialog" id="successDialog">
            <div class="success-content">
                <div class="success-icon">
                    <svg viewBox="0 0 24 24">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                    </svg>
                </div>
                <h2 class="success-title" data-i18n="success.emailSent">郵件已發送！</h2>
                <p class="success-message">
                    <span data-i18n="success.resetMessage">密碼重設連結已發送至您的信箱<br>請查看郵件並點擊連結重設密碼<br><br>如未收到郵件，請檢查垃圾郵件資料夾</span>
                </p>
                <button class="success-button" onclick="closeSuccessDialog()" data-i18n="success.confirmButton">確定</button>
            </div>
        </div>
        
        <!-- 隱藏的文件輸入 -->
        <input type="file" id="fileInput" accept="image/*" onchange="handleFileSelect(event)">
        <input type="file" id="multiFileInput" accept="image/*" multiple onchange="handleMultiFileSelect(event)" style="display: none;">
        <input type="file" id="aiFileInput" accept="image/*" onchange="handleAIFileSelect(event)" style="display: none;">
    </div>

    <script>
        // 全域變數
        let stream = null;
        let capturedImage = null;
        let currentAnalysisData = null;
        let flashMode = 'off';
        let currentChatItemId = null;
        let isSelectMode = false;
        let selectedItems = new Set();
        let currentHistoryItem = null;
        let selectedPricingPlan = 'yearly'; // 預設選擇年繳方案
        
        // 價格配置
        const PRICING = {
            monthly: 150,
            yearly: 1188  // 99 * 12
        };
        
        // 價格格式化函數 - 統一所有價格顯示
        function formatPrice(price) {
            // 如果已經有 $ 符號，先移除
            let priceString = price.toString().replace(/[$,]/g, '');
            
            // 嘗試解析數字
            let numericPrice = parseFloat(priceString);
            
            // 如果不是有效數字，返回原始值
            if (isNaN(numericPrice)) {
                return price;
            }
            
            // 格式化為整數，加上千位分隔符
            let formattedPrice = Math.round(numericPrice).toLocaleString('zh-TW');
            
            // 加上 $ 符號
            return '$' + formattedPrice;
        }
        
        // 計算折扣百分比
        function calculateDiscount() {
            const monthlyYearTotal = PRICING.monthly * 12;
            const yearlyTotal = PRICING.yearly;
            const discount = ((monthlyYearTotal - yearlyTotal) / monthlyYearTotal * 100).toFixed(0);
            return discount;
        }
        
        // DOM 元素
        const pages = {
            settingsPage: document.getElementById('settingsPage'),
            cameraPage: document.getElementById('cameraPage'),
            listPage: document.getElementById('listPage'),
            resultPage: document.getElementById('resultPage')  // 新增結果頁面
        };
        
        const bottomNav = document.getElementById('bottomNav');
        const chatPage = document.getElementById('chatPage');
        const proUpgradePage = document.getElementById('proUpgradePage');
        const aiUploadPage = document.getElementById('aiUploadPage');
        const authPage = document.getElementById('authPage');
        const forgotPasswordPage = document.getElementById('forgotPasswordPage');
        
        // 全域變數儲存當前模式
        let isLoginMode = true;
        
        // 初始化應用
        window.addEventListener('load', () => {
            // 檢查並顯示歷史記錄
            displayHistory();
            // 設定拍照按鈕長按功能
            // 預設選擇年繳方案
            selectPlan('yearly');
            // 更新折扣顯示
            updateDiscountBadge();
        });
        
        // 更新折扣標籤
        function updateDiscountBadge() {
            const discountBadge = document.querySelector('.discount-badge');
            if (discountBadge) {
                const discount = calculateDiscount();
                const lang = getCurrentLanguage();
                
                // 根據語言設定折扣文字格式
                let discountText;
                switch(lang) {
                    case 'en':
                        discountText = `Save ${discount}%`;
                        break;
                    case 'ja':
                        discountText = `${discount}%割引`;
                        break;
                    case 'ko':
                        discountText = `${discount}% 할인`;
                        break;
                    default:
                        discountText = `省${discount}%`;
                }
                
                discountBadge.textContent = discountText;
            }
        }
        
        // 打開升級PRO頁面
        function openProUpgrade() {
            proUpgradePage.classList.add('active');
            // 更新價格顯示和折扣
            updatePricingDisplay();
        }
        
        // 更新價格顯示
        function updatePricingDisplay() {
            // 更新折扣標籤
            updateDiscountBadge();
            
            // 更新年繳月均價
            const yearlyMonthlyPrice = Math.round(PRICING.yearly / 12);
            const yearlyPriceElement = document.querySelector('#yearlyPlan .pricing-price');
            if (yearlyPriceElement) {
                yearlyPriceElement.textContent = formatPrice(yearlyMonthlyPrice);
            }
            
            // 更新年繳總價
            const yearlyPeriodElement = document.querySelector('#yearlyPlan .pricing-period span[data-i18n="pro.yearlyTotal"]');
            if (yearlyPeriodElement) {
                const lang = getCurrentLanguage();
                let yearText;
                switch(lang) {
                    case 'en':
                        yearText = `${formatPrice(PRICING.yearly)}/year`;
                        break;
                    case 'ja':
                        yearText = `${formatPrice(PRICING.yearly)}/年`;
                        break;
                    case 'ko':
                        yearText = `${formatPrice(PRICING.yearly)}/년`;
                        break;
                    default:
                        yearText = `${formatPrice(PRICING.yearly)}/年`;
                }
                yearlyPeriodElement.textContent = yearText;
            }
            
            // 更新月繳價格
            const monthlyPriceElement = document.querySelector('#monthlyPlan .pricing-price');
            if (monthlyPriceElement) {
                monthlyPriceElement.textContent = formatPrice(PRICING.monthly);
            }
        }
        
        // 關閉升級PRO頁面
        function closeProUpgrade() {
            proUpgradePage.classList.remove('active');
        }
        
        // 選擇方案
        function selectPlan(plan) {
            selectedPricingPlan = plan;
            
            // 移除所有選中狀態
            document.querySelectorAll('.pricing-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // 添加選中狀態
            if (plan === 'yearly') {
                document.getElementById('yearlyPlan').classList.add('selected');
            } else {
                document.getElementById('monthlyPlan').classList.add('selected');
            }
        }
        
        // 開始免費試用
        function startFreeTrial() {
            const yearlyYearTotal = formatPrice(PRICING.yearly);
            const monthlyTotal = formatPrice(PRICING.monthly);
            const yearlyMonthly = formatPrice(Math.round(PRICING.yearly / 12));
            
            const planText = selectedPricingPlan === 'yearly' 
                ? `年繳方案（${yearlyYearTotal}/年，平均每月 ${yearlyMonthly}）` 
                : `月繳方案（${monthlyTotal}/月）`;
                
            alert(`即將開始 3 天免費試用\n\n您選擇的是：${planText}\n\n試用期結束後將自動扣款\n\n此功能尚在開發中，敬請期待！`);
            
            // 這裡可以加入實際的訂閱邏輯
            // 例如：調用支付 API、記錄用戶訂閱狀態等
            
            closeProUpgrade();
        }
        
        // 顯示條款
        function showTerms(type) {
            const termsMap = {
                'usage': '使用條款',
                'privacy': '隱私政策',
                'subscription': '訂閱條款'
            };
            
            alert(`${termsMap[type]}功能即將推出！`);
        }
        
        // 恢復購買
        function restorePurchase() {
            alert('恢復購買功能即將推出！\n\n如果您之前已經購買過，將可以在此恢復您的訂閱。');
        }
        
        // 處理登入/註冊
        function handleLogin() {
            authPage.classList.add('active');
        }
        
        // 關閉認證頁面
        function closeAuth() {
            authPage.classList.remove('active');
        }
        
        // 切換密碼顯示
        function togglePassword() {
            const passwordInput = document.getElementById('passwordInput');
            const eyeIcon = document.getElementById('eyeIcon');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                eyeIcon.innerHTML = '<path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/>';
            } else {
                passwordInput.type = 'password';
                eyeIcon.innerHTML = '<path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>';
            }
        }
        
        // 切換登入/註冊模式
        function toggleAuthMode() {
            isLoginMode = !isLoginMode;
            const authButton = document.getElementById('authButton');
            const authSwitch = document.getElementById('authSwitch');
            
            if (isLoginMode) {
                authButton.setAttribute('data-i18n', 'auth.loginButton');
                authButton.textContent = t('auth.loginButton');
                authSwitch.innerHTML = `<span data-i18n="auth.noAccount">${t('auth.noAccount')}</span> <a href="#" onclick="toggleAuthMode()" data-i18n="auth.registerLink">${t('auth.registerLink')}</a>`;
            } else {
                authButton.setAttribute('data-i18n', 'auth.registerButton');
                authButton.textContent = t('auth.registerButton');
                authSwitch.innerHTML = `<span data-i18n="auth.hasAccount">${t('auth.hasAccount')}</span> <a href="#" onclick="toggleAuthMode()" data-i18n="auth.loginLink">${t('auth.loginLink')}</a>`;
            }
        }
        
        // 處理認證表單提交
        function handleAuth(event) {
            event.preventDefault();
            const email = document.getElementById('emailInput').value;
            const password = document.getElementById('passwordInput').value;
            
            if (isLoginMode) {
                // 登入邏輯
                alert(`登入功能開發中！\n\n電子郵件：${email}`);
            } else {
                // 註冊邏輯
                alert(`註冊功能開發中！\n\n電子郵件：${email}\n\n註冊成功後將自動登入。`);
            }
        }
        
        // 處理忘記密碼
        function handleForgotPassword() {
            // 顯示忘記密碼頁面
            forgotPasswordPage.classList.add('active');
            
            // 如果有輸入的 email，自動填入
            const email = document.getElementById('emailInput').value;
            if (email) {
                document.getElementById('resetEmailInput').value = email;
            }
        }
        
        // 關閉忘記密碼頁面
        function closeForgotPassword() {
            forgotPasswordPage.classList.remove('active');
        }
        
        // 處理密碼重設
        function handlePasswordReset(event) {
            event.preventDefault();
            const email = document.getElementById('resetEmailInput').value;
            
            // 模擬發送郵件
            setTimeout(() => {
                // 關閉忘記密碼頁面
                closeForgotPassword();
                
                // 顯示成功訊息
                document.getElementById('successDialog').classList.add('active');
            }, 500);
        }
        
        // 關閉成功對話框
        function closeSuccessDialog() {
            document.getElementById('successDialog').classList.remove('active');
            // 關閉所有認證相關頁面
            closeAuth();
        }
        
        // 處理 Apple 登入
        function handleAppleLogin() {
            alert('Apple 登入功能開發中！\n\n將使用 Apple ID 快速登入。');
        }
        
        // 處理 Google 登入
        function handleGoogleLogin() {
            alert('Google 登入功能開發中！\n\n將使用 Google 帳號快速登入。');
        }
        
        // 顯示輔助說明
        function showHelp() {
            alert('輔助說明\n\n歡迎使用 LENSY！\n\n基本操作：\n• 點擊相機按鈕開始掃描\n• 對準物品拍照即可識別價格\n• 可從相簿選擇照片進行識別\n\n如需更多協助，請聯絡我們。');
        }
        
        // 顯示APP資訊
        function showAppInfo() {
            alert('LENSY - 萬物價格掃描器\n\n版本：1.0.0\n開發者：LENSY Team\n\n使用 AI 技術，精準識別物品並估算價格。\n\n© 2024 LENSY. All rights reserved.');
        }
        
        // 評價APP
        function rateApp() {
            // 如果是 iOS
            if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                alert('即將跳轉到 App Store...\n\n感謝您的支持！您的評價對我們非常重要。');
                // window.location.href = 'https://apps.apple.com/app/idXXXXXXXXX';
            } 
            // 如果是 Android
            else if (/Android/i.test(navigator.userAgent)) {
                alert('即將跳轉到 Google Play...\n\n感謝您的支持！您的評價對我們非常重要。');
                // window.location.href = 'https://play.google.com/store/apps/details?id=com.lensy.scanner';
            }
            // 網頁版
            else {
                alert('感謝您的支持！\n\n網頁版暫時無法評價，請在手機 App 中進行評價。');
            }
        }
        
        // 分享APP
        async function shareApp() {
            const shareData = {
                title: 'LENSY - 萬物價格掃描器',
                text: '推薦你一個超棒的 APP！\n\nLENSY 可以：\n• 拍照識別任何物品\n• AI 智能估算價格\n• 提供購買建議\n\n快來試試看吧！',
                url: 'https://lynn800741.github.io/price-scanner-app/'
            };
            
            try {
                if (navigator.share) {
                    await navigator.share(shareData);
                } else {
                    // 如果不支援原生分享，複製連結
                    const shareText = `${shareData.text}\n\n下載連結：${shareData.url}`;
                    await navigator.clipboard.writeText(shareText);
                    alert('分享連結已複製到剪貼板！\n\n快去分享給朋友吧～');
                }
            } catch (error) {
                if (error.name !== 'AbortError') {
                    console.error('分享失敗:', error);
                    alert('分享失敗，請稍後再試');
                }
            }
        }
        
        // 打開AI上傳頁面
        function openAIUpload() {
            const aiUploadPage = document.getElementById('aiUploadPage');
            aiUploadPage.classList.add('active');
        }
        
        // 關閉AI上傳頁面
        function closeAIUpload() {
            const aiUploadPage = document.getElementById('aiUploadPage');
            aiUploadPage.style.animation = 'fadeOut 0.3s ease forwards';
            setTimeout(() => {
                aiUploadPage.classList.remove('active');
                aiUploadPage.style.animation = '';
            }, 300);
        }
        
        // 處理AI檔案選擇
        async function handleAIFileSelect(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // 檢查檔案類型
            if (!file.type.startsWith('image/')) {
                alert('請選擇圖片檔案');
                return;
            }
            
            // 顯示分析動畫
            showAIAnalyzing();
            
            try {
                // 讀取圖片
                const imageDataUrl = await readFileAsDataURL(file);
                
                // 調整圖片大小
                const resizedImage = await resizeImage(imageDataUrl, 800, 800);
                
                // 準備 FormData
                const blob = await dataURLtoBlob(resizedImage);
                const formData = new FormData();
                formData.append('image', blob, 'ai_image.jpg');
                
                // 呼叫 API
                const API_URL = 'https://price-scanner-backend.vercel.app/api/analyze';
                const response = await fetch(API_URL, {
                    method: 'POST',
                    body: formData
                });
                
                if (response.ok) {
                    const result = await response.json();
                    if (result.success && result.data) {
                        // 儲存分析結果
                        capturedImage = resizedImage;
                        currentAnalysisData = result.data;
                        saveToHistory(result.data);
                        
                        // 延遲一下讓動畫更自然
                        setTimeout(() => {
                            // 隱藏分析動畫
                            hideAIAnalyzing();
                            
                            // 優雅地關閉AI上傳頁面
                            closeAIUpload();
                            
                            // 等待關閉動畫完成後打開聊天
                            setTimeout(() => {
                                openChat();
                            }, 300);
                        }, 1000);
                    } else {
                        throw new Error('分析失敗');
                    }
                } else {
                    throw new Error('API 請求失敗');
                }
            } catch (error) {
                console.error('AI分析錯誤:', error);
                hideAIAnalyzing();
                alert('AI分析失敗，請稍後再試');
            }
            
            // 清除輸入值
            event.target.value = '';
        }
        
        // 顯示AI分析動畫
        function showAIAnalyzing() {
            // 創建分析遮罩
            const analyzeOverlay = document.createElement('div');
            analyzeOverlay.id = 'aiAnalyzeOverlay';
            analyzeOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.9);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 5000;
                animation: fadeIn 0.3s ease;
            `;
            
            analyzeOverlay.innerHTML = `
                <div style="width: 80px; height: 80px; margin-bottom: 30px;">
                    <svg viewBox="0 0 100 100" style="width: 100%; height: 100%;">
                        <circle cx="50" cy="50" r="35" stroke="#FF6B35" stroke-width="8" fill="none" 
                                stroke-dasharray="220" stroke-dashoffset="0"
                                style="animation: dashRotate 2s linear infinite;">
                        </circle>
                        <circle cx="50" cy="50" r="25" stroke="#FF8A65" stroke-width="6" fill="none" 
                                stroke-dasharray="157" stroke-dashoffset="0"
                                style="animation: dashRotateReverse 1.5s linear infinite;">
                        </circle>
                    </svg>
                </div>
                <div style="color: white; font-size: 20px; font-weight: 600; margin-bottom: 10px;">
                    ${t('common.aiAnalyzingTitle')}
                </div>
                <div style="color: rgba(255, 255, 255, 0.7); font-size: 16px;">
                    ${t('common.aiAnalyzingDesc')}
                </div>
                <style>
                    @keyframes dashRotate {
                        from { transform: rotate(0deg); }
                        to { transform: rotate(360deg); }
                    }
                    @keyframes dashRotateReverse {
                        from { transform: rotate(0deg); }
                        to { transform: rotate(-360deg); }
                    }
                </style>
            `;
            
            document.body.appendChild(analyzeOverlay);
        }
        
        // 隱藏AI分析動畫
        function hideAIAnalyzing() {
            const analyzeOverlay = document.getElementById('aiAnalyzeOverlay');
            if (analyzeOverlay) {
                analyzeOverlay.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => {
                    analyzeOverlay.remove();
                }, 300);
            }
        }
        
        // 回到首頁（照片列表頁）
        function goToHome() {
            switchPage('listPage');
        }
        
        // 切換頁面
        function switchPage(pageId) {
            // 隱藏所有頁面
            Object.values(pages).forEach(page => {
                page.classList.remove('active');
            });
            
            // 顯示目標頁面
            if (pages[pageId]) {
                pages[pageId].classList.add('active');
                
                // 更新底部導航
                updateBottomNav(pageId);
                
                // 如果切換到相機頁面，啟動相機並隱藏底部導航
                if (pageId === 'cameraPage') {
                    initCamera();
                    bottomNav.classList.add('hidden');
                } else if (pageId === 'resultPage') {
                    // 結果頁面也隱藏底部導航
                    bottomNav.classList.add('hidden');
                } else {
                    // 關閉相機並顯示底部導航
                    stopCamera();
                    bottomNav.classList.remove('hidden');
                }
                
                // 如果切換到列表頁，更新歷史記錄
                if (pageId === 'listPage') {
                    displayHistory();
                }
            }
        }
        
        // 更新底部導航狀態
        function updateBottomNav(activePageId) {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
            });
            
            // 根據頁面設定對應的導航項目
            if (activePageId === 'listPage') {
                navItems[0].classList.add('active');
            } else if (activePageId === 'settingsPage') {
                navItems[2].classList.add('active');
            }
        }
        
        // 初始化相機
        async function initCamera() {
            try {
                const cameraFeed = document.getElementById('cameraFeed');
                const constraints = {
                    video: {
                        facingMode: 'environment',
                        width: { ideal: 1920 },
                        height: { ideal: 1080 }
                    }
                };
                
                // 如果支援，加入閃光燈設定
                if ('torch' in navigator.mediaDevices.getSupportedConstraints()) {
                    constraints.video.torch = flashMode === 'on';
                }
                
                stream = await navigator.mediaDevices.getUserMedia(constraints);
                cameraFeed.srcObject = stream;
            } catch (error) {
                console.error('無法存取相機:', error);
                alert('請允許相機權限以使用此應用程式');
                switchPage('listPage');
            }
        }
        
        // 停止相機
        function stopCamera() {
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
                stream = null;
            }
        }
        
        // 切換閃光燈
        async function toggleFlash() {
            if (!stream) return;
            
            try {
                const track = stream.getVideoTracks()[0];
                const capabilities = track.getCapabilities();
                
                if (!capabilities.torch) {
                    alert('此裝置不支援閃光燈功能');
                    return;
                }
                
                flashMode = flashMode === 'off' ? 'on' : 'off';
                await track.applyConstraints({
                    advanced: [{ torch: flashMode === 'on' }]
                });
                
                // 更新圖標狀態（可選）
                const flashBtn = document.querySelector('.control-btn:last-child svg');
                flashBtn.style.fill = flashMode === 'on' ? '#FFD700' : '#fff';
            } catch (error) {
                console.error('閃光燈控制失敗:', error);
                alert('無法控制閃光燈');
            }
        }
        
        // 打開批次分析（從設定頁面）
        function openBatchAnalysis() {
            document.getElementById('multiFileInput').click();
        }
        
        // 處理選擇的檔案
        async function handleFileSelect(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // 檢查檔案類型
            if (!file.type.startsWith('image/')) {
                alert('請選擇圖片檔案');
                return;
            }
            
            // 讀取並顯示圖片
            const reader = new FileReader();
            reader.onload = async function(e) {
                capturedImage = e.target.result;
                
                // 建立圖片元素來調整大小
                const img = new Image();
                img.onload = async function() {
                    const photoCanvas = document.getElementById('photoCanvas');
                    const context = photoCanvas.getContext('2d');
                    
                    // 調整大小
                    const maxWidth = 800;
                    const maxHeight = 800;
                    let width = img.width;
                    let height = img.height;
                    
                    if (width > maxWidth || height > maxHeight) {
                        const ratio = Math.min(maxWidth / width, maxHeight / height);
                        width *= ratio;
                        height *= ratio;
                    }
                    
                    photoCanvas.width = width;
                    photoCanvas.height = height;
                    context.drawImage(img, 0, 0, width, height);
                    
                    // 更新 capturedImage 為調整後的圖片
                    capturedImage = photoCanvas.toDataURL('image/jpeg', 0.7);
                    
                    // 分析圖片
                    analyzeImage();
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
            
            // 清除輸入值，允許重複選擇同一檔案
            event.target.value = '';
        }
        
        // 處理多個檔案選擇
        async function handleMultiFileSelect(event) {
            const files = Array.from(event.target.files);
            if (files.length === 0) return;
            
            // 檢查檔案數量
            if (files.length > 10) {
                alert('一次最多只能分析 10 張圖片');
                return;
            }
            
            // 檢查檔案類型
            const imageFiles = files.filter(file => file.type.startsWith('image/'));
            if (imageFiles.length !== files.length) {
                alert('請只選擇圖片檔案');
                return;
            }
            
            // 顯示批次分析進度
            const loadingOverlay = document.getElementById('loadingOverlay');
            const loadingText = loadingOverlay.querySelector('.loading-text');
            loadingOverlay.classList.add('active');
            
            let successCount = 0;
            const results = [];
            
            // 逐一分析圖片
            for (let i = 0; i < imageFiles.length; i++) {
                const file = imageFiles[i];
                loadingText.textContent = t('common.batchAnalyzing').replace('{current}', i + 1).replace('{total}', imageFiles.length);
                
                try {
                    // 讀取圖片
                    const imageDataUrl = await readFileAsDataURL(file);
                    
                    // 調整圖片大小
                    const resizedImage = await resizeImage(imageDataUrl, 800, 800);
                    
                    // 準備 FormData
                    const blob = await dataURLtoBlob(resizedImage);
                    const formData = new FormData();
                    formData.append('image', blob, `image${i}.jpg`);
                    
                    // 呼叫 API
                    const API_URL = 'https://price-scanner-backend.vercel.app/api/analyze';
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        body: formData
                    });
                    
                    if (response.ok) {
                        const result = await response.json();
                        if (result.success && result.data) {
                            successCount++;
                            
                            // 儲存到歷史記錄
                            capturedImage = resizedImage;
                            currentAnalysisData = result.data;
                            saveToHistory(result.data);
                            
                            results.push({
                                image: resizedImage,
                                data: result.data,
                                timestamp: new Date().toISOString()
                            });
                        }
                    }
                } catch (error) {
                    console.error(`分析第 ${i + 1} 張圖片失敗:`, error);
                }
            }
            
            // 隱藏載入動畫
            loadingOverlay.classList.remove('active');
            loadingText.textContent = t('common.aiAnalyzing');
            
            // 顯示結果
            if (successCount > 0) {
                alert(`批次分析完成！\n成功：${successCount} 張\n失敗：${imageFiles.length - successCount} 張`);
                
                // 切換到列表頁面並重新載入
                switchPage('listPage');
                displayHistory();
            } else {
                alert('批次分析失敗，請稍後再試');
            }
            
            // 清除輸入值
            event.target.value = '';
        }
        
        // 讀取檔案為 DataURL
        function readFileAsDataURL(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = e => resolve(e.target.result);
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }
        
        // 調整圖片大小
        function resizeImage(dataUrl, maxWidth, maxHeight) {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = function() {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    
                    let width = img.width;
                    let height = img.height;
                    
                    if (width > maxWidth || height > maxHeight) {
                        const ratio = Math.min(maxWidth / width, maxHeight / height);
                        width *= ratio;
                        height *= ratio;
                    }
                    
                    canvas.width = width;
                    canvas.height = height;
                    ctx.drawImage(img, 0, 0, width, height);
                    
                    resolve(canvas.toDataURL('image/jpeg', 0.7));
                };
                img.src = dataUrl;
            });
        }
        
        // DataURL 轉 Blob
        function dataURLtoBlob(dataURL) {
            const arr = dataURL.split(',');
            const mime = arr[0].match(/:(.*?);/)[1];
            const bstr = atob(arr[1]);
            let n = bstr.length;
            const u8arr = new Uint8Array(n);
            while (n--) {
                u8arr[n] = bstr.charCodeAt(n);
            }
            return new Blob([u8arr], { type: mime });
        }
        
        // 打開匯出對話框
        function openExportDialog() {
            const history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            const lang = getCurrentLanguage();
            
            if (history.length === 0) {
                alert(i18n[lang]?.['export.noData'] || i18n['zh-TW']['export.noData']);
                return;
            }
            
            // 建立選擇對話框
            const dialog = document.createElement('div');
            dialog.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.8);
                z-index: 4000;
                display: flex;
                align-items: center;
                justify-content: center;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: white;
                border-radius: 20px;
                width: 90%;
                max-width: 400px;
                max-height: 80vh;
                display: flex;
                flex-direction: column;
                overflow: hidden;
            `;
            
            content.innerHTML = `
                <div style="padding: 20px; border-bottom: 1px solid #eee;">
                    <h2 style="margin: 0; font-size: 20px;">${i18n[lang]?.['export.selectPhotos'] || i18n['zh-TW']['export.selectPhotos']}</h2>
                </div>
                
                <div style="padding: 15px 20px; background: #f9f9f9; border-bottom: 1px solid #eee;">
                    <label style="display: flex; align-items: center;">
                        <input type="checkbox" id="selectAll" onchange="toggleSelectAll()" style="margin-right: 10px;">
                        <span style="font-weight: 600;">${i18n[lang]?.['export.selectAll'] || i18n['zh-TW']['export.selectAll']}</span>
                    </label>
                </div>
                
                <div id="exportList" style="flex: 1; overflow-y: auto; padding: 15px;">
                    ${history.map((item, index) => `
                        <label style="display: flex; align-items: center; margin-bottom: 10px; padding: 10px; background: #f5f5f5; border-radius: 10px;">
                            <input type="checkbox" class="export-item" value="${index}" style="margin-right: 10px;">
                            <img src="${item.image}" style="width: 40px; height: 40px; object-fit: cover; border-radius: 5px; margin-right: 10px;">
                            <div style="flex: 1;">
                                <div style="font-weight: 600;">${item.name}</div>
                                <div style="font-size: 12px; color: #666;">${formatPrice(item.price)}</div>
                            </div>
                        </label>
                    `).join('')}
                </div>
                
                <div style="padding: 15px 20px; border-top: 1px solid #eee; background: #fff;">
                    <div style="display: flex; gap: 10px;">
                        <button onclick="exportToExcel()" style="flex: 1; padding: 12px; background: #4CAF50; color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600;">
                            ${i18n[lang]?.['export.exportButton'] || i18n['zh-TW']['export.exportButton']}
                        </button>
                        <button onclick="closeExportDialog()" style="flex: 1; padding: 12px; background: #666; color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600;">
                            ${i18n[lang]?.['export.cancelButton'] || i18n['zh-TW']['export.cancelButton']}
                        </button>
                    </div>
                </div>
            `;
            
            dialog.appendChild(content);
            document.body.appendChild(dialog);
            
            // 保存對話框參考
            window.currentExportDialog = dialog;
        }
        
        // 全選/取消全選
        window.toggleSelectAll = function() {
            const selectAll = document.getElementById('selectAll');
            const checkboxes = document.querySelectorAll('.export-item');
            checkboxes.forEach(cb => cb.checked = selectAll.checked);
        };
        
        // 關閉匯出對話框
        window.closeExportDialog = function() {
            if (window.currentExportDialog) {
                window.currentExportDialog.remove();
                window.currentExportDialog = null;
            }
        };
        
        // 匯出到 Excel
        window.exportToExcel = async function() {
            const selectedIndexes = Array.from(document.querySelectorAll('.export-item:checked'))
                .map(cb => parseInt(cb.value));
            const lang = getCurrentLanguage();
            
            if (selectedIndexes.length === 0) {
                alert(i18n[lang]?.['export.selectAtLeastOne'] || i18n['zh-TW']['export.selectAtLeastOne']);
                return;
            }
            
            const history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            const selectedItems = selectedIndexes.map(index => history[index]);
            
            try {
                // 準備資料
                const exportData = selectedItems.map(item => ({
                    '物品名稱': item.name,
                    '價格': formatPrice(item.price),
                    '價格說明': item.data.priceNote || '',
                    '描述': item.data.description || '',
                    '材質': item.data.material || '',
                    '用途': item.data.usage || '',
                    '分類': item.data.category || '',
                    '品牌': item.data.brand || '',
                    '購買地點': item.data.availability || '',
                    '掃描日期': formatDateDisplay(item.timestamp)
                }));
                
                // 呼叫後端 API 生成 Excel
                const API_URL = 'https://price-scanner-backend.vercel.app/api/export/excel';
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ data: exportData })
                });
                
                if (response.ok) {
                    // 下載檔案
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `lensy_export_${new Date().getTime()}.xlsx`;
                    a.click();
                    window.URL.revokeObjectURL(url);
                    
                    closeExportDialog();
                    alert('Excel 檔案已下載！');
                } else {
                    throw new Error('匯出失敗');
                }
                
            } catch (error) {
                console.error('匯出錯誤:', error);
                // 如果 API 還未實現，使用 CSV 替代
                exportToCSV(selectedItems);
            }
        };
        
        // 匯出為 CSV（備用方案）
        function exportToCSV(items) {
            const headers = ['物品名稱', '價格', '價格說明', '描述', '材質', '用途', '分類', '品牌', '購買地點', '掃描日期'];
            const rows = items.map(item => [
                item.name,
                formatPrice(item.price),
                item.data.priceNote || '',
                item.data.description || '',
                item.data.material || '',
                item.data.usage || '',
                item.data.category || '',
                item.data.brand || '',
                item.data.availability || '',
                formatDateDisplay(item.timestamp)
            ]);
            
            // 建立 CSV 內容
            const csvContent = [
                headers.join(','),
                ...rows.map(row => row.map(cell => `"${cell.replace(/"/g, '""')}"`).join(','))
            ].join('\n');
            
            // 加入 BOM 以支援中文
            const BOM = '\uFEFF';
            const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });
            
            // 下載檔案
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `lensy_export_${new Date().getTime()}.csv`;
            a.click();
            window.URL.revokeObjectURL(url);
            
            closeExportDialog();
            alert('CSV 檔案已下載！\n\n注意：後端 Excel 功能尚未實現，暫時使用 CSV 格式。');
        }
        
        // 拍照功能
        async function capturePhoto() {
            const cameraFeed = document.getElementById('cameraFeed');
            const photoCanvas = document.getElementById('photoCanvas');
            const context = photoCanvas.getContext('2d');
            
            // 設定畫布尺寸
            const maxWidth = 800;
            const maxHeight = 800;
            
            let width = cameraFeed.videoWidth;
            let height = cameraFeed.videoHeight;
            
            if (width > maxWidth || height > maxHeight) {
                const ratio = Math.min(maxWidth / width, maxHeight / height);
                width *= ratio;
                height *= ratio;
            }
            
            photoCanvas.width = width;
            photoCanvas.height = height;
            context.drawImage(cameraFeed, 0, 0, width, height);
            
            // 轉換為 base64
            capturedImage = photoCanvas.toDataURL('image/jpeg', 0.7);
            
            // 觸發分析
            analyzeImage();
        }
        
        // 長按拍照按鈕時選擇單張照片
        
        // 分析圖片
        async function analyzeImage() {
            const loadingOverlay = document.getElementById('loadingOverlay');
            const resultContent = document.getElementById('resultContent');
            
            // 顯示載入動畫
            loadingOverlay.classList.add('active');
            
            try {
                // 將 canvas 轉換為 blob
                const photoCanvas = document.getElementById('photoCanvas');
                const blob = await new Promise(resolve => {
                    photoCanvas.toBlob(resolve, 'image/jpeg', 0.7);
                });
                
                // 準備 FormData
                const formData = new FormData();
                formData.append('image', blob, 'capture.jpg');
                
                // 呼叫後端 API
                const API_URL = 'https://price-scanner-backend.vercel.app/api/analyze';
                
                const response = await fetch(API_URL, {
                    method: 'POST',
                    body: formData
                });
                
                if (!response.ok) {
                    throw new Error('API 請求失敗');
                }
                
                const result = await response.json();
                
                // 隱藏載入動畫
                loadingOverlay.classList.remove('active');
                
                if (result.success && result.data) {
                    // 保存當前分析數據
                    currentAnalysisData = result.data;
                    
                    // 顯示結果
                    displayResult(result.data);
                    
                    // 儲存到歷史記錄
                    saveToHistory(result.data);
                    
                    // 切換到結果頁面
                    switchPage('resultPage');
                } else {
                    throw new Error(result.error || '分析失敗');
                }
                
            } catch (error) {
                console.error('分析錯誤:', error);
                loadingOverlay.classList.remove('active');
                alert('分析失敗：' + error.message + '\n請確認網路連線並重試');
            }
        }
        
        // 儲存到歷史記錄
        function saveToHistory(data) {
            let history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            
            const historyItem = {
                id: Date.now(),
                name: data.name,
                price: data.price,
                image: capturedImage,
                data: data,
                timestamp: new Date().toISOString()
            };
            
            history.unshift(historyItem);
            
            // 只保留最新 50 筆
            history = history.slice(0, 50);
            
            localStorage.setItem('scanHistory', JSON.stringify(history));
            
            // 設定當前聊天項目 ID
            currentChatItemId = historyItem.id;
            currentHistoryItem = historyItem;  // 保存當前歷史項目
        }
        
        // 搜尋歷史記錄
        function searchHistory() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            
            // 過濾符合搜尋條件的項目
            const filteredHistory = history.filter(item => {
                return item.name.toLowerCase().includes(searchTerm) ||
                       item.price.toLowerCase().includes(searchTerm);
            });
            
            // 顯示過濾後的結果
            displayHistoryItems(filteredHistory);
        }
        
        // 顯示歷史記錄項目（共用函數）
        function displayHistoryItems(items) {
            const emptyState = document.getElementById('emptyState');
            const historySection = document.getElementById('historySection');
            
            if (items.length === 0) {
                emptyState.style.display = 'flex';
                historySection.style.display = 'none';
            } else {
                emptyState.style.display = 'none';
                historySection.style.display = 'block';
                
                // 按月份分組
                const groupedByMonth = {};
                items.forEach(item => {
                    const date = new Date(item.timestamp);
                    const monthKey = `${date.getFullYear()}年${date.getMonth() + 1}月`;
                    
                    if (!groupedByMonth[monthKey]) {
                        groupedByMonth[monthKey] = [];
                    }
                    groupedByMonth[monthKey].push(item);
                });
                
                // 生成HTML
                let html = '';
                Object.keys(groupedByMonth).forEach(month => {
                    html += `<div class="month-label">${month}</div>`;
                    html += '<div class="history-grid">';
                    
                    groupedByMonth[month].forEach(item => {
                        html += `
                            <div class="history-item ${selectedItems.has(item.id) ? 'selected' : ''}" 
                                 onclick="handleHistoryItemClick(event, ${item.id})"
                                 data-id="${item.id}">
                                <div class="history-item-checkbox ${selectedItems.has(item.id) ? 'checked' : ''}" 
                                     onclick="toggleItemSelection(event, ${item.id})"></div>
                                <img src="${item.image}" alt="${item.name}" class="history-img">
                                <div class="history-info">
                                    <div class="history-name">${item.name}</div>
                                    <div class="history-price">${formatPrice(item.price)}</div>
                                    <div class="history-date">${formatDateDisplay(item.timestamp)}</div>
                                </div>
                            </div>
                        `;
                    });
                    
                    html += '</div>';
                });
                
                historySection.innerHTML = html;
            }
        }
        
        // 顯示歷史記錄
        function displayHistory() {
            const history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            displayHistoryItems(history);
        }
        
        // 切換選取模式
        function toggleSelectMode() {
            isSelectMode = !isSelectMode;
            const selectBtn = document.getElementById('selectBtn');
            const batchToolbar = document.getElementById('batchToolbar');
            const selectModeHeader = document.getElementById('selectModeHeader');
            const listPage = document.getElementById('listPage');
            
            if (isSelectMode) {
                selectBtn.style.display = 'none'; // 隱藏原本的選擇按鈕
                selectModeHeader.classList.add('active'); // 顯示固定的頂部工具列
                batchToolbar.classList.add('active'); // 立即顯示底部工具列
                listPage.classList.add('select-mode');
                selectedItems.clear();
                updateSelectedCount();
            } else {
                selectBtn.style.display = 'block'; // 顯示原本的選擇按鈕
                selectBtn.textContent = t('list.selectMode');
                selectBtn.classList.remove('active');
                selectModeHeader.classList.remove('active'); // 隱藏固定的頂部工具列
                listPage.classList.remove('select-mode');
                batchToolbar.classList.remove('active');
                selectedItems.clear();
                // 移除所有選中狀態
                document.querySelectorAll('.history-item').forEach(item => {
                    item.classList.remove('selected');
                    item.querySelector('.history-item-checkbox').classList.remove('checked');
                });
            }
        }
        
        // 處理歷史項目點擊
        function handleHistoryItemClick(event, id) {
            if (isSelectMode) {
                event.preventDefault();
                toggleItemSelection(event, id);
            } else {
                showHistoryItem(id);
            }
        }
        
        // 切換項目選擇狀態
        function toggleItemSelection(event, id) {
            event.stopPropagation();
            
            const historyItem = document.querySelector(`.history-item[data-id="${id}"]`);
            const checkbox = historyItem.querySelector('.history-item-checkbox');
            
            if (selectedItems.has(id)) {
                selectedItems.delete(id);
                historyItem.classList.remove('selected');
                checkbox.classList.remove('checked');
            } else {
                selectedItems.add(id);
                historyItem.classList.add('selected');
                checkbox.classList.add('checked');
            }
            
            updateSelectedCount();
        }
        
        // 更新選中數量
        function updateSelectedCount() {
            const count = selectedItems.size;
            const batchCountText = document.getElementById('batchCountText');
            
            // 更新選取數量文字，支援多語言
            const selectedCountText = t('list.selectedCount').replace('{count}', count);
            batchCountText.textContent = selectedCountText;
            
            // 根據選中數量啟用或禁用按鈕
            const shareBtn = document.getElementById('batchShareBtn');
            const deleteBtn = document.getElementById('batchDeleteBtn');
            
            if (count > 0) {
                shareBtn.disabled = false;
                deleteBtn.disabled = false;
            } else {
                shareBtn.disabled = true;
                deleteBtn.disabled = true;
            }
        }
        
        // 批量分享
        async function batchShare() {
            if (selectedItems.size === 0) {
                alert('請選擇要分享的項目');
                return;
            }
            
            const history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            const selectedData = Array.from(selectedItems).map(id => 
                history.find(item => item.id === id)
            ).filter(Boolean);
            
            try {
                // 建立分享文字
                let shareText = '我用 LENSY 掃描了以下物品：\n\n';
                selectedData.forEach(item => {
                    shareText += `• ${item.name} - ${formatPrice(item.price)}\n`;
                });
                shareText += '\n立即試用：https://lynn800741.github.io/price-scanner-app/';
                
                if (navigator.share) {
                    await navigator.share({
                        title: 'LENSY - 萬物價格掃描器',
                        text: shareText
                    });
                } else {
                    await navigator.clipboard.writeText(shareText);
                    alert('分享內容已複製到剪貼板！');
                }
                
                // 退出選取模式
                toggleSelectMode();
                
            } catch (error) {
                console.error('分享失敗:', error);
                if (error.name !== 'AbortError') {
                    alert('分享失敗，請稍後再試');
                }
            }
        }
        
        // 批量刪除
        function batchDelete() {
            if (selectedItems.size === 0) {
                alert('請選擇要刪除的項目');
                return;
            }
            
            const confirmMsg = `確定要刪除 ${selectedItems.size} 個項目嗎？`;
            if (!confirm(confirmMsg)) {
                return;
            }
            
            // 從歷史記錄中刪除選中的項目
            let history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            history = history.filter(item => !selectedItems.has(item.id));
            localStorage.setItem('scanHistory', JSON.stringify(history));
            
            // 同時刪除相關的聊天記錄
            const chatHistory = JSON.parse(localStorage.getItem('chatHistory') || '{}');
            selectedItems.forEach(id => {
                delete chatHistory[id];
            });
            localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
            
            // 退出選取模式並重新顯示
            toggleSelectMode();
            displayHistory();
        }
        
        // 顯示歷史記錄項目
        function showHistoryItem(id) {
            const history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            const item = history.find(h => h.id === id);
            
            if (item) {
                capturedImage = item.image;
                currentAnalysisData = item.data;
                currentChatItemId = item.id;  // 設定當前聊天項目 ID
                currentHistoryItem = item;     // 保存當前歷史項目
                displayResult(item.data);
                
                // 切換到結果頁面
                switchPage('resultPage');
            }
        }
        
        // 切換結果選單
        function toggleResultMenu() {
            const dropdown = document.getElementById('resultDropdown');
            dropdown.classList.toggle('active');
            
            // 點擊其他地方關閉選單
            setTimeout(() => {
                document.addEventListener('click', closeResultMenu);
            }, 100);
        }
        
        // 關閉結果選單
        function closeResultMenu(event) {
            const dropdown = document.getElementById('resultDropdown');
            const menuBtn = document.querySelector('.result-menu-btn');
            
            if (!dropdown.contains(event.target) && !menuBtn.contains(event.target)) {
                dropdown.classList.remove('active');
                document.removeEventListener('click', closeResultMenu);
            }
        }
        
        // 重新分析圖片
        async function reanalyzeImage() {
            // 關閉選單
            document.getElementById('resultDropdown').classList.remove('active');
            
            // 確認重新分析
            if (!confirm(t('result.confirmReanalyze'))) {
                return;
            }
            
            // 顯示載入動畫
            const loadingOverlay = document.getElementById('loadingOverlay');
            loadingOverlay.classList.add('active');
            
            try {
                // 將 base64 圖片轉換為 blob
                const base64Data = capturedImage.split(',')[1];
                const byteCharacters = atob(base64Data);
                const byteNumbers = new Array(byteCharacters.length);
                for (let i = 0; i < byteCharacters.length; i++) {
                    byteNumbers[i] = byteCharacters.charCodeAt(i);
                }
                const byteArray = new Uint8Array(byteNumbers);
                const blob = new Blob([byteArray], { type: 'image/jpeg' });
                
                // 準備 FormData
                const formData = new FormData();
                formData.append('image', blob, 'capture.jpg');
                
                // 呼叫後端 API
                const API_URL = 'https://price-scanner-backend.vercel.app/api/analyze';
                
                const response = await fetch(API_URL, {
                    method: 'POST',
                    body: formData
                });
                
                if (!response.ok) {
                    throw new Error('API 請求失敗');
                }
                
                const result = await response.json();
                
                // 隱藏載入動畫
                loadingOverlay.classList.remove('active');
                
                if (result.success && result.data) {
                    // 更新當前分析數據
                    currentAnalysisData = result.data;
                    
                    // 更新歷史記錄
                    let history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
                    const index = history.findIndex(h => h.id === currentHistoryItem.id);
                    if (index !== -1) {
                        history[index].data = result.data;
                        history[index].name = result.data.name;
                        history[index].price = result.data.price;
                        localStorage.setItem('scanHistory', JSON.stringify(history));
                    }
                    
                    // 重新顯示結果
                    displayResult(result.data);
                    
                    alert('物品識別已更新！');
                } else {
                    throw new Error(result.error || '分析失敗');
                }
                
            } catch (error) {
                console.error('重新分析錯誤:', error);
                loadingOverlay.classList.remove('active');
                alert(t('result.reanalyzeFailed') + '：' + error.message);
            }
        }
        
        // 編輯物品名稱
        function editItemName() {
            // 關閉選單
            document.getElementById('resultDropdown').classList.remove('active');
            
            // 顯示編輯對話框
            const editDialog = document.getElementById('editDialog');
            const editInput = document.getElementById('editNameInput');
            editInput.value = currentAnalysisData.name;
            editDialog.classList.add('active');
            
            // 聚焦輸入框
            setTimeout(() => editInput.focus(), 100);
        }
        
        // 關閉編輯對話框
        function closeEditDialog() {
            document.getElementById('editDialog').classList.remove('active');
        }
        
        // 儲存編輯的名稱
        function saveEditedName() {
            const newName = document.getElementById('editNameInput').value.trim();
            
            if (!newName) {
                alert('請輸入新名稱');
                return;
            }
            
            // 更新當前數據
            currentAnalysisData.name = newName;
            
            // 更新歷史記錄
            let history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            const index = history.findIndex(h => h.id === currentHistoryItem.id);
            if (index !== -1) {
                history[index].name = newName;
                history[index].data.name = newName;
                localStorage.setItem('scanHistory', JSON.stringify(history));
            }
            
            // 重新顯示結果
            displayResult(currentAnalysisData);
            
            // 關閉對話框
            closeEditDialog();
            
            // 更新列表顯示
            displayHistory();
        }
        
        // 刪除當前項目
        function deleteCurrentItem() {
            // 關閉選單
            document.getElementById('resultDropdown').classList.remove('active');
            
            if (!confirm(t('result.confirmDelete'))) {
                return;
            }
            
            // 從歷史記錄中刪除
            let history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            history = history.filter(item => item.id !== currentHistoryItem.id);
            localStorage.setItem('scanHistory', JSON.stringify(history));
            
            // 刪除相關聊天記錄
            const chatHistory = JSON.parse(localStorage.getItem('chatHistory') || '{}');
            delete chatHistory[currentHistoryItem.id];
            localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
            
            // 關閉結果頁面，回到列表
            closeResult();
            
            // 更新列表顯示
            displayHistory();
        }
        
        // 格式化日期顯示
        function formatDateDisplay(timestamp) {
            const date = new Date(timestamp);
            const year = date.getFullYear();
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const day = date.getDate().toString().padStart(2, '0');
            
            return `${year}/${month}/${day}`;
        }
        
        // 格式化日期（保留原函數用於其他地方）
        function formatDate(timestamp) {
            const date = new Date(timestamp);
            const now = new Date();
            const diff = now - date;
            
            if (diff < 60000) return '剛剛';
            if (diff < 3600000) return `${Math.floor(diff / 60000)} 分鐘前`;
            if (diff < 86400000) return `${Math.floor(diff / 3600000)} 小時前`;
            if (diff < 604800000) return `${Math.floor(diff / 86400000)} 天前`;
            
            return date.toLocaleDateString('zh-TW');
        }
        
        // 顯示結果
        function displayResult(data) {
            const resultContent = document.getElementById('resultContent');
            
            // 生成購買連結
            let purchaseLinks = '';
            if (data.purchaseLinks && data.purchaseLinks.online && data.purchaseLinks.online.length > 0) {
                purchaseLinks = `
                    <div class="info-card">
                        <h3 class="info-card-title">${t('result.purchaseChannels')}</h3>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                            ${data.purchaseLinks.online.map(link => `
                                <a href="${getPlatformUrl(link.platform, link.searchTerm)}" 
                                   target="_blank" 
                                   style="display: inline-flex; align-items: center; padding: 8px 16px; background: #FF6B35; color: white; border-radius: 20px; text-decoration: none; font-size: 14px;">
                                    ${link.platform}
                                </a>
                            `).join('')}
                        </div>
                    </div>
                `;
            }
            
            resultContent.innerHTML = `
                <img src="${capturedImage}" alt="拍攝的物品" class="result-image">
                
                <h2 class="result-name">${data.name}</h2>
                
                <div class="price-section">
                    <div style="font-size: 16px; opacity: 0.9;">${t('result.estimatedPrice')}</div>
                    <div class="price-value">${formatPrice(data.price)}</div>
                    <div style="font-size: 14px; opacity: 0.8;">${data.priceNote}</div>
                </div>
                
                <div class="action-buttons" style="margin-bottom: 20px;">
                    <button class="action-button btn-chat" onclick="openChat()">
                        ${t('result.askAI')}
                    </button>
                    <button class="action-button btn-share" onclick="shareResult()">
                        ${t('result.share')}
                    </button>
                </div>
                
                ${purchaseLinks}
                
                <div class="info-card">
                    <h3 class="info-card-title">${t('result.basicInfo')}</h3>
                    <p class="info-card-content">${data.description}</p>
                </div>
                
                ${data.category ? `
                <div class="info-card">
                    <h3 class="info-card-title">${t('result.category')}</h3>
                    <p class="info-card-content">${data.category}</p>
                </div>
                ` : ''}
                
                ${data.brand ? `
                <div class="info-card">
                    <h3 class="info-card-title">${t('result.brand')}</h3>
                    <p class="info-card-content">${data.brand}</p>
                </div>
                ` : ''}
                
                <div class="info-card">
                    <h3 class="info-card-title">${t('result.whereToBuy')}</h3>
                    <p class="info-card-content">${data.availability}</p>
                </div>
                
                <p class="disclaimer-text">所有資訊皆由 GPT 產出</p>
            `;
        }
        
        // 取得平台 URL
        function getPlatformUrl(platform, searchTerm) {
            const urls = {
                '蝦皮購物': `https://shopee.tw/search?keyword=${encodeURIComponent(searchTerm)}`,
                'PChome 24h': `https://24h.pchome.com.tw/search/?q=${encodeURIComponent(searchTerm)}`,
                'momo購物網': `https://www.momoshop.com.tw/search/searchShop.jsp?keyword=${encodeURIComponent(searchTerm)}`,
                '露天拍賣': `https://find.ruten.com.tw/s/?q=${encodeURIComponent(searchTerm)}`,
                'Yahoo拍賣': `https://tw.search.yahoo.com/search?p=${encodeURIComponent(searchTerm)}`
            };
            return urls[platform] || '#';
        }
        
        // 打開聊天頁面
        function openChat() {
            // 設定當前聊天項目 ID
            const history = JSON.parse(localStorage.getItem('scanHistory') || '[]');
            const currentItem = history.find(item => 
                item.image === capturedImage && 
                item.data.name === currentAnalysisData.name
            );
            
            if (currentItem) {
                currentChatItemId = currentItem.id;
                loadChatHistory();
                chatPage.classList.add('active');
                
                // 如果沒有歷史對話，顯示歡迎訊息
                const chatHistory = getChatHistory();
                if (chatHistory.length === 0) {
                    // 第一次對話，隱藏重新查看圖片按鈕
                    document.getElementById('viewImageSection').style.display = 'none';
                    
                    // 根據物品類型生成個性化的歡迎訊息
                    let welcomeMessage = `## 你好！我剛剛仔細觀察了這個「${currentAnalysisData.name}」\n\n發現了一些有趣的資訊想與你分享！\n\n`;
                    
                    // 添加一個有趣的開場
                    if (currentAnalysisData.category && currentAnalysisData.category.includes('電子')) {
                        welcomeMessage += `📱 **作為一個科技產品**，它代表著現代生活的便利性。`;
                    } else if (currentAnalysisData.category && currentAnalysisData.category.includes('食')) {
                        welcomeMessage += `🍽️ **民以食為天**，讓我們來深入了解這個美味的選擇。`;
                    } else if (currentAnalysisData.brand) {
                        welcomeMessage += `🏷️ **${currentAnalysisData.brand}** 這個品牌有著獨特的市場定位。`;
                    } else {
                        welcomeMessage += `✨ **每個物品都有它獨特的故事和價值**。`;
                    }
                    
                    welcomeMessage += `\n\n### 我可以為你提供：\n\n`;
                    welcomeMessage += `• **深入的產品分析**——從各個角度剖析優缺點\n`;
                    welcomeMessage += `• **使用技巧和保養建議**——讓物品發揮最大價值\n`;
                    welcomeMessage += `• **市場趨勢和價格走向**——掌握最佳購買時機\n`;
                    welcomeMessage += `• **相關的有趣知識**——拓展視野，增長見識\n\n`;
                    welcomeMessage += `有什麼想了解的嗎？或者讓我先分享一些你可能感興趣的資訊？`;
                    
                    addMessage('assistant', welcomeMessage);
                    
                    // 第一次對話，記錄已經看過圖片
                    const allChats = JSON.parse(localStorage.getItem('chatHistory') || '{}');
                    if (!allChats[currentChatItemId]) {
                        allChats[currentChatItemId] = [];
                    }
                    allChats[currentChatItemId].imageAnalyzed = true;
                    localStorage.setItem('chatHistory', JSON.stringify(allChats));
                }
                
                // 更新快速提示詞
                updateQuickPrompts();
            }
        }
        
        // 更新快速提示詞
        function updateQuickPrompts() {
            const quickPrompts = document.getElementById('quickPrompts');
            let prompts = [
                '深度分析這個產品的優缺點',
                '和其他同類產品比較如何？',
                '有什麼隱藏的使用技巧嗎？',
                '這個價格在市場上算合理嗎？',
                '長期使用需要注意什麼？'
            ];
            
            // 根據物品類型動態調整提示詞
            if (currentAnalysisData.category) {
                if (currentAnalysisData.category.includes('食') || currentAnalysisData.category.includes('餐')) {
                    prompts = [
                        '詳細分析營養價值和健康影響',
                        '有什麼特別的料理方式嗎？',
                        '如何判斷品質好壞？',
                        '保存方法和期限建議',
                        '搭配什麼食材最合適？'
                    ];
                } else if (currentAnalysisData.category.includes('電子') || currentAnalysisData.category.includes('3C')) {
                    prompts = [
                        '詳細規格分析和性能評估',
                        '這個世代的技術有何突破？',
                        '未來會不會很快被淘汰？',
                        '有什麼隱藏功能或彩蛋？',
                        '如何發揮最大性能？'
                    ];
                } else if (currentAnalysisData.category.includes('服飾') || currentAnalysisData.category.includes('衣')) {
                    prompts = [
                        '材質特性和穿著體驗如何？',
                        '適合什麼場合和搭配？',
                        '如何辨別真偽和品質？',
                        '保養和清洗的專業建議',
                        '這個設計的流行趨勢分析'
                    ];
                } else if (currentAnalysisData.category.includes('玩具') || currentAnalysisData.category.includes('模型')) {
                    prompts = [
                        '收藏價值和未來升值潛力',
                        '有什麼特別的設計巧思？',
                        '如何保養維持最佳狀態？',
                        '這個系列的歷史和文化意義',
                        '適合什麼年齡層？安全嗎？'
                    ];
                }
            }
            
            // 如果有品牌資訊，加入品牌相關提示
            if (currentAnalysisData.brand && currentAnalysisData.brand !== '未知') {
                prompts.splice(2, 0, `${currentAnalysisData.brand}這個品牌的故事和特色`);
            }
            
            quickPrompts.innerHTML = prompts.slice(0, 5).map(prompt => 
                `<span class="prompt-chip" onclick="sendQuickPrompt('${prompt}')">${prompt}</span>`
            ).join('');
        }
        
        // 發送快速提示
        function sendQuickPrompt(prompt) {
            document.getElementById('chatInput').value = prompt;
            sendMessage();
        }
        
        // 關閉聊天頁面
        function closeChat() {
            chatPage.classList.remove('active');
            currentChatItemId = null;
        }
        
        // 獲取聊天歷史
        function getChatHistory() {
            if (!currentChatItemId) return [];
            const allChats = JSON.parse(localStorage.getItem('chatHistory') || '{}');
            return allChats[currentChatItemId] || [];
        }
        
        // 檢查是否已分析過圖片
        function hasImageBeenAnalyzed() {
            if (!currentChatItemId) return false;
            const allChats = JSON.parse(localStorage.getItem('chatHistory') || '{}');
            return allChats[currentChatItemId] && allChats[currentChatItemId].imageAnalyzed;
        }
        
        // 保存聊天歷史
        function saveChatHistory(messages) {
            if (!currentChatItemId) return;
            const allChats = JSON.parse(localStorage.getItem('chatHistory') || '{}');
            allChats[currentChatItemId] = messages;
            // 保留 imageAnalyzed 標記
            const imageAnalyzed = allChats[currentChatItemId] && allChats[currentChatItemId].imageAnalyzed;
            if (imageAnalyzed) {
                allChats[currentChatItemId].imageAnalyzed = true;
            }
            localStorage.setItem('chatHistory', JSON.stringify(allChats));
        }
        
        // 載入聊天歷史
        function loadChatHistory() {
            const messages = getChatHistory();
            const chatMessages = document.getElementById('chatMessages');
            const viewImageSection = document.getElementById('viewImageSection');
            chatMessages.innerHTML = '';
            
            // 如果有歷史，顯示重新查看圖片按鈕
            if (messages.length > 0) {
                viewImageSection.style.display = 'flex';
            } else {
                viewImageSection.style.display = 'none';
            }
            
            messages.forEach(msg => {
                if (msg.role && msg.content) {  // 確保訊息格式正確
                    // 載入歷史訊息時不使用打字動畫
                    addMessageToUI(msg.role, msg.content, false);
                }
            });
            
            // 滾動到底部
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // 簡單的 Markdown 解析函數
        function parseMarkdown(text) {
            // 處理標題
            text = text.replace(/^### (.*?)$/gm, '<h3>$1</h3>');
            text = text.replace(/^## (.*?)$/gm, '<h2>$1</h2>');
            text = text.replace(/^# (.*?)$/gm, '<h1>$1</h1>');
            
            // 處理粗體
            text = text.replace(/\*\*\*(.*?)\*\*\*/g, '<strong><em>$1</em></strong>');
            text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            
            // 處理斜體
            text = text.replace(/\*(.*?)\*/g, '<em>$1</em>');
            
            // 處理行內代碼
            text = text.replace(/`([^`]+)`/g, '<code>$1</code>');
            
            // 處理分隔線
            text = text.replace(/^---+$/gm, '<hr>');
            
            // 處理無序列表
            text = text.replace(/^• (.*?)$/gm, '<li>$1</li>');
            text = text.replace(/^- (.*?)$/gm, '<li>$1</li>');
            text = text.replace(/^(\s*)<li>/gm, '$1<ul><li>');
            text = text.replace(/<\/li>\n(?!<li>)/g, '</li></ul>\n');
            
            // 處理有序列表
            text = text.replace(/^\d+\. (.*?)$/gm, '<li>$1</li>');
            
            // 處理段落
            text = text.split('\n\n').map(para => {
                if (!para.match(/^<[^>]+>/)) {
                    return `<p>${para}</p>`;
                }
                return para;
            }).join('\n');
            
            // 處理換行
            text = text.replace(/\n/g, '<br>');
            
            // 清理多餘的 <br> 標籤
            text = text.replace(/<br><h/g, '<h');
            text = text.replace(/<\/h(\d)><br>/g, '</h$1>');
            text = text.replace(/<br><ul>/g, '<ul>');
            text = text.replace(/<\/ul><br>/g, '</ul>');
            text = text.replace(/<br><li>/g, '<li>');
            text = text.replace(/<br><hr>/g, '<hr>');
            text = text.replace(/<hr><br>/g, '<hr>');
            
            return text;
        }
        
        // 打字動畫效果
        async function typewriterEffect(element, text, speed = 30) {
            element.innerHTML = '';
            const parsedHTML = parseMarkdown(text);
            
            // 創建一個臨時元素來解析 HTML
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = parsedHTML;
            
            // 遍歷所有節點並逐字顯示
            async function typeNode(node, targetElement) {
                if (node.nodeType === Node.TEXT_NODE) {
                    // 文字節點：逐字顯示
                    const text = node.textContent;
                    for (let i = 0; i < text.length; i++) {
                        targetElement.innerHTML += text[i];
                        await new Promise(resolve => setTimeout(resolve, speed));
                    }
                } else if (node.nodeType === Node.ELEMENT_NODE) {
                    // 元素節點：創建元素並遞歸處理子節點
                    const newElement = document.createElement(node.tagName.toLowerCase());
                    
                    // 複製屬性
                    Array.from(node.attributes).forEach(attr => {
                        newElement.setAttribute(attr.name, attr.value);
                    });
                    
                    targetElement.appendChild(newElement);
                    
                    // 處理子節點
                    for (const childNode of node.childNodes) {
                        await typeNode(childNode, newElement);
                    }
                }
            }
            
            // 處理所有子節點
            for (const childNode of tempDiv.childNodes) {
                await typeNode(childNode, element);
            }
        }
        
        // 添加訊息到 UI（修改版，支援打字動畫）
        async function addMessageToUI(role, content, useTypewriter = false) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${role}`;
            
            if (role === 'user') {
                // 用戶訊息保持原樣
                messageDiv.innerHTML = `<div class="message-content">${content}</div>`;
            } else {
                // AI 訊息
                const messageContent = document.createElement('div');
                messageContent.className = 'message-content';
                messageDiv.appendChild(messageContent);
                
                if (useTypewriter) {
                    // 使用打字動畫
                    chatMessages.appendChild(messageDiv);
                    await typewriterEffect(messageContent, content);
                } else {
                    // 直接顯示（用於載入歷史訊息）
                    messageContent.innerHTML = parseMarkdown(content);
                }
            }
            
            if (!messageDiv.parentNode) {
                chatMessages.appendChild(messageDiv);
            }
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // 添加訊息並保存（修改版，支援打字動畫）
        async function addMessage(role, content, useTypewriter = true) {
            const messages = getChatHistory();
            messages.push({ role, content, timestamp: new Date().toISOString() });
            saveChatHistory(messages);
            await addMessageToUI(role, content, useTypewriter);
        }
        
        // 發送帶圖片的訊息
        async function sendMessageWithImage(message) {
            if (!message) {
                message = document.getElementById('chatInput').value.trim();
            }
            
            if (!message) return;
            
            // 清空輸入框
            if (!message || message === document.getElementById('chatInput').value.trim()) {
                document.getElementById('chatInput').value = '';
                document.getElementById('chatInput').style.height = 'auto';
            }
            
            // 發送帶圖片的請求
            await sendMessageInternal(message, true);
        }
        
        // 發送訊息
        async function sendMessage() {
            const message = document.getElementById('chatInput').value.trim();
            if (!message) return;
            
            document.getElementById('chatInput').value = '';
            document.getElementById('chatInput').style.height = 'auto';
            
            // 檢查是否是第一次對話
            const isFirstMessage = !hasImageBeenAnalyzed();
            await sendMessageInternal(message, isFirstMessage);
        }
        
        // 內部發送訊息函數
        async function sendMessageInternal(message, includeImage = false) {
            const chatSendBtn = document.getElementById('chatSendBtn');
            
            // 添加用戶訊息
            addMessage('user', message);
            
            // 禁用發送按鈕
            chatSendBtn.disabled = true;
            
            // 顯示載入動畫
            const chatMessages = document.getElementById('chatMessages');
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'message assistant';
            loadingDiv.innerHTML = `
                <div class="message-content">
                    <div class="chat-loading">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            chatMessages.appendChild(loadingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            try {
                // 準備請求數據
                const formData = new FormData();
                
                // 只在需要時包含圖片
                if (includeImage) {
                    // 將 base64 圖片轉換為 Blob
                    const base64Data = capturedImage.split(',')[1];
                    const byteCharacters = atob(base64Data);
                    const byteNumbers = new Array(byteCharacters.length);
                    for (let i = 0; i < byteCharacters.length; i++) {
                        byteNumbers[i] = byteCharacters.charCodeAt(i);
                    }
                    const byteArray = new Uint8Array(byteNumbers);
                    const blob = new Blob([byteArray], { type: 'image/jpeg' });
                    
                    formData.append('image', blob, 'item.jpg');
                    
                    // 標記已分析過圖片
                    const allChats = JSON.parse(localStorage.getItem('chatHistory') || '{}');
                    if (!allChats[currentChatItemId]) {
                        allChats[currentChatItemId] = [];
                    }
                    allChats[currentChatItemId].imageAnalyzed = true;
                    localStorage.setItem('chatHistory', JSON.stringify(allChats));
                }
                
                formData.append('message', message);
                formData.append('itemInfo', JSON.stringify(currentAnalysisData));
                formData.append('chatHistory', JSON.stringify(getChatHistory()));
                formData.append('includeImage', includeImage.toString());
                
                // 呼叫 API
                const API_URL = 'https://price-scanner-backend.vercel.app/api/chat';
                const response = await fetch(API_URL, {
                    method: 'POST',
                    body: formData
                });
                
                if (!response.ok) {
                    throw new Error('API 請求失敗');
                }
                
                const result = await response.json();
                
                // 移除載入動畫
                loadingDiv.remove();
                
                if (result.success) {
                    // 添加 AI 回覆
                    addMessage('assistant', result.data.reply);
                } else {
                    throw new Error(result.error || '回覆失敗');
                }
                
            } catch (error) {
                console.error('聊天錯誤:', error);
                loadingDiv.remove();
                addMessage('assistant', '抱歉，我現在無法回答您的問題。請稍後再試。');
            } finally {
                // 重新啟用發送按鈕
                chatSendBtn.disabled = false;
            }
        }
        
        // 監聽輸入框 Enter 鍵
        document.getElementById('chatInput').addEventListener('keydown', function(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        });
        
        // 自動調整輸入框高度
        document.getElementById('chatInput').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });
        
        // 分享結果
        async function shareResult() {
            if (!currentAnalysisData) {
                alert(t('result.noDataToShare'));
                return;
            }
            
            try {
                // 準備分享數據
                const shareData = {
                    name: currentAnalysisData.name,
                    price: currentAnalysisData.price,
                    priceNote: currentAnalysisData.priceNote,
                    description: currentAnalysisData.description,
                    availability: currentAnalysisData.availability,
                    purchaseLinks: currentAnalysisData.purchaseLinks,
                    image: capturedImage
                };
                
                // 呼叫後端 API 生成分享連結
                const API_URL = 'https://price-scanner-backend.vercel.app/api/share';
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(shareData)
                });
                
                if (!response.ok) {
                    throw new Error('分享失敗');
                }
                
                const result = await response.json();
                
                if (result.success) {
                    const shareUrl = `https://lynn800741.github.io/price-scanner-app/share.html?id=${result.shareId}`;
                    const shareText = `我用 LENSY 發現了「${currentAnalysisData.name}」\n價格：${formatPrice(currentAnalysisData.price)}\n${currentAnalysisData.description}\n\n查看詳情：${shareUrl}`;
                    
                    if (navigator.share) {
                        navigator.share({
                            title: 'LENSY - 萬物價格掃描器',
                            text: shareText,
                            url: shareUrl
                        }).catch(err => console.log('分享取消'));
                    } else {
                        // 複製到剪貼板
                        navigator.clipboard.writeText(shareText).then(() => {
                            alert('分享連結已複製到剪貼板！');
                        });
                    }
                } else {
                    throw new Error(result.error || '分享失敗');
                }
                
            } catch (error) {
                console.error('分享錯誤:', error);
                // 如果 API 還未實現，使用本地分享
                const shareText = `我用 LENSY 發現了「${currentAnalysisData.name}」\n價格：${formatPrice(currentAnalysisData.price)}\n${currentAnalysisData.description}\n\n立即試用：https://lynn800741.github.io/price-scanner-app/`;
                
                if (navigator.share) {
                    navigator.share({
                        title: 'LENSY - 萬物價格掃描器',
                        text: shareText
                    }).catch(err => console.log('分享取消'));
                } else {
                    navigator.clipboard.writeText(shareText).then(() => {
                        alert('分享文字已複製到剪貼板！\n\n注意：分享連結功能需要後端支援。');
                    });
                }
            }
        }
        
        // 關閉結果頁面
        function closeResult() {
            switchPage('listPage');
        }
        
        // 清理資源
        window.addEventListener('beforeunload', () => {
            stopCamera();
        });
        
        // 測試 AI 功能是否正常
        console.log('AI Upload function loaded:', typeof openAIUpload);
        console.log('AI Upload page element:', document.getElementById('aiUploadPage'));
        
        // 多語言系統
        const i18n = {
            'zh-TW': {
                // 應用名稱
                'app.title': 'LENSY - 萬物價格掃描器',
                
                // 底部導航
                'nav.list': '列表',
                'nav.settings': '設定',
                
                // 設定頁面
                'settings.title': '設定',
                'settings.membership': '會員服務',
                'settings.memberStatus': '會員狀態',
                'settings.memberStatusFree': '免費版',
                'settings.remainingScans': '剩餘掃描次數',
                'settings.restorePurchase': '復原購買',
                'settings.proFeatures': 'Pro 版功能',
                'settings.aiService': 'AI智能服務',
                'settings.exportExcel': '匯出成Excel報告',
                'export.selectPhotos': '選擇要匯出的照片',
                'export.selectAll': '全選',
                'export.exportButton': '匯出 Excel',
                'export.cancelButton': '取消',
                'export.noData': '沒有可匯出的資料',
                'export.selectAtLeastOne': '請至少選擇一個項目',
                'settings.batchRecognition': '多張照片批次辨識',
                'settings.autoSaveAlbum': '自動儲存到相簿',
                'settings.general': '一般',
                'settings.aiMode': 'AI模式',
                'settings.batchAnalysis': '批次分析多張照片',
                'settings.theme': '深色主題',
                'settings.support': '支援',
                'settings.language': '語言',
                'settings.loginRegister': '登入/註冊',
                'settings.contactUs': '聯絡我們',
                'settings.help': '輔助說明',
                'settings.about': '關於APP',
                'settings.appInfo': 'APP資訊',
                'settings.rateApp': '評價APP',
                'settings.shareApp': '分享給朋友',
                'settings.feedback': '意見回饋',
                'settings.aboutVersion': '關於與版本',
                'settings.account': '帳號',
                'settings.logout': '登出',
                
                // 語言選擇頁面
                'language.title': '選擇語言',
                'language.common': '常用',
                'language.asia': '亞洲',
                'language.europe': '歐洲',
                'language.other': '其他',
                
                // 列表頁面
                'list.search': '搜尋照片',
                'list.selectMode': '選擇',
                'list.cancel': '取消',
                'list.selectAll': '全選',
                'list.deleteSelected': '刪除已選',
                'list.selectItems': '選擇項目',
                'list.share': '分享',
                'list.delete': '刪除',
                'list.selectedCount': '已選取 {count} 個',
                'list.empty.title': '開始掃描與記錄',
                'list.empty.desc': '掃描物品並記錄價格',
                
                // 結果頁面
                'result.title': '分析結果',
                'result.reanalyze': '更正物品識別',
                'result.editName': '編輯名稱',
                'result.viewChat': '查看對話',
                'result.shareResult': '分享結果',
                'result.delete': '刪除',
                'result.confirmReanalyze': '確定要重新識別這個物品嗎？',
                'result.confirmDelete': '確定要刪除這個項目嗎？',
                'result.reanalyzeFailed': '重新分析失敗',
                'result.noDataToShare': '沒有可分享的資料',
                'result.estimatedPrice': '預估價格',
                'result.askAI': '詢問 AI',
                'result.share': '分享',
                'result.purchaseChannels': '購買管道',
                'result.basicInfo': '基本資訊',
                'result.category': '分類',
                'result.brand': '品牌',
                'result.whereToBuy': '在哪裡買',
                
                // 相機頁面
                'camera.scanHint': '對準物品開始掃描',
                
                // AI上傳頁面
                'ai.title': 'AI智能服務',
                'ai.uploadText': '上傳照片與AI開始對談',
                'ai.uploadSubtext': '點擊上方圖示選擇照片\n開始智能對話分析',
                'ai.tips.title': '💡 使用提示',
                'ai.tips.content': '• 選擇一張清晰的照片\n• AI會深度分析照片內容\n• 提供個性化的見解與建議',
                
                // 登入/註冊頁面
                'auth.subtitle': '萬物價格掃描器',
                'auth.emailLabel': '電子郵件地址',
                'auth.emailPlaceholder': '輸入您的電子郵件',
                'auth.passwordLabel': '密碼',
                'auth.passwordPlaceholder': '輸入您的密碼',
                'auth.forgotPassword': '忘記密碼？',
                'auth.loginButton': '登入',
                'auth.registerButton': '註冊',
                'auth.noAccount': '尚未註冊帳號？',
                'auth.hasAccount': '已有帳號？',
                'auth.registerLink': '註冊',
                'auth.loginLink': '登入',
                'auth.or': '或',
                'auth.signInWithApple': '使用 Apple 登入',
                'auth.signInWithGoogle': '使用 Google 登入',
                
                // 會員升級頁面
                'pro.title': '升級方案',
                'pro.subtitle': '解鎖所有強大功能，讓掃描分析更專業',
                'pro.trialInfo': '3 天免費試用',
                'pro.feature1Title': 'AI 智能服務',
                'pro.feature1Desc': '更精準的物品識別與價格分析',
                'pro.feature2Title': '每月 1000 次掃描分析',
                'pro.feature2Desc': '滿足你的所有掃描需求',
                'pro.feature3Title': '去除煩人的應用程式廣告',
                'pro.feature3Desc': '享受純淨無干擾的使用體驗',
                'pro.feature4Title': '匯出 Excel 報告',
                'pro.feature4Desc': '專業的數據整理與分析報告',
                'pro.feature5Title': '多張照片批次辨識',
                'pro.feature5Desc': '一次處理多張照片，節省時間',
                'pro.feature6Title': '自動儲存到相簿',
                'pro.feature6Desc': '掃描結果自動備份不遺失',
                'pro.discountBadge': '省34%',
                'pro.yearlyPlan': '年繳方案',
                'pro.monthlyPlan': '月繳方案',
                'pro.perMonth': '每月',
                'pro.yearlyTotal': '$1,188/年',
                'pro.monthlyBilling': '按月計費',
                'pro.startFreeTrial': '開始免費試用',
                'pro.termsOfUse': '使用條款',
                'pro.privacyPolicy': '隱私政策',
                'pro.subscriptionTerms': '訂閱條款',
                'pro.restorePurchase': '恢復購買',
                
                // 忘記密碼頁面
                'forgot.title': '忘記密碼',
                'forgot.description': '請輸入您註冊時使用的電子郵件地址<br>我們將發送密碼重設連結給您',
                'forgot.emailLabel': '電子郵件地址',
                'forgot.emailPlaceholder': '輸入您的電子郵件',
                'forgot.continueButton': '繼續',
                
                // 成功對話框
                'success.emailSent': '郵件已發送！',
                'success.resetMessage': '密碼重設連結已發送至您的信箱<br>請查看郵件並點擊連結重設密碼<br><br>如未收到郵件，請檢查垃圾郵件資料夾',
                'success.confirmButton': '確定',
                
                // AI 分析
                'common.aiAnalyzing': 'AI 正在分析中...',
                'common.aiAnalyzingTitle': 'AI 正在分析中',
                'common.aiAnalyzingDesc': '正在深度理解圖片內容...',
                'common.batchAnalyzing': '正在分析第 {current} / {total} 張圖片...'
            },
            'zh-CN': {
                'app.title': 'LENSY - 万物价格扫描器',
                'nav.list': '列表',
                'nav.settings': '设置',
                'settings.title': '设置',
                'settings.membership': '会员服务',
                'settings.memberStatus': '会员状态',
                'settings.memberStatusFree': '免费版',
                'settings.remainingScans': '剩余扫描次数',
                'settings.restorePurchase': '恢复购买',
                'settings.proFeatures': 'Pro 版功能',
                'settings.aiService': 'AI智能服务',
                'settings.exportExcel': '导出成Excel报告',
                'export.selectPhotos': '选择要导出的照片',
                'export.selectAll': '全选',
                'export.exportButton': '导出 Excel',
                'export.cancelButton': '取消',
                'export.noData': '没有可导出的数据',
                'export.selectAtLeastOne': '请至少选择一个项目',
                'settings.batchRecognition': '多张照片批次识别',
                'settings.autoSaveAlbum': '自动保存到相册',
                'settings.general': '常规',
                'settings.aiMode': 'AI模式',
                'settings.batchAnalysis': '批量分析多张照片',
                'settings.theme': '深色主题',
                'settings.support': '支持',
                'settings.language': '语言',
                'settings.loginRegister': '登录/注册',
                'settings.contactUs': '联系我们',
                'settings.help': '帮助说明',
                'settings.about': '关于APP',
                'settings.appInfo': 'APP信息',
                'settings.rateApp': '评价APP',
                'settings.shareApp': '分享给朋友',
                'settings.feedback': '意见反馈',
                'settings.aboutVersion': '关于与版本',
                'settings.account': '账号',
                'settings.logout': '退出',
                'language.title': '选择语言',
                'language.common': '常用',
                'language.asia': '亚洲',
                'language.europe': '欧洲',
                'language.other': '其他',
                'list.search': '搜索照片',
                'list.selectMode': '选择',
                'list.cancel': '取消',
                'list.selectAll': '全选',
                'list.deleteSelected': '删除已选',
                'list.selectItems': '选择项目',
                'list.share': '分享',
                'list.delete': '删除',
                'list.selectedCount': '已选取 {count} 个',
                'list.empty.title': '开始扫描与记录',
                'list.empty.desc': '扫描物品并记录价格',
                
                // 结果页面
                'result.title': '分析结果',
                'result.reanalyze': '更正物品识别',
                'result.editName': '编辑名称',
                'result.viewChat': '查看对话',
                'result.shareResult': '分享结果',
                'result.delete': '删除',
                'result.confirmReanalyze': '确定要重新识别这个物品吗？',
                'result.confirmDelete': '确定要删除这个项目吗？',
                'result.reanalyzeFailed': '重新分析失败',
                'result.noDataToShare': '没有可分享的资料',
                'result.estimatedPrice': '预估价格',
                'result.askAI': '询问 AI',
                'result.share': '分享',
                'result.purchaseChannels': '购买渠道',
                'result.basicInfo': '基本信息',
                'result.category': '类别',
                'result.brand': '品牌',
                'result.whereToBuy': '哪里购买',
                
                'camera.scanHint': '对准物品开始扫描',
                'ai.title': 'AI智能服务',
                'ai.uploadText': '上传照片与AI开始对话',
                'ai.uploadSubtext': '点击上方图标选择照片\n开始智能对话分析',
                'ai.tips.title': '💡 使用提示',
                'ai.tips.content': '• 选择一张清晰的照片\n• AI会深度分析照片内容\n• 提供个性化的见解与建议',
                
                // 登录/注册页面
                'auth.subtitle': '万物价格扫描器',
                'auth.emailLabel': '电子邮件地址',
                'auth.emailPlaceholder': '输入您的电子邮件',
                'auth.passwordLabel': '密码',
                'auth.passwordPlaceholder': '输入您的密码',
                'auth.forgotPassword': '忘记密码？',
                'auth.loginButton': '登录',
                'auth.registerButton': '注册',
                'auth.noAccount': '尚未注册账号？',
                'auth.hasAccount': '已有账号？',
                'auth.registerLink': '注册',
                'auth.loginLink': '登录',
                'auth.or': '或',
                'auth.signInWithApple': '使用 Apple 登录',
                'auth.signInWithGoogle': '使用 Google 登录',
                
                // 会员升级页面
                'pro.title': '升级方案',
                'pro.subtitle': '解锁所有强大功能，让扫描分析更专业',
                'pro.trialInfo': '3 天免费试用',
                'pro.feature1Title': 'AI 智能服务',
                'pro.feature1Desc': '更精准的物品识别与价格分析',
                'pro.feature2Title': '每月 1000 次扫描分析',
                'pro.feature2Desc': '满足你的所有扫描需求',
                'pro.feature3Title': '去除烦人的应用程序广告',
                'pro.feature3Desc': '享受纯净无干扰的使用体验',
                'pro.feature4Title': '导出 Excel 报告',
                'pro.feature4Desc': '专业的数据整理与分析报告',
                'pro.feature5Title': '多张照片批次识别',
                'pro.feature5Desc': '一次处理多张照片，节省时间',
                'pro.feature6Title': '自动保存到相册',
                'pro.feature6Desc': '扫描结果自动备份不丢失',
                'pro.discountBadge': '省34%',
                'pro.yearlyPlan': '年缴方案',
                'pro.monthlyPlan': '月缴方案',
                'pro.perMonth': '每月',
                'pro.yearlyTotal': '$1,188/年',
                'pro.monthlyBilling': '按月计费',
                'pro.startFreeTrial': '开始免费试用',
                'pro.termsOfUse': '使用条款',
                'pro.privacyPolicy': '隐私政策',
                'pro.subscriptionTerms': '订阅条款',
                'pro.restorePurchase': '恢复购买',
                
                // 忘记密码页面
                'forgot.title': '忘记密码',
                'forgot.description': '请输入您注册时使用的电子邮件地址<br>我们将发送密码重设链接给您',
                'forgot.emailLabel': '电子邮件地址',
                'forgot.emailPlaceholder': '输入您的电子邮件',
                'forgot.continueButton': '继续',
                
                // 成功对话框
                'success.emailSent': '邮件已发送！',
                'success.resetMessage': '密码重设链接已发送至您的信箱<br>请查看邮件并点击链接重设密码<br><br>如未收到邮件，请检查垃圾邮件文件夹',
                'success.confirmButton': '确定',
                
                // AI 分析
                'common.aiAnalyzing': 'AI 正在分析中...',
                'common.aiAnalyzingTitle': 'AI 正在分析中',
                'common.aiAnalyzingDesc': '正在深度理解图片内容...',
                'common.batchAnalyzing': '正在分析第 {current} / {total} 张图片...'
            },
            'en': {
                'app.title': 'LENSY - Universal Price Scanner',
                'nav.list': 'List',
                'nav.settings': 'Settings',
                'settings.title': 'Settings',
                'settings.membership': 'Membership',
                'settings.memberStatus': 'Member Status',
                'settings.memberStatusFree': 'Free Version',
                'settings.remainingScans': 'Remaining Scans',
                'settings.restorePurchase': 'Restore Purchase',
                'settings.proFeatures': 'Pro Features',
                'settings.aiService': 'AI Smart Service',
                'settings.exportExcel': 'Export to Excel Report',
                'export.selectPhotos': 'Select Photos to Export',
                'export.selectAll': 'Select All',
                'export.exportButton': 'Export Excel',
                'export.cancelButton': 'Cancel',
                'export.noData': 'No data to export',
                'export.selectAtLeastOne': 'Please select at least one item',
                'settings.batchRecognition': 'Batch Photo Recognition',
                'settings.autoSaveAlbum': 'Auto Save to Album',
                'settings.general': 'General',
                'settings.aiMode': 'AI Mode',
                'settings.batchAnalysis': 'Batch Analysis Multiple Photos',
                'settings.theme': 'Dark Theme',
                'settings.support': 'Support',
                'settings.language': 'Language',
                'settings.loginRegister': 'Login/Register',
                'settings.contactUs': 'Contact Us',
                'settings.help': 'Help',
                'settings.about': 'About APP',
                'settings.appInfo': 'APP Info',
                'settings.rateApp': 'Rate APP',
                'settings.shareApp': 'Share with Friends',
                'settings.feedback': 'Feedback',
                'settings.aboutVersion': 'About & Version',
                'settings.account': 'Account',
                'settings.logout': 'Logout',
                'language.title': 'Select Language',
                'language.common': 'Common',
                'language.asia': 'Asia',
                'language.europe': 'Europe',
                'language.other': 'Other',
                'list.search': 'Search photos',
                'list.selectMode': 'Select',
                'list.cancel': 'Cancel',
                'list.selectAll': 'Select All',
                'list.deleteSelected': 'Delete Selected',
                'list.selectItems': 'Select Items',
                'list.share': 'Share',
                'list.delete': 'Delete',
                'list.selectedCount': '{count} selected',
                'list.empty.title': 'Start Scanning & Recording',
                'list.empty.desc': 'Scan items and record prices',
                
                // Result page
                'result.title': 'Analysis Result',
                'result.reanalyze': 'Correct Item Recognition',
                'result.editName': 'Edit Name',
                'result.viewChat': 'View Conversation',
                'result.shareResult': 'Share Result',
                'result.delete': 'Delete',
                'result.confirmReanalyze': 'Are you sure you want to re-identify this item?',
                'result.confirmDelete': 'Are you sure you want to delete this item?',
                'result.reanalyzeFailed': 'Re-analysis failed',
                'result.noDataToShare': 'No data to share',
                'result.estimatedPrice': 'Estimated Price',
                'result.askAI': 'Ask AI',
                'result.share': 'Share',
                'result.purchaseChannels': 'Purchase Channels',
                'result.basicInfo': 'Basic Information',
                'result.category': 'Category',
                'result.brand': 'Brand',
                'result.whereToBuy': 'Where to Buy',
                
                'camera.scanHint': 'Align item to start scanning',
                'ai.title': 'AI Smart Service',
                'ai.uploadText': 'Upload Photo to Start AI Chat',
                'ai.uploadSubtext': 'Click the icon above to select photo\nStart intelligent dialogue analysis',
                'ai.tips.title': '💡 Usage Tips',
                'ai.tips.content': '• Choose a clear photo\n• AI will analyze photo content\n• Provide personalized insights',
                
                // Login/Register page
                'auth.subtitle': 'Universal Price Scanner',
                'auth.emailLabel': 'Email Address',
                'auth.emailPlaceholder': 'Enter your email',
                'auth.passwordLabel': 'Password',
                'auth.passwordPlaceholder': 'Enter your password',
                'auth.forgotPassword': 'Forgot password?',
                'auth.loginButton': 'Sign In',
                'auth.registerButton': 'Sign Up',
                'auth.noAccount': 'Don\'t have an account?',
                'auth.hasAccount': 'Already have an account?',
                'auth.registerLink': 'Sign Up',
                'auth.loginLink': 'Sign In',
                'auth.or': 'or',
                'auth.signInWithApple': 'Sign in with Apple',
                'auth.signInWithGoogle': 'Sign in with Google',
                
                // Pro Upgrade page
                'pro.title': 'Upgrade Plan',
                'pro.subtitle': 'Unlock all powerful features for professional scanning',
                'pro.trialInfo': '3-day free trial',
                'pro.feature1Title': 'AI Smart Service',
                'pro.feature1Desc': 'More accurate item recognition and price analysis',
                'pro.feature2Title': '1000 Scans per Month',
                'pro.feature2Desc': 'Meet all your scanning needs',
                'pro.feature3Title': 'Remove Annoying Ads',
                'pro.feature3Desc': 'Enjoy a clean, uninterrupted experience',
                'pro.feature4Title': 'Export Excel Reports',
                'pro.feature4Desc': 'Professional data organization and analysis reports',
                'pro.feature5Title': 'Batch Photo Recognition',
                'pro.feature5Desc': 'Process multiple photos at once, save time',
                'pro.feature6Title': 'Auto Save to Album',
                'pro.feature6Desc': 'Scan results automatically backed up',
                'pro.discountBadge': 'Save 34%',
                'pro.yearlyPlan': 'Annual Plan',
                'pro.monthlyPlan': 'Monthly Plan',
                'pro.perMonth': 'per month',
                'pro.yearlyTotal': '$1,188/year',
                'pro.monthlyBilling': 'Billed monthly',
                'pro.startFreeTrial': 'Start Free Trial',
                'pro.termsOfUse': 'Terms of Use',
                'pro.privacyPolicy': 'Privacy Policy',
                'pro.subscriptionTerms': 'Subscription Terms',
                'pro.restorePurchase': 'Restore Purchase',
                
                // Forgot Password page
                'forgot.title': 'Forgot Password',
                'forgot.description': 'Enter the email address you used to register<br>We\'ll send you a password reset link',
                'forgot.emailLabel': 'Email Address',
                'forgot.emailPlaceholder': 'Enter your email',
                'forgot.continueButton': 'Continue',
                
                // Success Dialog
                'success.emailSent': 'Email Sent!',
                'success.resetMessage': 'Password reset link has been sent to your inbox<br>Please check your email and click the link to reset your password<br><br>If you don\'t receive it, check your spam folder',
                'success.confirmButton': 'OK',
                
                // AI Analysis
                'common.aiAnalyzing': 'AI is analyzing...',
                'common.aiAnalyzingTitle': 'AI is analyzing',
                'common.aiAnalyzingDesc': 'Understanding image content...',
                'common.batchAnalyzing': 'Analyzing image {current} of {total}...'
            },
            'ja': {
                'app.title': 'LENSY - 万物価格スキャナー',
                'nav.list': 'リスト',
                'nav.settings': '設定',
                'settings.title': '設定',
                'settings.membership': '会員サービス',
                'settings.memberStatus': '会員ステータス',
                'settings.memberStatusFree': '無料版',
                'settings.remainingScans': '残りスキャン回数',
                'settings.restorePurchase': '購入の復元',
                'settings.proFeatures': 'Pro版機能',
                'settings.aiService': 'AIスマートサービス',
                'settings.exportExcel': 'Excelレポートにエクスポート',
                'export.selectPhotos': 'エクスポートする写真を選択',
                'export.selectAll': 'すべて選択',
                'export.exportButton': 'Excel エクスポート',
                'export.cancelButton': 'キャンセル',
                'export.noData': 'エクスポートするデータがありません',
                'export.selectAtLeastOne': '少なくとも1つの項目を選択してください',
                'settings.batchRecognition': '複数写真バッチ認識',
                'settings.autoSaveAlbum': 'アルバムに自動保存',
                'settings.general': '一般',
                'settings.aiMode': 'AIモード',
                'settings.batchAnalysis': '複数写真の一括分析',
                'settings.theme': 'ダークテーマ',
                'settings.support': 'サポート',
                'settings.language': '言語',
                'settings.loginRegister': 'ログイン/登録',
                'settings.contactUs': 'お問い合わせ',
                'settings.help': 'ヘルプ',
                'settings.about': 'アプリについて',
                'settings.appInfo': 'アプリ情報',
                'settings.rateApp': 'アプリを評価',
                'settings.shareApp': '友達と共有',
                'settings.feedback': 'フィードバック',
                'settings.aboutVersion': 'バージョン情報',
                'settings.account': 'アカウント',
                'settings.logout': 'ログアウト',
                'language.title': '言語を選択',
                'language.common': 'よく使う',
                'language.asia': 'アジア',
                'language.europe': 'ヨーロッパ',
                'language.other': 'その他',
                'list.search': '写真を検索',
                'list.selectMode': '選択',
                'list.cancel': 'キャンセル',
                'list.selectAll': 'すべて選択',
                'list.deleteSelected': '選択項目を削除',
                'list.selectItems': '項目を選択',
                'list.share': '共有',
                'list.delete': '削除',
                'list.selectedCount': '{count}個選択済み',
                'list.empty.title': 'スキャンと記録を開始',
                'list.empty.desc': 'アイテムをスキャンして価格を記録',
                
                // 結果ページ
                'result.title': '分析結果',
                'result.reanalyze': 'アイテム認識を修正',
                'result.editName': '名前を編集',
                'result.viewChat': '会話を表示',
                'result.shareResult': '結果を共有',
                'result.delete': '削除',
                'result.confirmReanalyze': 'このアイテムを再識別してもよろしいですか？',
                'result.confirmDelete': 'このアイテムを削除してもよろしいですか？',
                'result.reanalyzeFailed': '再分析に失敗しました',
                'result.noDataToShare': '共有するデータがありません',
                'result.estimatedPrice': '推定価格',
                'result.askAI': 'AIに質問',
                'result.share': '共有',
                'result.purchaseChannels': '購入チャネル',
                'result.basicInfo': '基本情報',
                'result.category': 'カテゴリー',
                'result.brand': 'ブランド',
                'result.whereToBuy': '購入場所',
                'camera.scanHint': 'アイテムに合わせてスキャン開始',
                'ai.title': 'AIスマートサービス',
                'ai.uploadText': '写真をアップロードしてAIチャット開始',
                'ai.uploadSubtext': '上のアイコンをクリックして写真を選択\nインテリジェント対話分析を開始',
                'ai.tips.title': '💡 使用のヒント',
                'ai.tips.content': '• 鮮明な写真を選択\n• AIが写真内容を分析\n• パーソナライズされた洞察を提供',
                
                // Login/Register page
                'auth.subtitle': '万物価格スキャナー',
                'auth.emailLabel': 'メールアドレス',
                'auth.emailPlaceholder': 'メールアドレスを入力',
                'auth.passwordLabel': 'パスワード',
                'auth.passwordPlaceholder': 'パスワードを入力',
                'auth.forgotPassword': 'パスワードをお忘れですか？',
                'auth.loginButton': 'ログイン',
                'auth.registerButton': '新規登録',
                'auth.noAccount': 'アカウントをお持ちでない方',
                'auth.hasAccount': 'すでにアカウントをお持ちの方',
                'auth.registerLink': '新規登録',
                'auth.loginLink': 'ログイン',
                'auth.or': 'または',
                'auth.signInWithApple': 'Appleでサインイン',
                'auth.signInWithGoogle': 'Googleでサインイン',
                
                // Pro Upgrade page
                'pro.title': 'プランをアップグレード',
                'pro.subtitle': 'プロフェッショナルスキャン用のすべての強力な機能をアンロック',
                'pro.trialInfo': '3日間無料トライアル',
                'pro.feature1Title': 'AIスマートサービス',
                'pro.feature1Desc': 'より正確なアイテム認識と価格分析',
                'pro.feature2Title': '月1000回スキャン',
                'pro.feature2Desc': 'すべてのスキャンニーズに対応',
                'pro.feature3Title': '広告を削除',
                'pro.feature3Desc': 'クリーンで中断のない体験を楽しむ',
                'pro.feature4Title': 'Excelレポートエクスポート',
                'pro.feature4Desc': 'プロフェッショナルなデータ整理と分析レポート',
                'pro.feature5Title': 'バッチ写真認識',
                'pro.feature5Desc': '複数の写真を一度に処理、時間を節約',
                'pro.feature6Title': 'アルバムに自動保存',
                'pro.feature6Desc': 'スキャン結果を自動的にバックアップ',
                'pro.discountBadge': '34%オフ',
                'pro.yearlyPlan': '年間プラン',
                'pro.monthlyPlan': '月間プラン',
                'pro.perMonth': '月額',
                'pro.yearlyTotal': '年額¥1,188',
                'pro.monthlyBilling': '月次請求',
                'pro.startFreeTrial': '無料トライアルを開始',
                'pro.termsOfUse': '利用規約',
                'pro.privacyPolicy': 'プライバシーポリシー',
                'pro.subscriptionTerms': 'サブスクリプション条件',
                'pro.restorePurchase': '購入を復元',
                
                // Forgot Password page
                'forgot.title': 'パスワードを忘れた',
                'forgot.description': '登録時に使用したメールアドレスを入力してください<br>パスワードリセットリンクをお送りします',
                'forgot.emailLabel': 'メールアドレス',
                'forgot.emailPlaceholder': 'メールアドレスを入力',
                'forgot.continueButton': '続ける',
                
                // Success Dialog
                'success.emailSent': 'メール送信完了！',
                'success.resetMessage': 'パスワードリセットリンクをメールで送信しました<br>メールを確認してリンクをクリックしてパスワードをリセットしてください<br><br>メールが届かない場合は、迷惑メールフォルダをご確認ください',
                'success.confirmButton': 'OK',
                
                // AI 分析
                'common.aiAnalyzing': 'AI分析中...',
                'common.aiAnalyzingTitle': 'AI分析中',
                'common.aiAnalyzingDesc': '画像内容を深く理解しています...',
                'common.batchAnalyzing': '{current} / {total} 枚目の画像を分析中...'
            },
            'ko': {
                'app.title': 'LENSY - 만물 가격 스캐너',
                'nav.list': '목록',
                'nav.settings': '설정',
                'settings.title': '설정',
                'settings.membership': '회원 서비스',
                'settings.memberStatus': '회원 상태',
                'settings.memberStatusFree': '무료 버전',
                'settings.remainingScans': '남은 스캔 횟수',
                'settings.restorePurchase': '구매 복원',
                'settings.proFeatures': 'Pro 버전 기능',
                'settings.aiService': 'AI 스마트 서비스',
                'settings.exportExcel': 'Excel 보고서로 내보내기',
                'export.selectPhotos': '내보낼 사진 선택',
                'export.selectAll': '모두 선택',
                'export.exportButton': 'Excel 내보내기',
                'export.cancelButton': '취소',
                'export.noData': '내보낼 데이터가 없습니다',
                'export.selectAtLeastOne': '최소 하나의 항목을 선택하세요',
                'settings.batchRecognition': '여러 사진 일괄 인식',
                'settings.autoSaveAlbum': '앨범에 자동 저장',
                'settings.general': '일반',
                'settings.aiMode': 'AI 모드',
                'settings.batchAnalysis': '여러 사진 일괄 분석',
                'settings.theme': '다크 테마',
                'settings.support': '지원',
                'settings.language': '언어',
                'settings.loginRegister': '로그인/가입',
                'settings.contactUs': '문의하기',
                'settings.help': '도움말',
                'settings.about': '앱 정보',
                'settings.appInfo': '앱 정보',
                'settings.rateApp': '앱 평가',
                'settings.shareApp': '친구에게 공유',
                'settings.feedback': '피드백',
                'settings.aboutVersion': '정보 및 버전',
                'settings.account': '계정',
                'settings.logout': '로그아웃',
                'language.title': '언어 선택',
                'language.common': '자주 사용',
                'language.asia': '아시아',
                'language.europe': '유럽',
                'language.other': '기타',
                'list.search': '사진 검색',
                'list.selectMode': '선택',
                'list.cancel': '취소',
                'list.selectAll': '모두 선택',
                'list.deleteSelected': '선택 항목 삭제',
                'list.selectItems': '항목 선택',
                'list.share': '공유',
                'list.delete': '삭제',
                'list.selectedCount': '{count}개 선택됨',
                'list.empty.title': '스캔 및 기록 시작',
                'list.empty.desc': '아이템을 스캔하고 가격을 기록',
                
                // 결과 페이지
                'result.title': '분석 결과',
                'result.reanalyze': '아이템 인식 수정',
                'result.editName': '이름 편집',
                'result.viewChat': '대화 보기',
                'result.shareResult': '결과 공유',
                'result.delete': '삭제',
                'result.confirmReanalyze': '이 아이템을 다시 식별하시겠습니까?',
                'result.confirmDelete': '이 아이템을 삭제하시겠습니까?',
                'result.reanalyzeFailed': '재분석 실패',
                'result.noDataToShare': '공유할 데이터가 없습니다',
                'result.estimatedPrice': '예상 가격',
                'result.askAI': 'AI에게 묻기',
                'result.share': '공유',
                'result.purchaseChannels': '구매 채널',
                'result.basicInfo': '기본 정보',
                'result.category': '카테고리',
                'result.brand': '브랜드',
                'result.whereToBuy': '구매처',
                'camera.scanHint': '아이템에 맞춰 스캔 시작',
                'ai.title': 'AI 스마트 서비스',
                'ai.uploadText': '사진 업로드로 AI 채팅 시작',
                'ai.uploadSubtext': '위 아이콘을 클릭하여 사진 선택\n지능형 대화 분석 시작',
                'ai.tips.title': '💡 사용 팁',
                'ai.tips.content': '• 선명한 사진 선택\n• AI가 사진 내용 분석\n• 맞춤형 통찰력 제공',
                
                // Login/Register page
                'auth.subtitle': '만물 가격 스캐너',
                'auth.emailLabel': '이메일 주소',
                'auth.emailPlaceholder': '이메일을 입력하세요',
                'auth.passwordLabel': '비밀번호',
                'auth.passwordPlaceholder': '비밀번호를 입력하세요',
                'auth.forgotPassword': '비밀번호를 잊으셨나요?',
                'auth.loginButton': '로그인',
                'auth.registerButton': '회원가입',
                'auth.noAccount': '계정이 없으신가요?',
                'auth.hasAccount': '이미 계정이 있으신가요?',
                'auth.registerLink': '회원가입',
                'auth.loginLink': '로그인',
                'auth.or': '또는',
                'auth.signInWithApple': 'Apple로 로그인',
                'auth.signInWithGoogle': 'Google로 로그인',
                
                // Pro Upgrade page
                'pro.title': '플랜 업그레이드',
                'pro.subtitle': '전문 스캔을 위한 모든 강력한 기능 잠금 해제',
                'pro.trialInfo': '3일 무료 체험',
                'pro.feature1Title': 'AI 스마트 서비스',
                'pro.feature1Desc': '더 정확한 아이템 인식 및 가격 분석',
                'pro.feature2Title': '월 1000회 스캔',
                'pro.feature2Desc': '모든 스캔 요구사항 충족',
                'pro.feature3Title': '광고 제거',
                'pro.feature3Desc': '깔끔하고 방해받지 않는 경험 즐기기',
                'pro.feature4Title': 'Excel 보고서 내보내기',
                'pro.feature4Desc': '전문적인 데이터 정리 및 분석 보고서',
                'pro.feature5Title': '배치 사진 인식',
                'pro.feature5Desc': '여러 사진을 한 번에 처리, 시간 절약',
                'pro.feature6Title': '앨범에 자동 저장',
                'pro.feature6Desc': '스캔 결과 자동 백업',
                'pro.discountBadge': '34% 할인',
                'pro.yearlyPlan': '연간 플랜',
                'pro.monthlyPlan': '월간 플랜',
                'pro.perMonth': '월',
                'pro.yearlyTotal': '연간 ₩1,188',
                'pro.monthlyBilling': '월별 청구',
                'pro.startFreeTrial': '무료 체험 시작',
                'pro.termsOfUse': '이용약관',
                'pro.privacyPolicy': '개인정보 보호정책',
                'pro.subscriptionTerms': '구독 약관',
                'pro.restorePurchase': '구매 복원',
                
                // Forgot Password page
                'forgot.title': '비밀번호 찾기',
                'forgot.description': '가입 시 사용한 이메일 주소를 입력하세요<br>비밀번호 재설정 링크를 보내드립니다',
                'forgot.emailLabel': '이메일 주소',
                'forgot.emailPlaceholder': '이메일을 입력하세요',
                'forgot.continueButton': '계속',
                
                // Success Dialog
                'success.emailSent': '이메일 전송 완료!',
                'success.resetMessage': '비밀번호 재설정 링크가 이메일로 전송되었습니다<br>이메일을 확인하고 링크를 클릭하여 비밀번호를 재설정하세요<br><br>이메일을 받지 못하셨다면 스팸 폴더를 확인하세요',
                'success.confirmButton': '확인',
                
                // AI 분석
                'common.aiAnalyzing': 'AI가 분석 중입니다...',
                'common.aiAnalyzingTitle': 'AI가 분석 중입니다',
                'common.aiAnalyzingDesc': '이미지 내용을 이해하고 있습니다...',
                'common.batchAnalyzing': '{current} / {total} 번째 이미지 분석 중...'
            },
            'th': {
                'app.title': 'LENSY - เครื่องสแกนราคาสินค้า',
                'nav.list': 'รายการ',
                'nav.settings': 'ตั้งค่า',
                'settings.title': 'ตั้งค่า',
                'settings.general': 'ทั่วไป',
                'settings.aiMode': 'โหมด AI',
                'settings.batchAnalysis': 'วิเคราะห์รูปหลายรูปพร้อมกัน',
                'settings.theme': 'ธีมมืด',
                'settings.support': 'สนับสนุน',
                'settings.language': 'ภาษา',
                'settings.feedback': 'ข้อเสนอแนะ',
                'settings.aboutVersion': 'เกี่ยวกับและเวอร์ชัน',
                'settings.account': 'บัญชี',
                'settings.logout': 'ออกจากระบบ',
                'language.title': 'เลือกภาษา',
                'language.common': 'ใช้บ่อย',
                'language.asia': 'เอเชีย',
                'language.europe': 'ยุโรป',
                'language.other': 'อื่นๆ',
                'list.search': 'ค้นหารูปภาพ',
                'list.selectMode': 'เลือก',
                'list.cancel': 'ยกเลิก',
                'list.selectAll': 'เลือกทั้งหมด',
                'list.deleteSelected': 'ลบที่เลือก',
                'list.selectItems': 'เลือกรายการ',
                'list.share': 'แชร์',
                'list.delete': 'ลบ',
                'list.selectedCount': 'เลือกแล้ว {count} รายการ',
                'list.empty.title': 'เริ่มสแกนและบันทึก',
                'list.empty.desc': 'สแกนสินค้าและบันทึกราคา',
                
                // หน้าผลลัพธ์
                'result.title': 'ผลการวิเคราะห์',
                'result.reanalyze': 'แก้ไขการจดจำสินค้า',
                'result.editName': 'แก้ไขชื่อ',
                'result.viewChat': 'ดูการสนทนา',
                'result.shareResult': 'แชร์ผลลัพธ์',
                'result.delete': 'ลบ',
                'result.confirmReanalyze': 'คุณแน่ใจหรือไม่ที่จะระบุสินค้านี้ใหม่?',
                'result.confirmDelete': 'คุณแน่ใจหรือไม่ที่จะลบรายการนี้?',
                'result.reanalyzeFailed': 'การวิเคราะห์ใหม่ล้มเหลว',
                'result.noDataToShare': 'ไม่มีข้อมูลที่จะแชร์',
                'result.estimatedPrice': 'ราคาโดยประมาณ',
                'result.askAI': 'ถาม AI',
                'result.share': 'แชร์',
                'result.purchaseChannels': 'ช่องทางการซื้อ',
                'result.basicInfo': 'ข้อมูลพื้นฐาน',
                'result.category': 'หมวดหมู่',
                'result.brand': 'แบรนด์',
                'result.whereToBuy': 'ซื้อได้ที่ไหน',
                'camera.scanHint': 'เล็งไปที่สินค้าเพื่อเริ่มสแกน',
                'ai.title': 'บริการ AI อัจฉริยะ',
                'ai.uploadText': 'อัพโหลดรูปเพื่อเริ่มแชท AI',
                'ai.uploadSubtext': 'คลิกไอคอนด้านบนเพื่อเลือกรูป\nเริ่มการวิเคราะห์การสนทนาอัจฉริยะ',
                'ai.tips.title': '💡 เคล็ดลับการใช้งาน',
                'ai.tips.content': '• เลือกรูปที่ชัดเจน\n• AI จะวิเคราะห์เนื้อหารูป\n• ให้ข้อมูลเชิงลึกส่วนบุคคล',
                'settings.membership': 'บริการสมาชิก',
                'settings.memberStatus': 'สถานะสมาชิก',
                'settings.memberStatusFree': 'เวอร์ชันฟรี',
                'settings.remainingScans': 'จำนวนสแกนที่เหลือ',
                'settings.restorePurchase': 'กู้คืนการซื้อ',
                'settings.proFeatures': 'ฟีเจอร์ Pro',
                'settings.aiService': 'บริการ AI อัจฉริยะ',
                'settings.exportExcel': 'ส่งออกเป็นรายงาน Excel',
                'export.selectPhotos': 'เลือกรูปภาพที่จะส่งออก',
                'export.selectAll': 'เลือกทั้งหมด',
                'export.exportButton': 'ส่งออก Excel',
                'export.cancelButton': 'ยกเลิก',
                'export.noData': 'ไม่มีข้อมูลที่จะส่งออก',
                'export.selectAtLeastOne': 'กรุณาเลือกอย่างน้อยหนึ่งรายการ',
                'settings.batchRecognition': 'จดจำรูปหลายรูปพร้อมกัน',
                'settings.autoSaveAlbum': 'บันทึกอัตโนมัติไปยังอัลบั้ม',
                'settings.loginRegister': 'เข้าสู่ระบบ/สมัครสมาชิก',
                'settings.contactUs': 'ติดต่อเรา',
                'settings.help': 'ช่วยเหลือ',
                'settings.about': 'เกี่ยวกับแอป',
                'settings.appInfo': 'ข้อมูลแอป',
                'settings.rateApp': 'ให้คะแนนแอป',
                'settings.shareApp': 'แบ่งปันให้เพื่อน',
                
                // Login/Register page
                'auth.subtitle': 'เครื่องสแกนราคาสินค้าทุกชนิด',
                'auth.emailLabel': 'ที่อยู่อีเมล',
                'auth.emailPlaceholder': 'กรอกอีเมลของคุณ',
                'auth.passwordLabel': 'รหัสผ่าน',
                'auth.passwordPlaceholder': 'กรอกรหัสผ่านของคุณ',
                'auth.forgotPassword': 'ลืมรหัสผ่าน?',
                'auth.loginButton': 'เข้าสู่ระบบ',
                'auth.registerButton': 'สมัครสมาชิก',
                'auth.noAccount': 'ยังไม่มีบัญชี?',
                'auth.hasAccount': 'มีบัญชีแล้ว?',
                'auth.registerLink': 'สมัครสมาชิก',
                'auth.loginLink': 'เข้าสู่ระบบ',
                'auth.or': 'หรือ',
                'auth.signInWithApple': 'เข้าสู่ระบบด้วย Apple',
                'auth.signInWithGoogle': 'เข้าสู่ระบบด้วย Google',
                
                // Pro Upgrade page
                'pro.title': 'อัปเกรดแผน',
                'pro.subtitle': 'ปลดล็อกฟีเจอร์ที่ทรงพลังทั้งหมดสำหรับการสแกนระดับมืออาชีพ',
                'pro.trialInfo': 'ทดลองใช้ฟรี 3 วัน',
                'pro.feature1Title': 'บริการ AI อัจฉริยะ',
                'pro.feature1Desc': 'การจดจำสินค้าและวิเคราะห์ราคาที่แม่นยำยิ่งขึ้น',
                'pro.feature2Title': 'สแกน 1000 ครั้งต่อเดือน',
                'pro.feature2Desc': 'ตอบสนองทุกความต้องการในการสแกน',
                'pro.feature3Title': 'ลบโฆษณาที่น่ารำคาญ',
                'pro.feature3Desc': 'เพลิดเพลินกับประสบการณ์ที่สะอาดไม่มีสิ่งรบกวน',
                'pro.feature4Title': 'ส่งออกรายงาน Excel',
                'pro.feature4Desc': 'รายงานการจัดระเบียบและวิเคราะห์ข้อมูลระดับมืออาชีพ',
                'pro.feature5Title': 'จดจำรูปภาพแบบแบตช์',
                'pro.feature5Desc': 'ประมวลผลหลายรูปพร้อมกัน ประหยัดเวลา',
                'pro.feature6Title': 'บันทึกอัตโนมัติไปยังอัลบั้ม',
                'pro.feature6Desc': 'สำรองผลการสแกนอัตโนมัติ',
                'pro.discountBadge': 'ประหยัด 34%',
                'pro.yearlyPlan': 'แผนรายปี',
                'pro.monthlyPlan': 'แผนรายเดือน',
                'pro.perMonth': 'ต่อเดือน',
                'pro.yearlyTotal': '฿1,188/ปี',
                'pro.monthlyBilling': 'เรียกเก็บเงินรายเดือน',
                'pro.startFreeTrial': 'เริ่มทดลองใช้ฟรี',
                'pro.termsOfUse': 'ข้อกำหนดการใช้งาน',
                'pro.privacyPolicy': 'นโยบายความเป็นส่วนตัว',
                'pro.subscriptionTerms': 'ข้อกำหนดการสมัครสมาชิก',
                'pro.restorePurchase': 'กู้คืนการซื้อ',
                
                // Forgot Password page
                'forgot.title': 'ลืมรหัสผ่าน',
                'forgot.description': 'กรอกอีเมลที่คุณใช้ลงทะเบียน<br>เราจะส่งลิงก์รีเซ็ตรหัสผ่านให้คุณ',
                'forgot.emailLabel': 'ที่อยู่อีเมล',
                'forgot.emailPlaceholder': 'กรอกอีเมลของคุณ',
                'forgot.continueButton': 'ดำเนินการต่อ',
                
                // Success Dialog
                'success.emailSent': 'ส่งอีเมลแล้ว!',
                'success.resetMessage': 'ลิงก์รีเซ็ตรหัสผ่านถูกส่งไปยังอีเมลของคุณแล้ว<br>กรุณาตรวจสอบอีเมลและคลิกลิงก์เพื่อรีเซ็ตรหัสผ่าน<br><br>หากไม่ได้รับอีเมล กรุณาตรวจสอบโฟลเดอร์สแปม',
                'success.confirmButton': 'ตกลง',
                
                // การวิเคราะห์ AI
                'common.aiAnalyzing': 'AI กำลังวิเคราะห์...',
                'common.aiAnalyzingTitle': 'AI กำลังวิเคราะห์',
                'common.aiAnalyzingDesc': 'กำลังทำความเข้าใจเนื้อหารูปภาพ...',
                'common.batchAnalyzing': 'กำลังวิเคราะห์รูปภาพที่ {current} จาก {total}...'
            },
            'vi': {
                'app.title': 'LENSY - Máy quét giá vạn vật',
                'nav.list': 'Danh sách',
                'nav.settings': 'Cài đặt',
                'settings.title': 'Cài đặt',
                'settings.general': 'Chung',
                'settings.aiMode': 'Chế độ AI',
                'settings.batchAnalysis': 'Phân tích nhiều ảnh cùng lúc',
                'settings.theme': 'Giao diện tối',
                'settings.support': 'Hỗ trợ',
                'settings.language': 'Ngôn ngữ',
                'settings.feedback': 'Phản hồi',
                'settings.aboutVersion': 'Giới thiệu & Phiên bản',
                'settings.account': 'Tài khoản',
                'settings.logout': 'Đăng xuất',
                'language.title': 'Chọn ngôn ngữ',
                'language.common': 'Thường dùng',
                'language.asia': 'Châu Á',
                'language.europe': 'Châu Âu',
                'language.other': 'Khác',
                'list.search': 'Tìm kiếm ảnh',
                'list.selectMode': 'Chọn',
                'list.cancel': 'Hủy',
                'list.selectAll': 'Chọn tất cả',
                'list.deleteSelected': 'Xóa mục đã chọn',
                'list.selectItems': 'Chọn mục',
                'list.share': 'Chia sẻ',
                'list.delete': 'Xóa',
                'list.selectedCount': 'Đã chọn {count} mục',
                'list.empty.title': 'Bắt đầu quét và ghi lại',
                'list.empty.desc': 'Quét sản phẩm và ghi lại giá cả',
                
                // Trang kết quả
                'result.title': 'Kết quả phân tích',
                'result.reanalyze': 'Sửa nhận dạng sản phẩm',
                'result.editName': 'Chỉnh sửa tên',
                'result.viewChat': 'Xem cuộc trò chuyện',
                'result.shareResult': 'Chia sẻ kết quả',
                'result.delete': 'Xóa',
                'result.confirmReanalyze': 'Bạn có chắc muốn nhận dạng lại sản phẩm này?',
                'result.confirmDelete': 'Bạn có chắc muốn xóa mục này?',
                'result.reanalyzeFailed': 'Phân tích lại thất bại',
                'result.noDataToShare': 'Không có dữ liệu để chia sẻ',
                'result.estimatedPrice': 'Giá ước tính',
                'result.askAI': 'Hỏi AI',
                'result.share': 'Chia sẻ',
                'result.purchaseChannels': 'Kênh mua hàng',
                'result.basicInfo': 'Thông tin cơ bản',
                'result.category': 'Danh mục',
                'result.brand': 'Thương hiệu',
                'result.whereToBuy': 'Mua ở đâu',
                'camera.scanHint': 'Hướng vào sản phẩm để bắt đầu quét',
                'ai.title': 'Dịch vụ AI thông minh',
                'ai.uploadText': 'Tải ảnh lên để bắt đầu trò chuyện AI',
                'ai.uploadSubtext': 'Nhấp vào biểu tượng trên để chọn ảnh\nBắt đầu phân tích hội thoại thông minh',
                'ai.tips.title': '💡 Mẹo sử dụng',
                'ai.tips.content': '• Chọn ảnh rõ nét\n• AI sẽ phân tích nội dung ảnh\n• Cung cấp thông tin chi tiết cá nhân hóa',
                'settings.membership': 'Dịch vụ hội viên',
                'settings.memberStatus': 'Trạng thái hội viên',
                'settings.memberStatusFree': 'Phiên bản miễn phí',
                'settings.remainingScans': 'Số lần quét còn lại',
                'settings.restorePurchase': 'Khôi phục mua hàng',
                'settings.proFeatures': 'Tính năng Pro',
                'settings.aiService': 'Dịch vụ AI thông minh',
                'settings.exportExcel': 'Xuất báo cáo Excel',
                'export.selectPhotos': 'Chọn ảnh để xuất',
                'export.selectAll': 'Chọn tất cả',
                'export.exportButton': 'Xuất Excel',
                'export.cancelButton': 'Hủy',
                'export.noData': 'Không có dữ liệu để xuất',
                'export.selectAtLeastOne': 'Vui lòng chọn ít nhất một mục',
                'settings.batchRecognition': 'Nhận diện nhiều ảnh cùng lúc',
                'settings.autoSaveAlbum': 'Tự động lưu vào album',
                'settings.loginRegister': 'Đăng nhập/Đăng ký',
                'settings.contactUs': 'Liên hệ chúng tôi',
                'settings.help': 'Trợ giúp',
                'settings.about': 'Về ứng dụng',
                'settings.appInfo': 'Thông tin ứng dụng',
                'settings.rateApp': 'Đánh giá ứng dụng',
                'settings.shareApp': 'Chia sẻ với bạn bè',
                
                // Login/Register page
                'auth.subtitle': 'Máy quét giá vạn vật',
                'auth.emailLabel': 'Địa chỉ email',
                'auth.emailPlaceholder': 'Nhập email của bạn',
                'auth.passwordLabel': 'Mật khẩu',
                'auth.passwordPlaceholder': 'Nhập mật khẩu của bạn',
                'auth.forgotPassword': 'Quên mật khẩu?',
                'auth.loginButton': 'Đăng nhập',
                'auth.registerButton': 'Đăng ký',
                'auth.noAccount': 'Chưa có tài khoản?',
                'auth.hasAccount': 'Đã có tài khoản?',
                'auth.registerLink': 'Đăng ký',
                'auth.loginLink': 'Đăng nhập',
                'auth.or': 'hoặc',
                'auth.signInWithApple': 'Đăng nhập bằng Apple',
                'auth.signInWithGoogle': 'Đăng nhập bằng Google',
                
                // Pro Upgrade page
                'pro.title': 'Nâng cấp gói',
                'pro.subtitle': 'Mở khóa tất cả tính năng mạnh mẽ cho quét chuyên nghiệp',
                'pro.trialInfo': 'Dùng thử miễn phí 3 ngày',
                'pro.feature1Title': 'Dịch vụ AI thông minh',
                'pro.feature1Desc': 'Nhận diện sản phẩm và phân tích giá chính xác hơn',
                'pro.feature2Title': 'Quét 1000 lần mỗi tháng',
                'pro.feature2Desc': 'Đáp ứng mọi nhu cầu quét của bạn',
                'pro.feature3Title': 'Xóa quảng cáo phiền phức',
                'pro.feature3Desc': 'Tận hưởng trải nghiệm sạch sẽ, không bị gián đoạn',
                'pro.feature4Title': 'Xuất báo cáo Excel',
                'pro.feature4Desc': 'Báo cáo tổ chức và phân tích dữ liệu chuyên nghiệp',
                'pro.feature5Title': 'Nhận diện ảnh hàng loạt',
                'pro.feature5Desc': 'Xử lý nhiều ảnh cùng lúc, tiết kiệm thời gian',
                'pro.feature6Title': 'Tự động lưu vào album',
                'pro.feature6Desc': 'Kết quả quét được sao lưu tự động',
                'pro.discountBadge': 'Tiết kiệm 34%',
                'pro.yearlyPlan': 'Gói năm',
                'pro.monthlyPlan': 'Gói tháng',
                'pro.perMonth': 'mỗi tháng',
                'pro.yearlyTotal': '₫1,188/năm',
                'pro.monthlyBilling': 'Thanh toán hàng tháng',
                'pro.startFreeTrial': 'Bắt đầu dùng thử miễn phí',
                'pro.termsOfUse': 'Điều khoản sử dụng',
                'pro.privacyPolicy': 'Chính sách bảo mật',
                'pro.subscriptionTerms': 'Điều khoản đăng ký',
                'pro.restorePurchase': 'Khôi phục mua hàng',
                
                // Forgot Password page
                'forgot.title': 'Quên mật khẩu',
                'forgot.description': 'Nhập địa chỉ email bạn đã dùng để đăng ký<br>Chúng tôi sẽ gửi cho bạn liên kết đặt lại mật khẩu',
                'forgot.emailLabel': 'Địa chỉ email',
                'forgot.emailPlaceholder': 'Nhập email của bạn',
                'forgot.continueButton': 'Tiếp tục',
                
                // Success Dialog
                'success.emailSent': 'Đã gửi email!',
                'success.resetMessage': 'Liên kết đặt lại mật khẩu đã được gửi đến hộp thư của bạn<br>Vui lòng kiểm tra email và nhấp vào liên kết để đặt lại mật khẩu<br><br>Nếu không nhận được, hãy kiểm tra thư mục spam',
                'success.confirmButton': 'OK',
                
                // Phân tích AI
                'common.aiAnalyzing': 'AI đang phân tích...',
                'common.aiAnalyzingTitle': 'AI đang phân tích',
                'common.aiAnalyzingDesc': 'Đang hiểu nội dung hình ảnh...',
                'common.batchAnalyzing': 'Đang phân tích hình ảnh {current} / {total}...'
            },
            'es': {
                'app.title': 'LENSY - Escáner Universal de Precios',
                'nav.list': 'Lista',
                'nav.settings': 'Ajustes',
                'settings.title': 'Ajustes',
                'settings.general': 'General',
                'settings.aiMode': 'Modo IA',
                'settings.batchAnalysis': 'Análisis de múltiples fotos',
                'settings.theme': 'Tema oscuro',
                'settings.support': 'Soporte',
                'settings.language': 'Idioma',
                'settings.feedback': 'Comentarios',
                'settings.aboutVersion': 'Acerca de y Versión',
                'settings.account': 'Cuenta',
                'settings.logout': 'Cerrar sesión',
                'language.title': 'Seleccionar idioma',
                'language.common': 'Común',
                'language.asia': 'Asia',
                'language.europe': 'Europa',
                'language.other': 'Otros',
                'list.search': 'Buscar fotos',
                'list.selectMode': 'Seleccionar',
                'list.cancel': 'Cancelar',
                'list.selectAll': 'Seleccionar todo',
                'list.deleteSelected': 'Eliminar seleccionados',
                'list.selectItems': 'Seleccionar elementos',
                'list.share': 'Compartir',
                'list.delete': 'Eliminar',
                'list.selectedCount': '{count} seleccionados',
                'list.empty.title': 'Comenzar a escanear y registrar',
                'list.empty.desc': 'Escanear artículos y registrar precios',
                
                // Página de resultados
                'result.title': 'Resultado del análisis',
                'result.reanalyze': 'Corregir reconocimiento del artículo',
                'result.editName': 'Editar nombre',
                'result.viewChat': 'Ver conversación',
                'result.shareResult': 'Compartir resultado',
                'result.delete': 'Eliminar',
                'result.confirmReanalyze': '¿Estás seguro de que quieres volver a identificar este artículo?',
                'result.confirmDelete': '¿Estás seguro de que quieres eliminar este elemento?',
                'result.reanalyzeFailed': 'Error al volver a analizar',
                'result.noDataToShare': 'No hay datos para compartir',
                'result.estimatedPrice': 'Precio estimado',
                'result.askAI': 'Preguntar a IA',
                'result.share': 'Compartir',
                'result.purchaseChannels': 'Canales de compra',
                'result.basicInfo': 'Información básica',
                'result.category': 'Categoría',
                'result.brand': 'Marca',
                'result.whereToBuy': 'Dónde comprar',
                'camera.scanHint': 'Alinear artículo para iniciar escaneo',
                'ai.title': 'Servicio Inteligente IA',
                'ai.uploadText': 'Subir foto para iniciar chat IA',
                'ai.uploadSubtext': 'Haz clic en el ícono para seleccionar foto\nIniciar análisis de diálogo inteligente',
                'ai.tips.title': '💡 Consejos de uso',
                'ai.tips.content': '• Elige una foto clara\n• IA analizará el contenido\n• Proporciona información personalizada',
                'settings.membership': 'Membresía',
                'settings.memberStatus': 'Estado de Miembro',
                'settings.memberStatusFree': 'Versión Gratuita',
                'settings.remainingScans': 'Escaneos Restantes',
                'settings.restorePurchase': 'Restaurar Compra',
                'settings.proFeatures': 'Funciones Pro',
                'settings.aiService': 'Servicio Inteligente IA',
                'settings.exportExcel': 'Exportar a Informe Excel',
                'export.selectPhotos': 'Seleccionar fotos para exportar',
                'export.selectAll': 'Seleccionar todo',
                'export.exportButton': 'Exportar Excel',
                'export.cancelButton': 'Cancelar',
                'export.noData': 'No hay datos para exportar',
                'export.selectAtLeastOne': 'Por favor seleccione al menos un elemento',
                'settings.batchRecognition': 'Reconocimiento de Fotos por Lotes',
                'settings.autoSaveAlbum': 'Guardar Automáticamente en Álbum',
                'settings.loginRegister': 'Iniciar Sesión/Registrarse',
                'settings.contactUs': 'Contáctanos',
                'settings.help': 'Ayuda',
                'settings.about': 'Acerca de la APP',
                'settings.appInfo': 'Información de la APP',
                'settings.rateApp': 'Calificar APP',
                'settings.shareApp': 'Compartir con Amigos',
                
                // Login/Register page
                'auth.subtitle': 'Escáner Universal de Precios',
                'auth.emailLabel': 'Dirección de Correo',
                'auth.emailPlaceholder': 'Ingresa tu correo',
                'auth.passwordLabel': 'Contraseña',
                'auth.passwordPlaceholder': 'Ingresa tu contraseña',
                'auth.forgotPassword': '¿Olvidaste tu contraseña?',
                'auth.loginButton': 'Iniciar Sesión',
                'auth.registerButton': 'Registrarse',
                'auth.noAccount': '¿No tienes cuenta?',
                'auth.hasAccount': '¿Ya tienes cuenta?',
                'auth.registerLink': 'Registrarse',
                'auth.loginLink': 'Iniciar Sesión',
                'auth.or': 'o',
                'auth.signInWithApple': 'Iniciar sesión con Apple',
                'auth.signInWithGoogle': 'Iniciar sesión con Google',
                
                // Pro Upgrade page
                'pro.title': 'Actualizar Plan',
                'pro.subtitle': 'Desbloquea todas las funciones poderosas para escaneo profesional',
                'pro.trialInfo': 'Prueba gratis 3 días',
                'pro.feature1Title': 'Servicio Inteligente IA',
                'pro.feature1Desc': 'Reconocimiento de artículos y análisis de precios más precisos',
                'pro.feature2Title': '1000 Escaneos por Mes',
                'pro.feature2Desc': 'Satisface todas tus necesidades de escaneo',
                'pro.feature3Title': 'Eliminar Anuncios Molestos',
                'pro.feature3Desc': 'Disfruta una experiencia limpia e ininterrumpida',
                'pro.feature4Title': 'Exportar Informes Excel',
                'pro.feature4Desc': 'Organización profesional de datos e informes de análisis',
                'pro.feature5Title': 'Reconocimiento de Fotos por Lotes',
                'pro.feature5Desc': 'Procesa múltiples fotos a la vez, ahorra tiempo',
                'pro.feature6Title': 'Guardar Automáticamente en Álbum',
                'pro.feature6Desc': 'Resultados de escaneo respaldados automáticamente',
                'pro.discountBadge': 'Ahorra 34%',
                'pro.yearlyPlan': 'Plan Anual',
                'pro.monthlyPlan': 'Plan Mensual',
                'pro.perMonth': 'por mes',
                'pro.yearlyTotal': '$1,188/año',
                'pro.monthlyBilling': 'Facturado mensualmente',
                'pro.startFreeTrial': 'Comenzar Prueba Gratis',
                'pro.termsOfUse': 'Términos de Uso',
                'pro.privacyPolicy': 'Política de Privacidad',
                'pro.subscriptionTerms': 'Términos de Suscripción',
                'pro.restorePurchase': 'Restaurar Compra',
                
                // Forgot Password page
                'forgot.title': 'Olvidé mi Contraseña',
                'forgot.description': 'Ingresa el correo que usaste para registrarte<br>Te enviaremos un enlace para restablecer tu contraseña',
                'forgot.emailLabel': 'Dirección de Correo',
                'forgot.emailPlaceholder': 'Ingresa tu correo',
                'forgot.continueButton': 'Continuar',
                
                // Success Dialog
                'success.emailSent': '¡Correo Enviado!',
                'success.resetMessage': 'El enlace para restablecer la contraseña ha sido enviado a tu correo<br>Por favor revisa tu correo y haz clic en el enlace para restablecer tu contraseña<br><br>Si no lo recibes, revisa tu carpeta de spam',
                'success.confirmButton': 'OK',
                
                // Análisis de IA
                'common.aiAnalyzing': 'IA analizando...',
                'common.aiAnalyzingTitle': 'IA analizando',
                'common.aiAnalyzingDesc': 'Comprendiendo el contenido de la imagen...',
                'common.batchAnalyzing': 'Analizando imagen {current} de {total}...'
            },
            'fr': {
                'app.title': 'LENSY - Scanner de Prix Universel',
                'nav.list': 'Liste',
                'nav.settings': 'Paramètres',
                'settings.title': 'Paramètres',
                'settings.general': 'Général',
                'settings.aiMode': 'Mode IA',
                'settings.batchAnalysis': 'Analyse de plusieurs photos',
                'settings.theme': 'Thème sombre',
                'settings.support': 'Support',
                'settings.language': 'Langue',
                'settings.feedback': 'Commentaires',
                'settings.aboutVersion': 'À propos et Version',
                'settings.account': 'Compte',
                'settings.logout': 'Déconnexion',
                'language.title': 'Sélectionner la langue',
                'language.common': 'Commun',
                'language.asia': 'Asie',
                'language.europe': 'Europe',
                'language.other': 'Autres',
                'list.search': 'Rechercher des photos',
                'list.selectMode': 'Sélectionner',
                'list.cancel': 'Annuler',
                'list.selectAll': 'Tout sélectionner',
                'list.deleteSelected': 'Supprimer la sélection',
                'list.selectItems': 'Sélectionner des éléments',
                'list.share': 'Partager',
                'list.delete': 'Supprimer',
                'list.selectedCount': '{count} sélectionnés',
                'list.empty.title': 'Commencer à scanner et enregistrer',
                'list.empty.desc': 'Scanner des articles et enregistrer les prix',
                
                // Page de résultats
                'result.title': 'Résultat de l\'analyse',
                'result.reanalyze': 'Corriger la reconnaissance de l\'article',
                'result.editName': 'Modifier le nom',
                'result.viewChat': 'Voir la conversation',
                'result.shareResult': 'Partager le résultat',
                'result.delete': 'Supprimer',
                'result.confirmReanalyze': 'Êtes-vous sûr de vouloir ré-identifier cet article ?',
                'result.confirmDelete': 'Êtes-vous sûr de vouloir supprimer cet élément ?',
                'result.reanalyzeFailed': 'Échec de la ré-analyse',
                'result.noDataToShare': 'Aucune donnée à partager',
                'result.estimatedPrice': 'Prix estimé',
                'result.askAI': 'Demander à l\'IA',
                'result.share': 'Partager',
                'result.purchaseChannels': 'Canaux d\'achat',
                'result.basicInfo': 'Informations de base',
                'result.category': 'Catégorie',
                'result.brand': 'Marque',
                'result.whereToBuy': 'Où acheter',
                'camera.scanHint': 'Aligner l\'article pour commencer le scan',
                'ai.title': 'Service IA Intelligent',
                'ai.uploadText': 'Télécharger photo pour démarrer chat IA',
                'ai.uploadSubtext': 'Cliquez sur l\'icône pour sélectionner photo\nDémarrer l\'analyse de dialogue intelligent',
                'ai.tips.title': '💡 Conseils d\'utilisation',
                'ai.tips.content': '• Choisir une photo claire\n• L\'IA analysera le contenu\n• Fournit des informations personnalisées',
                'settings.membership': 'Adhésion',
                'settings.memberStatus': 'Statut de Membre',
                'settings.memberStatusFree': 'Version Gratuite',
                'settings.remainingScans': 'Scans Restants',
                'settings.restorePurchase': 'Restaurer l\'Achat',
                'settings.proFeatures': 'Fonctionnalités Pro',
                'settings.aiService': 'Service IA Intelligent',
                'settings.exportExcel': 'Exporter vers Rapport Excel',
                'export.selectPhotos': 'Sélectionner les photos à exporter',
                'export.selectAll': 'Tout sélectionner',
                'export.exportButton': 'Exporter Excel',
                'export.cancelButton': 'Annuler',
                'export.noData': 'Aucune donnée à exporter',
                'export.selectAtLeastOne': 'Veuillez sélectionner au moins un élément',
                'settings.batchRecognition': 'Reconnaissance de Photos par Lots',
                'settings.autoSaveAlbum': 'Enregistrement Automatique dans l\'Album',
                'settings.loginRegister': 'Connexion/Inscription',
                'settings.contactUs': 'Nous Contacter',
                'settings.help': 'Aide',
                'settings.about': 'À propos de l\'APP',
                'settings.appInfo': 'Infos APP',
                'settings.rateApp': 'Évaluer l\'APP',
                'settings.shareApp': 'Partager avec des Amis',
                
                // Login/Register page
                'auth.subtitle': 'Scanner de Prix Universel',
                'auth.emailLabel': 'Adresse Email',
                'auth.emailPlaceholder': 'Entrez votre email',
                'auth.passwordLabel': 'Mot de passe',
                'auth.passwordPlaceholder': 'Entrez votre mot de passe',
                'auth.forgotPassword': 'Mot de passe oublié?',
                'auth.loginButton': 'Se Connecter',
                'auth.registerButton': 'S\'inscrire',
                'auth.noAccount': 'Pas de compte?',
                'auth.hasAccount': 'Déjà un compte?',
                'auth.registerLink': 'S\'inscrire',
                'auth.loginLink': 'Se Connecter',
                'auth.or': 'ou',
                'auth.signInWithApple': 'Se connecter avec Apple',
                'auth.signInWithGoogle': 'Se connecter avec Google',
                
                // Pro Upgrade page
                'pro.title': 'Mettre à Niveau',
                'pro.subtitle': 'Débloquez toutes les fonctionnalités puissantes pour un scan professionnel',
                'pro.trialInfo': 'Essai gratuit 3 jours',
                'pro.feature1Title': 'Service IA Intelligent',
                'pro.feature1Desc': 'Reconnaissance d\'articles et analyse de prix plus précises',
                'pro.feature2Title': '1000 Scans par Mois',
                'pro.feature2Desc': 'Répond à tous vos besoins de scan',
                'pro.feature3Title': 'Supprimer les Publicités Gênantes',
                'pro.feature3Desc': 'Profitez d\'une expérience propre et ininterrompue',
                'pro.feature4Title': 'Exporter des Rapports Excel',
                'pro.feature4Desc': 'Organisation professionnelle des données et rapports d\'analyse',
                'pro.feature5Title': 'Reconnaissance de Photos par Lots',
                'pro.feature5Desc': 'Traiter plusieurs photos à la fois, économiser du temps',
                'pro.feature6Title': 'Enregistrement Automatique dans l\'Album',
                'pro.feature6Desc': 'Résultats de scan sauvegardés automatiquement',
                'pro.discountBadge': 'Économisez 34%',
                'pro.yearlyPlan': 'Plan Annuel',
                'pro.monthlyPlan': 'Plan Mensuel',
                'pro.perMonth': 'par mois',
                'pro.yearlyTotal': '$1,188/an',
                'pro.monthlyBilling': 'Facturé mensuellement',
                'pro.startFreeTrial': 'Commencer l\'Essai Gratuit',
                'pro.termsOfUse': 'Conditions d\'Utilisation',
                'pro.privacyPolicy': 'Politique de Confidentialité',
                'pro.subscriptionTerms': 'Conditions d\'Abonnement',
                'pro.restorePurchase': 'Restaurer l\'Achat',
                
                // Forgot Password page
                'forgot.title': 'Mot de Passe Oublié',
                'forgot.description': 'Entrez l\'adresse email utilisée lors de l\'inscription<br>Nous vous enverrons un lien de réinitialisation',
                'forgot.emailLabel': 'Adresse Email',
                'forgot.emailPlaceholder': 'Entrez votre email',
                'forgot.continueButton': 'Continuer',
                
                // Success Dialog
                'success.emailSent': 'Email Envoyé!',
                'success.resetMessage': 'Le lien de réinitialisation du mot de passe a été envoyé à votre boîte mail<br>Veuillez vérifier votre email et cliquer sur le lien pour réinitialiser votre mot de passe<br><br>Si vous ne le recevez pas, vérifiez votre dossier spam',
                'success.confirmButton': 'OK',
                
                // Analyse IA
                'common.aiAnalyzing': 'L\'IA analyse...',
                'common.aiAnalyzingTitle': 'L\'IA analyse',
                'common.aiAnalyzingDesc': 'Comprendre le contenu de l\'image...',
                'common.batchAnalyzing': 'Analyse de l\'image {current} sur {total}...'
            },
            'de': {
                'app.title': 'LENSY - Universeller Preisscanner',
                'nav.list': 'Liste',
                'nav.settings': 'Einstellungen',
                'settings.title': 'Einstellungen',
                'settings.general': 'Allgemein',
                'settings.aiMode': 'KI-Modus',
                'settings.batchAnalysis': 'Stapelanalyse mehrerer Fotos',
                'settings.theme': 'Dunkles Design',
                'settings.support': 'Unterstützung',
                'settings.language': 'Sprache',
                'settings.feedback': 'Feedback',
                'settings.aboutVersion': 'Über & Version',
                'settings.account': 'Konto',
                'settings.logout': 'Abmelden',
                'language.title': 'Sprache auswählen',
                'language.common': 'Häufig',
                'language.asia': 'Asien',
                'language.europe': 'Europa',
                'language.other': 'Andere',
                'list.search': 'Fotos suchen',
                'list.selectMode': 'Auswählen',
                'list.cancel': 'Abbrechen',
                'list.selectAll': 'Alle auswählen',
                'list.deleteSelected': 'Ausgewählte löschen',
                'list.selectItems': 'Elemente auswählen',
                'list.share': 'Teilen',
                'list.delete': 'Löschen',
                'list.selectedCount': '{count} ausgewählt',
                'list.empty.title': 'Scannen und Aufzeichnen beginnen',
                'list.empty.desc': 'Artikel scannen und Preise aufzeichnen',
                
                // Ergebnisseite
                'result.title': 'Analyseergebnis',
                'result.reanalyze': 'Artikelerkennung korrigieren',
                'result.editName': 'Name bearbeiten',
                'result.viewChat': 'Konversation anzeigen',
                'result.shareResult': 'Ergebnis teilen',
                'result.delete': 'Löschen',
                'result.confirmReanalyze': 'Sind Sie sicher, dass Sie diesen Artikel neu identifizieren möchten?',
                'result.confirmDelete': 'Sind Sie sicher, dass Sie dieses Element löschen möchten?',
                'result.reanalyzeFailed': 'Neuanalyse fehlgeschlagen',
                'result.noDataToShare': 'Keine Daten zum Teilen vorhanden',
                'result.estimatedPrice': 'Geschätzter Preis',
                'result.askAI': 'KI fragen',
                'result.share': 'Teilen',
                'result.purchaseChannels': 'Kaufkanäle',
                'result.basicInfo': 'Grundinformationen',
                'result.category': 'Kategorie',
                'result.brand': 'Marke',
                'result.whereToBuy': 'Wo kaufen',
                'camera.scanHint': 'Artikel ausrichten um Scan zu starten',
                'ai.title': 'KI Intelligenter Service',
                'ai.uploadText': 'Foto hochladen um KI-Chat zu starten',
                'ai.uploadSubtext': 'Klicken Sie auf das Symbol um Foto auszuwählen\nIntelligente Dialoganalyse starten',
                'ai.tips.title': '💡 Nutzungstipps',
                'ai.tips.content': '• Klares Foto wählen\n• KI analysiert Fotoinhalt\n• Bietet personalisierte Einblicke',
                'settings.membership': 'Mitgliedschaft',
                'settings.memberStatus': 'Mitgliedsstatus',
                'settings.memberStatusFree': 'Kostenlose Version',
                'settings.remainingScans': 'Verbleibende Scans',
                'settings.restorePurchase': 'Kauf Wiederherstellen',
                'settings.proFeatures': 'Pro-Funktionen',
                'settings.aiService': 'KI Intelligenter Service',
                'settings.exportExcel': 'Als Excel-Bericht Exportieren',
                'export.selectPhotos': 'Fotos zum Exportieren auswählen',
                'export.selectAll': 'Alle auswählen',
                'export.exportButton': 'Excel exportieren',
                'export.cancelButton': 'Abbrechen',
                'export.noData': 'Keine Daten zum Exportieren',
                'export.selectAtLeastOne': 'Bitte wählen Sie mindestens ein Element aus',
                'settings.batchRecognition': 'Stapel-Fotoerkennung',
                'settings.autoSaveAlbum': 'Automatisch im Album Speichern',
                'settings.loginRegister': 'Anmelden/Registrieren',
                'settings.contactUs': 'Kontaktiere Uns',
                'settings.help': 'Hilfe',
                'settings.about': 'Über die APP',
                'settings.appInfo': 'APP-Info',
                'settings.rateApp': 'APP Bewerten',
                'settings.shareApp': 'Mit Freunden Teilen',
                
                // Login/Register page
                'auth.subtitle': 'Universeller Preisscanner',
                'auth.emailLabel': 'E-Mail-Adresse',
                'auth.emailPlaceholder': 'Geben Sie Ihre E-Mail ein',
                'auth.passwordLabel': 'Passwort',
                'auth.passwordPlaceholder': 'Geben Sie Ihr Passwort ein',
                'auth.forgotPassword': 'Passwort vergessen?',
                'auth.loginButton': 'Anmelden',
                'auth.registerButton': 'Registrieren',
                'auth.noAccount': 'Kein Konto?',
                'auth.hasAccount': 'Bereits ein Konto?',
                'auth.registerLink': 'Registrieren',
                'auth.loginLink': 'Anmelden',
                'auth.or': 'oder',
                'auth.signInWithApple': 'Mit Apple anmelden',
                'auth.signInWithGoogle': 'Mit Google anmelden',
                
                // Pro Upgrade page
                'pro.title': 'Plan Upgraden',
                'pro.subtitle': 'Alle leistungsstarken Funktionen für professionelles Scannen freischalten',
                'pro.trialInfo': '3 Tage kostenlose Testversion',
                'pro.feature1Title': 'KI Intelligenter Service',
                'pro.feature1Desc': 'Genauere Artikelerkennung und Preisanalyse',
                'pro.feature2Title': '1000 Scans pro Monat',
                'pro.feature2Desc': 'Erfüllt alle Ihre Scan-Bedürfnisse',
                'pro.feature3Title': 'Lästige Werbung Entfernen',
                'pro.feature3Desc': 'Genießen Sie eine saubere, ununterbrochene Erfahrung',
                'pro.feature4Title': 'Excel-Berichte Exportieren',
                'pro.feature4Desc': 'Professionelle Datenorganisation und Analyseberichte',
                'pro.feature5Title': 'Stapel-Fotoerkennung',
                'pro.feature5Desc': 'Mehrere Fotos gleichzeitig verarbeiten, Zeit sparen',
                'pro.feature6Title': 'Automatisch im Album Speichern',
                'pro.feature6Desc': 'Scan-Ergebnisse automatisch gesichert',
                'pro.discountBadge': '34% Sparen',
                'pro.yearlyPlan': 'Jahresplan',
                'pro.monthlyPlan': 'Monatsplan',
                'pro.perMonth': 'pro Monat',
                'pro.yearlyTotal': '$1.188/Jahr',
                'pro.monthlyBilling': 'Monatlich abgerechnet',
                'pro.startFreeTrial': 'Kostenlose Testversion Starten',
                'pro.termsOfUse': 'Nutzungsbedingungen',
                'pro.privacyPolicy': 'Datenschutzrichtlinie',
                'pro.subscriptionTerms': 'Abonnementbedingungen',
                'pro.restorePurchase': 'Kauf Wiederherstellen',
                
                // Forgot Password page
                'forgot.title': 'Passwort Vergessen',
                'forgot.description': 'Geben Sie die E-Mail-Adresse ein, die Sie bei der Registrierung verwendet haben<br>Wir senden Ihnen einen Link zum Zurücksetzen des Passworts',
                'forgot.emailLabel': 'E-Mail-Adresse',
                'forgot.emailPlaceholder': 'Geben Sie Ihre E-Mail ein',
                'forgot.continueButton': 'Weiter',
                
                // Success Dialog
                'success.emailSent': 'E-Mail Gesendet!',
                'success.resetMessage': 'Der Link zum Zurücksetzen des Passworts wurde an Ihren Posteingang gesendet<br>Bitte überprüfen Sie Ihre E-Mail und klicken Sie auf den Link, um Ihr Passwort zurückzusetzen<br><br>Wenn Sie ihn nicht erhalten, überprüfen Sie Ihren Spam-Ordner',
                'success.confirmButton': 'OK',
                
                // KI-Analyse
                'common.aiAnalyzing': 'KI analysiert...',
                'common.aiAnalyzingTitle': 'KI analysiert',
                'common.aiAnalyzingDesc': 'Bildinhalt verstehen...',
                'common.batchAnalyzing': 'Analysiere Bild {current} von {total}...'
            },
            'it': {
                'app.title': 'LENSY - Scanner Universale dei Prezzi',
                'nav.list': 'Lista',
                'nav.settings': 'Impostazioni',
                'settings.title': 'Impostazioni',
                'settings.general': 'Generale',
                'settings.aiMode': 'Modalità IA',
                'settings.batchAnalysis': 'Analisi di più foto',
                'settings.theme': 'Tema scuro',
                'settings.support': 'Supporto',
                'settings.language': 'Lingua',
                'settings.feedback': 'Feedback',
                'settings.aboutVersion': 'Info e Versione',
                'settings.account': 'Account',
                'settings.logout': 'Esci',
                'language.title': 'Seleziona lingua',
                'language.common': 'Comune',
                'language.asia': 'Asia',
                'language.europe': 'Europa',
                'language.other': 'Altri',
                'list.search': 'Cerca foto',
                'list.selectMode': 'Seleziona',
                'list.cancel': 'Annulla',
                'list.selectAll': 'Seleziona tutto',
                'list.deleteSelected': 'Elimina selezionati',
                'list.selectItems': 'Seleziona elementi',
                'list.share': 'Condividi',
                'list.delete': 'Elimina',
                'list.selectedCount': '{count} selezionati',
                'list.empty.title': 'Inizia a scansionare e registrare',
                'list.empty.desc': 'Scansiona articoli e registra prezzi',
                
                // Pagina risultati
                'result.title': 'Risultato dell\'analisi',
                'result.reanalyze': 'Correggi riconoscimento articolo',
                'result.editName': 'Modifica nome',
                'result.viewChat': 'Visualizza conversazione',
                'result.shareResult': 'Condividi risultato',
                'result.delete': 'Elimina',
                'result.confirmReanalyze': 'Sei sicuro di voler ri-identificare questo articolo?',
                'result.confirmDelete': 'Sei sicuro di voler eliminare questo elemento?',
                'result.reanalyzeFailed': 'Ri-analisi fallita',
                'result.noDataToShare': 'Nessun dato da condividere',
                'result.estimatedPrice': 'Prezzo stimato',
                'result.askAI': 'Chiedi all\'IA',
                'result.share': 'Condividi',
                'result.purchaseChannels': 'Canali di acquisto',
                'result.basicInfo': 'Informazioni di base',
                'result.category': 'Categoria',
                'result.brand': 'Marca',
                'result.whereToBuy': 'Dove acquistare',
                'camera.scanHint': 'Allinea articolo per iniziare scansione',
                'ai.title': 'Servizio IA Intelligente',
                'ai.uploadText': 'Carica foto per iniziare chat IA',
                'ai.uploadSubtext': 'Clicca sull\'icona per selezionare foto\nInizia analisi dialogo intelligente',
                'ai.tips.title': '💡 Suggerimenti d\'uso',
                'ai.tips.content': '• Scegli una foto chiara\n• IA analizzerà il contenuto\n• Fornisce approfondimenti personalizzati',
                'settings.membership': 'Abbonamento',
                'settings.memberStatus': 'Stato Membro',
                'settings.memberStatusFree': 'Versione Gratuita',
                'settings.remainingScans': 'Scansioni Rimanenti',
                'settings.restorePurchase': 'Ripristina Acquisto',
                'settings.proFeatures': 'Funzionalità Pro',
                'settings.aiService': 'Servizio IA Intelligente',
                'settings.exportExcel': 'Esporta in Report Excel',
                'export.selectPhotos': 'Seleziona foto da esportare',
                'export.selectAll': 'Seleziona tutto',
                'export.exportButton': 'Esporta Excel',
                'export.cancelButton': 'Annulla',
                'export.noData': 'Nessun dato da esportare',
                'export.selectAtLeastOne': 'Seleziona almeno un elemento',
                'settings.batchRecognition': 'Riconoscimento Foto in Batch',
                'settings.autoSaveAlbum': 'Salvataggio Automatico nell\'Album',
                'settings.loginRegister': 'Accedi/Registrati',
                'settings.contactUs': 'Contattaci',
                'settings.help': 'Aiuto',
                'settings.about': 'Info sull\'APP',
                'settings.appInfo': 'Info APP',
                'settings.rateApp': 'Valuta APP',
                'settings.shareApp': 'Condividi con Amici',
                
                // Login/Register page
                'auth.subtitle': 'Scanner Universale dei Prezzi',
                'auth.emailLabel': 'Indirizzo Email',
                'auth.emailPlaceholder': 'Inserisci la tua email',
                'auth.passwordLabel': 'Password',
                'auth.passwordPlaceholder': 'Inserisci la tua password',
                'auth.forgotPassword': 'Password dimenticata?',
                'auth.loginButton': 'Accedi',
                'auth.registerButton': 'Registrati',
                'auth.noAccount': 'Non hai un account?',
                'auth.hasAccount': 'Hai già un account?',
                'auth.registerLink': 'Registrati',
                'auth.loginLink': 'Accedi',
                'auth.or': 'o',
                'auth.signInWithApple': 'Accedi con Apple',
                'auth.signInWithGoogle': 'Accedi con Google',
                
                // Pro Upgrade page
                'pro.title': 'Aggiorna Piano',
                'pro.subtitle': 'Sblocca tutte le potenti funzionalità per scansione professionale',
                'pro.trialInfo': 'Prova gratuita 3 giorni',
                'pro.feature1Title': 'Servizio IA Intelligente',
                'pro.feature1Desc': 'Riconoscimento articoli e analisi prezzi più accurati',
                'pro.feature2Title': '1000 Scansioni al Mese',
                'pro.feature2Desc': 'Soddisfa tutte le tue esigenze di scansione',
                'pro.feature3Title': 'Rimuovi Pubblicità Fastidiose',
                'pro.feature3Desc': 'Goditi un\'esperienza pulita e ininterrotta',
                'pro.feature4Title': 'Esporta Report Excel',
                'pro.feature4Desc': 'Organizzazione professionale dei dati e report di analisi',
                'pro.feature5Title': 'Riconoscimento Foto in Batch',
                'pro.feature5Desc': 'Elabora più foto contemporaneamente, risparmia tempo',
                'pro.feature6Title': 'Salvataggio Automatico nell\'Album',
                'pro.feature6Desc': 'Risultati di scansione salvati automaticamente',
                'pro.discountBadge': 'Risparmia 34%',
                'pro.yearlyPlan': 'Piano Annuale',
                'pro.monthlyPlan': 'Piano Mensile',
                'pro.perMonth': 'al mese',
                'pro.yearlyTotal': '€1.188/anno',
                'pro.monthlyBilling': 'Fatturato mensilmente',
                'pro.startFreeTrial': 'Inizia Prova Gratuita',
                'pro.termsOfUse': 'Termini di Utilizzo',
                'pro.privacyPolicy': 'Politica sulla Privacy',
                'pro.subscriptionTerms': 'Termini di Abbonamento',
                'pro.restorePurchase': 'Ripristina Acquisto',
                
                // Forgot Password page
                'forgot.title': 'Password Dimenticata',
                'forgot.description': 'Inserisci l\'indirizzo email usato per registrarti<br>Ti invieremo un link per reimpostare la password',
                'forgot.emailLabel': 'Indirizzo Email',
                'forgot.emailPlaceholder': 'Inserisci la tua email',
                'forgot.continueButton': 'Continua',
                
                // Success Dialog
                'success.emailSent': 'Email Inviata!',
                'success.resetMessage': 'Il link per reimpostare la password è stato inviato alla tua casella di posta<br>Controlla la tua email e clicca sul link per reimpostare la password<br><br>Se non lo ricevi, controlla la cartella spam',
                'success.confirmButton': 'OK',
                
                // Analisi AI
                'common.aiAnalyzing': 'L\'IA sta analizzando...',
                'common.aiAnalyzingTitle': 'L\'IA sta analizzando',
                'common.aiAnalyzingDesc': 'Comprensione del contenuto dell\'immagine...',
                'common.batchAnalyzing': 'Analizzando immagine {current} di {total}...'
            },
            'pt': {
                'app.title': 'LENSY - Scanner Universal de Preços',
                'nav.list': 'Lista',
                'nav.settings': 'Configurações',
                'settings.title': 'Configurações',
                'settings.general': 'Geral',
                'settings.aiMode': 'Modo IA',
                'settings.batchAnalysis': 'Análise de várias fotos',
                'settings.theme': 'Tema escuro',
                'settings.support': 'Suporte',
                'settings.language': 'Idioma',
                'settings.feedback': 'Feedback',
                'settings.aboutVersion': 'Sobre e Versão',
                'settings.account': 'Conta',
                'settings.logout': 'Sair',
                'language.title': 'Selecionar idioma',
                'language.common': 'Comum',
                'language.asia': 'Ásia',
                'language.europe': 'Europa',
                'language.other': 'Outros',
                'list.search': 'Pesquisar fotos',
                'list.selectMode': 'Selecionar',
                'list.cancel': 'Cancelar',
                'list.selectAll': 'Selecionar tudo',
                'list.deleteSelected': 'Excluir selecionados',
                'list.selectItems': 'Selecionar itens',
                'list.share': 'Compartilhar',
                'list.delete': 'Excluir',
                'list.selectedCount': '{count} selecionados',
                'list.empty.title': 'Começar a digitalizar e registrar',
                'list.empty.desc': 'Digitalize itens e registre preços',
                
                // Página de resultados
                'result.title': 'Resultado da análise',
                'result.reanalyze': 'Corrigir reconhecimento do item',
                'result.editName': 'Editar nome',
                'result.viewChat': 'Ver conversa',
                'result.shareResult': 'Compartilhar resultado',
                'result.delete': 'Excluir',
                'result.confirmReanalyze': 'Tem certeza de que deseja re-identificar este item?',
                'result.confirmDelete': 'Tem certeza de que deseja excluir este item?',
                'result.reanalyzeFailed': 'Falha ao re-analisar',
                'result.noDataToShare': 'Nenhum dado para compartilhar',
                'result.estimatedPrice': 'Preço estimado',
                'result.askAI': 'Perguntar à IA',
                'result.share': 'Compartilhar',
                'result.purchaseChannels': 'Canais de compra',
                'result.basicInfo': 'Informações básicas',
                'result.category': 'Categoria',
                'result.brand': 'Marca',
                'result.whereToBuy': 'Onde comprar',
                'camera.scanHint': 'Alinhe item para iniciar digitalização',
                'ai.title': 'Serviço IA Inteligente',
                'ai.uploadText': 'Carregar foto para iniciar chat IA',
                'ai.uploadSubtext': 'Clique no ícone para selecionar foto\nIniciar análise de diálogo inteligente',
                'ai.tips.title': '💡 Dicas de uso',
                'ai.tips.content': '• Escolha uma foto clara\n• IA analisará o conteúdo\n• Fornece insights personalizados',
                'settings.membership': 'Assinatura',
                'settings.memberStatus': 'Status de Membro',
                'settings.memberStatusFree': 'Versão Gratuita',
                'settings.remainingScans': 'Digitalizações Restantes',
                'settings.restorePurchase': 'Restaurar Compra',
                'settings.proFeatures': 'Recursos Pro',
                'settings.aiService': 'Serviço IA Inteligente',
                'settings.exportExcel': 'Exportar para Relatório Excel',
                'export.selectPhotos': 'Selecionar fotos para exportar',
                'export.selectAll': 'Selecionar tudo',
                'export.exportButton': 'Exportar Excel',
                'export.cancelButton': 'Cancelar',
                'export.noData': 'Sem dados para exportar',
                'export.selectAtLeastOne': 'Por favor, selecione pelo menos um item',
                'settings.batchRecognition': 'Reconhecimento de Fotos em Lote',
                'settings.autoSaveAlbum': 'Salvar Automaticamente no Álbum',
                'settings.loginRegister': 'Entrar/Registrar',
                'settings.contactUs': 'Fale Conosco',
                'settings.help': 'Ajuda',
                'settings.about': 'Sobre o APP',
                'settings.appInfo': 'Informações do APP',
                'settings.rateApp': 'Avaliar APP',
                'settings.shareApp': 'Compartilhar com Amigos',
                
                // Login/Register page
                'auth.subtitle': 'Scanner Universal de Preços',
                'auth.emailLabel': 'Endereço de Email',
                'auth.emailPlaceholder': 'Digite seu email',
                'auth.passwordLabel': 'Senha',
                'auth.passwordPlaceholder': 'Digite sua senha',
                'auth.forgotPassword': 'Esqueceu a senha?',
                'auth.loginButton': 'Entrar',
                'auth.registerButton': 'Registrar',
                'auth.noAccount': 'Não tem conta?',
                'auth.hasAccount': 'Já tem conta?',
                'auth.registerLink': 'Registrar',
                'auth.loginLink': 'Entrar',
                'auth.or': 'ou',
                'auth.signInWithApple': 'Entrar com Apple',
                'auth.signInWithGoogle': 'Entrar com Google',
                
                // Pro Upgrade page
                'pro.title': 'Atualizar Plano',
                'pro.subtitle': 'Desbloqueie todos os recursos poderosos para digitalização profissional',
                'pro.trialInfo': 'Teste grátis por 3 dias',
                'pro.feature1Title': 'Serviço IA Inteligente',
                'pro.feature1Desc': 'Reconhecimento de itens e análise de preços mais precisos',
                'pro.feature2Title': '1000 Digitalizações por Mês',
                'pro.feature2Desc': 'Atende todas as suas necessidades de digitalização',
                'pro.feature3Title': 'Remover Anúncios Irritantes',
                'pro.feature3Desc': 'Desfrute de uma experiência limpa e ininterrupta',
                'pro.feature4Title': 'Exportar Relatórios Excel',
                'pro.feature4Desc': 'Organização profissional de dados e relatórios de análise',
                'pro.feature5Title': 'Reconhecimento de Fotos em Lote',
                'pro.feature5Desc': 'Processe várias fotos de uma vez, economize tempo',
                'pro.feature6Title': 'Salvar Automaticamente no Álbum',
                'pro.feature6Desc': 'Resultados de digitalização salvos automaticamente',
                'pro.discountBadge': 'Economize 34%',
                'pro.yearlyPlan': 'Plano Anual',
                'pro.monthlyPlan': 'Plano Mensal',
                'pro.perMonth': 'por mês',
                'pro.yearlyTotal': 'R$1.188/ano',
                'pro.monthlyBilling': 'Cobrado mensalmente',
                'pro.startFreeTrial': 'Iniciar Teste Gratuito',
                'pro.termsOfUse': 'Termos de Uso',
                'pro.privacyPolicy': 'Política de Privacidade',
                'pro.subscriptionTerms': 'Termos de Assinatura',
                'pro.restorePurchase': 'Restaurar Compra',
                
                // Forgot Password page
                'forgot.title': 'Esqueci a Senha',
                'forgot.description': 'Digite o endereço de email usado no registro<br>Enviaremos um link para redefinir sua senha',
                'forgot.emailLabel': 'Endereço de Email',
                'forgot.emailPlaceholder': 'Digite seu email',
                'forgot.continueButton': 'Continuar',
                
                // Success Dialog
                'success.emailSent': 'Email Enviado!',
                'success.resetMessage': 'O link para redefinir a senha foi enviado para sua caixa de entrada<br>Verifique seu email e clique no link para redefinir sua senha<br><br>Se não receber, verifique a pasta de spam',
                'success.confirmButton': 'OK',
                
                // Análise de IA
                'common.aiAnalyzing': 'IA analisando...',
                'common.aiAnalyzingTitle': 'IA analisando',
                'common.aiAnalyzingDesc': 'Compreendendo o conteúdo da imagem...',
                'common.batchAnalyzing': 'Analisando imagem {current} de {total}...'
            },
            'ar': {
                'app.title': 'LENSY - ماسح الأسعار العالمي',
                'nav.list': 'القائمة',
                'nav.settings': 'الإعدادات',
                'settings.title': 'الإعدادات',
                'settings.general': 'عام',
                'settings.aiMode': 'وضع الذكاء الاصطناعي',
                'settings.batchAnalysis': 'تحليل عدة صور',
                'settings.theme': 'المظهر الداكن',
                'settings.support': 'الدعم',
                'settings.language': 'اللغة',
                'settings.feedback': 'التعليقات',
                'settings.aboutVersion': 'حول والإصدار',
                'settings.account': 'الحساب',
                'settings.logout': 'تسجيل الخروج',
                'language.title': 'اختر اللغة',
                'language.common': 'شائع',
                'language.asia': 'آسيا',
                'language.europe': 'أوروبا',
                'language.other': 'أخرى',
                'list.search': 'البحث عن الصور',
                'list.selectMode': 'تحديد',
                'list.cancel': 'إلغاء',
                'list.selectAll': 'تحديد الكل',
                'list.deleteSelected': 'حذف المحدد',
                'list.selectItems': 'تحديد عناصر',
                'list.share': 'مشاركة',
                'list.delete': 'حذف',
                'list.selectedCount': 'تم تحديد {count}',
                'list.empty.title': 'ابدأ المسح والتسجيل',
                'list.empty.desc': 'امسح العناصر وسجل الأسعار',
                
                // صفحة النتائج
                'result.title': 'نتيجة التحليل',
                'result.reanalyze': 'تصحيح التعرف على العنصر',
                'result.editName': 'تعديل الاسم',
                'result.viewChat': 'عرض المحادثة',
                'result.shareResult': 'مشاركة النتيجة',
                'result.delete': 'حذف',
                'result.confirmReanalyze': 'هل أنت متأكد من أنك تريد إعادة تحديد هذا العنصر؟',
                'result.confirmDelete': 'هل أنت متأكد من أنك تريد حذف هذا العنصر؟',
                'result.reanalyzeFailed': 'فشلت إعادة التحليل',
                'result.noDataToShare': 'لا توجد بيانات للمشاركة',
                'result.estimatedPrice': 'السعر المقدر',
                'result.askAI': 'اسأل الذكاء الاصطناعي',
                'result.share': 'مشاركة',
                'result.purchaseChannels': 'قنوات الشراء',
                'result.basicInfo': 'المعلومات الأساسية',
                'result.category': 'الفئة',
                'result.brand': 'العلامة التجارية',
                'result.whereToBuy': 'أين تشتري',
                'camera.scanHint': 'وجه العنصر لبدء المسح',
                'ai.title': 'خدمة الذكاء الاصطناعي',
                'ai.uploadText': 'ارفع صورة لبدء دردشة الذكاء الاصطناعي',
                'ai.uploadSubtext': 'انقر على الأيقونة لاختيار صورة\nابدأ تحليل الحوار الذكي',
                'ai.tips.title': '💡 نصائح الاستخدام',
                'ai.tips.content': '• اختر صورة واضحة\n• سيحلل الذكاء الاصطناعي المحتوى\n• يوفر رؤى مخصصة',
                'settings.membership': 'العضوية',
                'settings.memberStatus': 'حالة العضو',
                'settings.memberStatusFree': 'الإصدار المجاني',
                'settings.remainingScans': 'عدد المسحات المتبقية',
                'settings.restorePurchase': 'استعادة الشراء',
                'settings.proFeatures': 'مميزات Pro',
                'settings.aiService': 'خدمة الذكاء الاصطناعي الذكية',
                'settings.exportExcel': 'تصدير إلى تقرير Excel',
                'export.selectPhotos': 'اختر الصور للتصدير',
                'export.selectAll': 'تحديد الكل',
                'export.exportButton': 'تصدير Excel',
                'export.cancelButton': 'إلغاء',
                'export.noData': 'لا توجد بيانات للتصدير',
                'export.selectAtLeastOne': 'الرجاء تحديد عنصر واحد على الأقل',
                'settings.batchRecognition': 'التعرف على الصور بالدفعة',
                'settings.autoSaveAlbum': 'الحفظ التلقائي في الألبوم',
                'settings.loginRegister': 'تسجيل الدخول/التسجيل',
                'settings.contactUs': 'اتصل بنا',
                'settings.help': 'مساعدة',
                'settings.about': 'حول التطبيق',
                'settings.appInfo': 'معلومات التطبيق',
                'settings.rateApp': 'تقييم التطبيق',
                'settings.shareApp': 'مشاركة مع الأصدقاء',
                
                // Login/Register page
                'auth.subtitle': 'ماسح الأسعار العالمي',
                'auth.emailLabel': 'عنوان البريد الإلكتروني',
                'auth.emailPlaceholder': 'أدخل بريدك الإلكتروني',
                'auth.passwordLabel': 'كلمة المرور',
                'auth.passwordPlaceholder': 'أدخل كلمة المرور',
                'auth.forgotPassword': 'نسيت كلمة المرور؟',
                'auth.loginButton': 'تسجيل الدخول',
                'auth.registerButton': 'إنشاء حساب',
                'auth.noAccount': 'ليس لديك حساب؟',
                'auth.hasAccount': 'لديك حساب بالفعل؟',
                'auth.registerLink': 'إنشاء حساب',
                'auth.loginLink': 'تسجيل الدخول',
                'auth.or': 'أو',
                'auth.signInWithApple': 'تسجيل الدخول بواسطة Apple',
                'auth.signInWithGoogle': 'تسجيل الدخول بواسطة Google',
                
                // Pro Upgrade page
                'pro.title': 'ترقية الخطة',
                'pro.subtitle': 'فتح جميع المزايا القوية للمسح الاحترافي',
                'pro.trialInfo': 'تجربة مجانية لمدة 3 أيام',
                'pro.feature1Title': 'خدمة الذكاء الاصطناعي الذكية',
                'pro.feature1Desc': 'تعرف أكثر دقة على العناصر وتحليل الأسعار',
                'pro.feature2Title': '1000 مسح شهرياً',
                'pro.feature2Desc': 'يلبي جميع احتياجاتك في المسح',
                'pro.feature3Title': 'إزالة الإعلانات المزعجة',
                'pro.feature3Desc': 'استمتع بتجربة نظيفة وغير منقطعة',
                'pro.feature4Title': 'تصدير تقارير Excel',
                'pro.feature4Desc': 'تنظيم البيانات المهني وتقارير التحليل',
                'pro.feature5Title': 'التعرف على الصور بالدفعة',
                'pro.feature5Desc': 'معالجة عدة صور في وقت واحد، توفير الوقت',
                'pro.feature6Title': 'الحفظ التلقائي في الألبوم',
                'pro.feature6Desc': 'حفظ نتائج المسح تلقائياً',
                'pro.discountBadge': 'وفر 34%',
                'pro.yearlyPlan': 'الخطة السنوية',
                'pro.monthlyPlan': 'الخطة الشهرية',
                'pro.perMonth': 'شهرياً',
                'pro.yearlyTotal': '$1,188/سنة',
                'pro.monthlyBilling': 'فوترة شهرية',
                'pro.startFreeTrial': 'بدء التجربة المجانية',
                'pro.termsOfUse': 'شروط الاستخدام',
                'pro.privacyPolicy': 'سياسة الخصوصية',
                'pro.subscriptionTerms': 'شروط الاشتراك',
                'pro.restorePurchase': 'استعادة الشراء',
                
                // Forgot Password page
                'forgot.title': 'نسيت كلمة المرور',
                'forgot.description': 'أدخل عنوان البريد الإلكتروني الذي استخدمته للتسجيل<br>سنرسل لك رابط إعادة تعيين كلمة المرور',
                'forgot.emailLabel': 'عنوان البريد الإلكتروني',
                'forgot.emailPlaceholder': 'أدخل بريدك الإلكتروني',
                'forgot.continueButton': 'متابعة',
                
                // Success Dialog
                'success.emailSent': 'تم إرسال البريد الإلكتروني!',
                'success.resetMessage': 'تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الوارد<br>يرجى التحقق من بريدك الإلكتروني والنقر على الرابط لإعادة تعيين كلمة المرور<br><br>إذا لم تستلمه، تحقق من مجلد البريد العشوائي',
                'success.confirmButton': 'موافق',
                
                // تحليل الذكاء الاصطناعي
                'common.aiAnalyzing': 'جارٍ التحليل بواسطة الذكاء الاصطناعي...',
                'common.aiAnalyzingTitle': 'جارٍ التحليل بواسطة الذكاء الاصطناعي',
                'common.aiAnalyzingDesc': 'فهم محتوى الصورة...',
                'common.batchAnalyzing': 'تحليل الصورة {current} من {total}...'
            },
            'tr': {
                'app.title': 'LENSY - Evrensel Fiyat Tarayıcı',
                'nav.list': 'Liste',
                'nav.settings': 'Ayarlar',
                'settings.title': 'Ayarlar',
                'settings.general': 'Genel',
                'settings.aiMode': 'AI Modu',
                'settings.batchAnalysis': 'Çoklu fotoğraf analizi',
                'settings.theme': 'Koyu tema',
                'settings.support': 'Destek',
                'settings.language': 'Dil',
                'settings.feedback': 'Geri bildirim',
                'settings.aboutVersion': 'Hakkında ve Sürüm',
                'settings.account': 'Hesap',
                'settings.logout': 'Çıkış yap',
                'language.title': 'Dil seçin',
                'language.common': 'Yaygın',
                'language.asia': 'Asya',
                'language.europe': 'Avrupa',
                'language.other': 'Diğer',
                'list.search': 'Fotoğraf ara',
                'list.selectMode': 'Seç',
                'list.cancel': 'İptal',
                'list.selectAll': 'Tümünü seç',
                'list.deleteSelected': 'Seçilenleri sil',
                'list.selectItems': 'Öğeleri seç',
                'list.share': 'Paylaş',
                'list.delete': 'Sil',
                'list.selectedCount': '{count} seçildi',
                'list.empty.title': 'Taramaya ve kaydetmeye başla',
                'list.empty.desc': 'Ürünleri tara ve fiyatları kaydet',
                
                // Sonuç sayfası
                'result.title': 'Analiz Sonucu',
                'result.reanalyze': 'Ürün Tanımayı Düzelt',
                'result.editName': 'İsmi Düzenle',
                'result.viewChat': 'Sohbeti Görüntüle',
                'result.shareResult': 'Sonucu Paylaş',
                'result.delete': 'Sil',
                'result.confirmReanalyze': 'Bu ürünü yeniden tanımlamak istediğinizden emin misiniz?',
                'result.confirmDelete': 'Bu öğeyi silmek istediğinizden emin misiniz?',
                'result.reanalyzeFailed': 'Yeniden analiz başarısız oldu',
                'result.noDataToShare': 'Paylaşılacak veri yok',
                'result.estimatedPrice': 'Tahmini Fiyat',
                'result.askAI': 'AI\'ya Sor',
                'result.share': 'Paylaş',
                'result.purchaseChannels': 'Satın Alma Kanalları',
                'result.basicInfo': 'Temel Bilgiler',
                'result.category': 'Kategori',
                'result.brand': 'Marka',
                'result.whereToBuy': 'Nereden Alınır',
                'camera.scanHint': 'Taramayı başlatmak için ürünü hizala',
                'ai.title': 'AI Akıllı Hizmet',
                'ai.uploadText': 'AI sohbeti başlatmak için fotoğraf yükle',
                'ai.uploadSubtext': 'Fotoğraf seçmek için simgeye tıkla\nAkıllı diyalog analizini başlat',
                'ai.tips.title': '💡 Kullanım ipuçları',
                'ai.tips.content': '• Net bir fotoğraf seç\n• AI içeriği analiz edecek\n• Kişiselleştirilmiş içgörüler sağlar',
                'settings.membership': 'Üyelik',
                'settings.memberStatus': 'Üye Durumu',
                'settings.memberStatusFree': 'Ücretsiz Sürüm',
                'settings.remainingScans': 'Kalan Tarama Sayısı',
                'settings.restorePurchase': 'Satın Alımı Geri Yükle',
                'settings.proFeatures': 'Pro Özellikleri',
                'settings.aiService': 'AI Akıllı Hizmet',
                'settings.exportExcel': 'Excel Raporuna Aktar',
                'export.selectPhotos': 'Dışa aktarmak için fotoğrafları seçin',
                'export.selectAll': 'Tümünü Seç',
                'export.exportButton': 'Excel\'e Aktar',
                'export.cancelButton': 'İptal',
                'export.noData': 'Dışa aktarılacak veri yok',
                'export.selectAtLeastOne': 'Lütfen en az bir öğe seçin',
                'settings.batchRecognition': 'Toplu Fotoğraf Tanıma',
                'settings.autoSaveAlbum': 'Albüme Otomatik Kaydet',
                'settings.loginRegister': 'Giriş Yap/Kayıt Ol',
                'settings.contactUs': 'Bize Ulaşın',
                'settings.help': 'Yardım',
                'settings.about': 'Uygulama Hakkında',
                'settings.appInfo': 'Uygulama Bilgisi',
                'settings.rateApp': 'Uygulamayı Değerlendir',
                'settings.shareApp': 'Arkadaşlarla Paylaş',
                
                // Login/Register page
                'auth.subtitle': 'Evrensel Fiyat Tarayıcı',
                'auth.emailLabel': 'E-posta Adresi',
                'auth.emailPlaceholder': 'E-postanızı girin',
                'auth.passwordLabel': 'Şifre',
                'auth.passwordPlaceholder': 'Şifrenizi girin',
                'auth.forgotPassword': 'Şifremi unuttum?',
                'auth.loginButton': 'Giriş Yap',
                'auth.registerButton': 'Kayıt Ol',
                'auth.noAccount': 'Hesabınız yok mu?',
                'auth.hasAccount': 'Zaten hesabınız var mı?',
                'auth.registerLink': 'Kayıt Ol',
                'auth.loginLink': 'Giriş Yap',
                'auth.or': 'veya',
                'auth.signInWithApple': 'Apple ile giriş yap',
                'auth.signInWithGoogle': 'Google ile giriş yap',
                
                // Pro Upgrade page
                'pro.title': 'Planı Yükselt',
                'pro.subtitle': 'Profesyonel tarama için tüm güçlü özellikleri aç',
                'pro.trialInfo': '3 gün ücretsiz deneme',
                'pro.feature1Title': 'AI Akıllı Hizmet',
                'pro.feature1Desc': 'Daha doğru ürün tanıma ve fiyat analizi',
                'pro.feature2Title': 'Ayda 1000 Tarama',
                'pro.feature2Desc': 'Tüm tarama ihtiyaçlarınızı karşılar',
                'pro.feature3Title': 'Rahatsız Edici Reklamları Kaldır',
                'pro.feature3Desc': 'Temiz, kesintisiz bir deneyimin tadını çıkarın',
                'pro.feature4Title': 'Excel Raporlarını Dışa Aktar',
                'pro.feature4Desc': 'Profesyonel veri organizasyonu ve analiz raporları',
                'pro.feature5Title': 'Toplu Fotoğraf Tanıma',
                'pro.feature5Desc': 'Birden fazla fotoğrafı aynı anda işleyin, zaman kazanın',
                'pro.feature6Title': 'Albüme Otomatik Kaydet',
                'pro.feature6Desc': 'Tarama sonuçları otomatik olarak yedeklenir',
                'pro.discountBadge': '%34 Tasarruf',
                'pro.yearlyPlan': 'Yıllık Plan',
                'pro.monthlyPlan': 'Aylık Plan',
                'pro.perMonth': 'aylık',
                'pro.yearlyTotal': '$1,188/yıl',
                'pro.monthlyBilling': 'Aylık faturalandırılır',
                'pro.startFreeTrial': 'Ücretsiz Denemeyi Başlat',
                'pro.termsOfUse': 'Kullanım Şartları',
                'pro.privacyPolicy': 'Gizlilik Politikası',
                'pro.subscriptionTerms': 'Abonelik Şartları',
                'pro.restorePurchase': 'Satın Alımı Geri Yükle',
                
                // Forgot Password page
                'forgot.title': 'Şifremi Unuttum',
                'forgot.description': 'Kayıt olurken kullandığınız e-posta adresini girin<br>Size şifre sıfırlama bağlantısı göndereceğiz',
                'forgot.emailLabel': 'E-posta Adresi',
                'forgot.emailPlaceholder': 'E-postanızı girin',
                'forgot.continueButton': 'Devam Et',
                
                // Success Dialog
                'success.emailSent': 'E-posta Gönderildi!',
                'success.resetMessage': 'Şifre sıfırlama bağlantısı gelen kutunuza gönderildi<br>Lütfen e-postanızı kontrol edin ve şifrenizi sıfırlamak için bağlantıya tıklayın<br><br>Almazsanız, spam klasörünüzü kontrol edin',
                'success.confirmButton': 'Tamam',
                
                // AI Analizi
                'common.aiAnalyzing': 'AI analiz ediyor...',
                'common.aiAnalyzingTitle': 'AI analiz ediyor',
                'common.aiAnalyzingDesc': 'Görüntü içeriğini anlıyor...',
                'common.batchAnalyzing': '{current} / {total} görüntü analiz ediliyor...'
            },
            'ru': {
                'app.title': 'LENSY - Универсальный сканер цен',
                'nav.list': 'Список',
                'nav.settings': 'Настройки',
                'settings.title': 'Настройки',
                'settings.general': 'Общие',
                'settings.aiMode': 'Режим ИИ',
                'settings.batchAnalysis': 'Анализ нескольких фотографий',
                'settings.theme': 'Темная тема',
                'settings.support': 'Поддержка',
                'settings.language': 'Язык',
                'settings.feedback': 'Обратная связь',
                'settings.aboutVersion': 'О программе и версия',
                'settings.account': 'Аккаунт',
                'settings.logout': 'Выйти',
                'language.title': 'Выберите язык',
                'language.common': 'Часто используемые',
                'language.asia': 'Азия',
                'language.europe': 'Европа',
                'language.other': 'Другие',
                'list.search': 'Поиск фотографий',
                'list.selectMode': 'Выбрать',
                'list.cancel': 'Отмена',
                'list.selectAll': 'Выбрать все',
                'list.deleteSelected': 'Удалить выбранные',
                'list.selectItems': 'Выбрать элементы',
                'list.share': 'Поделиться',
                'list.delete': 'Удалить',
                'list.selectedCount': 'Выбрано: {count}',
                'list.empty.title': 'Начать сканирование и запись',
                'list.empty.desc': 'Сканируйте товары и записывайте цены',
                
                // Страница результатов
                'result.title': 'Результат анализа',
                'result.reanalyze': 'Исправить распознавание товара',
                'result.editName': 'Редактировать название',
                'result.viewChat': 'Просмотреть диалог',
                'result.shareResult': 'Поделиться результатом',
                'result.delete': 'Удалить',
                'result.confirmReanalyze': 'Вы уверены, что хотите повторно идентифицировать этот товар?',
                'result.confirmDelete': 'Вы уверены, что хотите удалить этот элемент?',
                'result.reanalyzeFailed': 'Повторный анализ не удался',
                'result.noDataToShare': 'Нет данных для обмена',
                'result.estimatedPrice': 'Ориентировочная цена',
                'result.askAI': 'Спросить ИИ',
                'result.share': 'Поделиться',
                'result.purchaseChannels': 'Каналы покупки',
                'result.basicInfo': 'Основная информация',
                'result.category': 'Категория',
                'result.brand': 'Бренд',
                'result.whereToBuy': 'Где купить',
                'camera.scanHint': 'Наведите на товар для начала сканирования',
                'ai.title': 'ИИ Умный сервис',
                'ai.uploadText': 'Загрузите фото для начала ИИ-чата',
                'ai.uploadSubtext': 'Нажмите на значок, чтобы выбрать фото\nНачать интеллектуальный анализ диалога',
                'ai.tips.title': '💡 Советы по использованию',
                'ai.tips.content': '• Выберите четкое фото\n• ИИ проанализирует содержимое\n• Предоставит персонализированные данные',
                'settings.membership': 'Членство',
                'settings.memberStatus': 'Статус участника',
                'settings.memberStatusFree': 'Бесплатная версия',
                'settings.remainingScans': 'Оставшиеся сканирования',
                'settings.restorePurchase': 'Восстановить покупку',
                'settings.proFeatures': 'Функции Pro',
                'settings.aiService': 'ИИ Умный сервис',
                'settings.exportExcel': 'Экспорт в Excel отчет',
                'export.selectPhotos': 'Выберите фото для экспорта',
                'export.selectAll': 'Выбрать все',
                'export.exportButton': 'Экспорт Excel',
                'export.cancelButton': 'Отмена',
                'export.noData': 'Нет данных для экспорта',
                'export.selectAtLeastOne': 'Пожалуйста, выберите хотя бы один элемент',
                'settings.batchRecognition': 'Пакетное распознавание фото',
                'settings.autoSaveAlbum': 'Автосохранение в альбом',
                'settings.loginRegister': 'Войти/Регистрация',
                'settings.contactUs': 'Связаться с нами',
                'settings.help': 'Помощь',
                'settings.about': 'О приложении',
                'settings.appInfo': 'Информация о приложении',
                'settings.rateApp': 'Оценить приложение',
                'settings.shareApp': 'Поделиться с друзьями',
                
                // Login/Register page
                'auth.subtitle': 'Универсальный сканер цен',
                'auth.emailLabel': 'Адрес электронной почты',
                'auth.emailPlaceholder': 'Введите ваш email',
                'auth.passwordLabel': 'Пароль',
                'auth.passwordPlaceholder': 'Введите ваш пароль',
                'auth.forgotPassword': 'Забыли пароль?',
                'auth.loginButton': 'Войти',
                'auth.registerButton': 'Зарегистрироваться',
                'auth.noAccount': 'Нет аккаунта?',
                'auth.hasAccount': 'Уже есть аккаунт?',
                'auth.registerLink': 'Зарегистрироваться',
                'auth.loginLink': 'Войти',
                'auth.or': 'или',
                'auth.signInWithApple': 'Войти через Apple',
                'auth.signInWithGoogle': 'Войти через Google',
                
                // Pro Upgrade page
                'pro.title': 'Обновить план',
                'pro.subtitle': 'Разблокируйте все мощные функции для профессионального сканирования',
                'pro.trialInfo': '3 дня бесплатной пробной версии',
                'pro.feature1Title': 'ИИ Умный сервис',
                'pro.feature1Desc': 'Более точное распознавание товаров и анализ цен',
                'pro.feature2Title': '1000 сканирований в месяц',
                'pro.feature2Desc': 'Удовлетворяет все ваши потребности в сканировании',
                'pro.feature3Title': 'Удалить надоедливую рекламу',
                'pro.feature3Desc': 'Наслаждайтесь чистым, непрерывным опытом',
                'pro.feature4Title': 'Экспорт Excel отчетов',
                'pro.feature4Desc': 'Профессиональная организация данных и аналитические отчеты',
                'pro.feature5Title': 'Пакетное распознавание фото',
                'pro.feature5Desc': 'Обрабатывайте несколько фото сразу, экономьте время',
                'pro.feature6Title': 'Автосохранение в альбом',
                'pro.feature6Desc': 'Результаты сканирования автоматически сохраняются',
                'pro.discountBadge': 'Скидка 34%',
                'pro.yearlyPlan': 'Годовой план',
                'pro.monthlyPlan': 'Месячный план',
                'pro.perMonth': 'в месяц',
                'pro.yearlyTotal': '$1,188/год',
                'pro.monthlyBilling': 'Ежемесячная оплата',
                'pro.startFreeTrial': 'Начать бесплатную пробную версию',
                'pro.termsOfUse': 'Условия использования',
                'pro.privacyPolicy': 'Политика конфиденциальности',
                'pro.subscriptionTerms': 'Условия подписки',
                'pro.restorePurchase': 'Восстановить покупку',
                
                // Forgot Password page
                'forgot.title': 'Забыли пароль',
                'forgot.description': 'Введите адрес электронной почты, использованный при регистрации<br>Мы отправим вам ссылку для сброса пароля',
                'forgot.emailLabel': 'Адрес электронной почты',
                'forgot.emailPlaceholder': 'Введите ваш email',
                'forgot.continueButton': 'Продолжить',
                
                // Success Dialog
                'success.emailSent': 'Письмо отправлено!',
                'success.resetMessage': 'Ссылка для сброса пароля отправлена на вашу почту<br>Пожалуйста, проверьте вашу электронную почту и нажмите на ссылку для сброса пароля<br><br>Если вы не получили письмо, проверьте папку со спамом',
                'success.confirmButton': 'ОК',
                
                // Анализ ИИ
                'common.aiAnalyzing': 'ИИ анализирует...',
                'common.aiAnalyzingTitle': 'ИИ анализирует',
                'common.aiAnalyzingDesc': 'Понимание содержания изображения...',
                'common.batchAnalyzing': 'Анализ изображения {current} из {total}...'
            },
            'id': {
                'app.title': 'LENSY - Pemindai Harga Universal',
                'nav.list': 'Daftar',
                'nav.settings': 'Pengaturan',
                'settings.title': 'Pengaturan',
                'settings.general': 'Umum',
                'settings.aiMode': 'Mode AI',
                'settings.batchAnalysis': 'Analisis banyak foto',
                'settings.theme': 'Tema gelap',
                'settings.support': 'Dukungan',
                'settings.language': 'Bahasa',
                'settings.feedback': 'Masukan',
                'settings.aboutVersion': 'Tentang & Versi',
                'settings.account': 'Akun',
                'settings.logout': 'Keluar',
                'language.title': 'Pilih bahasa',
                'language.common': 'Umum',
                'language.asia': 'Asia',
                'language.europe': 'Eropa',
                'language.other': 'Lainnya',
                'list.search': 'Cari foto',
                'list.selectMode': 'Pilih',
                'list.cancel': 'Batal',
                'list.selectAll': 'Pilih semua',
                'list.deleteSelected': 'Hapus yang dipilih',
                'list.selectItems': 'Pilih item',
                'list.share': 'Bagikan',
                'list.delete': 'Hapus',
                'list.selectedCount': '{count} dipilih',
                'list.empty.title': 'Mulai memindai dan merekam',
                'list.empty.desc': 'Pindai barang dan catat harga',
                
                // Halaman hasil
                'result.title': 'Hasil Analisis',
                'result.reanalyze': 'Perbaiki Pengenalan Barang',
                'result.editName': 'Edit Nama',
                'result.viewChat': 'Lihat Percakapan',
                'result.shareResult': 'Bagikan Hasil',
                'result.delete': 'Hapus',
                'result.confirmReanalyze': 'Apakah Anda yakin ingin mengidentifikasi ulang barang ini?',
                'result.confirmDelete': 'Apakah Anda yakin ingin menghapus item ini?',
                'result.reanalyzeFailed': 'Analisis ulang gagal',
                'result.noDataToShare': 'Tidak ada data untuk dibagikan',
                'result.estimatedPrice': 'Perkiraan Harga',
                'result.askAI': 'Tanya AI',
                'result.share': 'Bagikan',
                'result.purchaseChannels': 'Saluran Pembelian',
                'result.basicInfo': 'Informasi Dasar',
                'result.category': 'Kategori',
                'result.brand': 'Merek',
                'result.whereToBuy': 'Tempat Membeli',
                'camera.scanHint': 'Arahkan ke barang untuk mulai memindai',
                'ai.title': 'Layanan AI Cerdas',
                'ai.uploadText': 'Unggah foto untuk mulai obrolan AI',
                'ai.uploadSubtext': 'Klik ikon untuk memilih foto\nMulai analisis dialog cerdas',
                'ai.tips.title': '💡 Tips penggunaan',
                'ai.tips.content': '• Pilih foto yang jelas\n• AI akan menganalisis konten\n• Memberikan wawasan personal',
                'settings.membership': 'Keanggotaan',
                'settings.memberStatus': 'Status Anggota',
                'settings.memberStatusFree': 'Versi Gratis',
                'settings.remainingScans': 'Sisa Pemindaian',
                'settings.restorePurchase': 'Pulihkan Pembelian',
                'settings.proFeatures': 'Fitur Pro',
                'settings.aiService': 'Layanan AI Cerdas',
                'settings.exportExcel': 'Ekspor ke Laporan Excel',
                'export.selectPhotos': 'Pilih foto untuk diekspor',
                'export.selectAll': 'Pilih Semua',
                'export.exportButton': 'Ekspor Excel',
                'export.cancelButton': 'Batal',
                'export.noData': 'Tidak ada data untuk diekspor',
                'export.selectAtLeastOne': 'Silakan pilih setidaknya satu item',
                'settings.batchRecognition': 'Pengenalan Foto Batch',
                'settings.autoSaveAlbum': 'Simpan Otomatis ke Album',
                'settings.loginRegister': 'Masuk/Daftar',
                'settings.contactUs': 'Hubungi Kami',
                'settings.help': 'Bantuan',
                'settings.about': 'Tentang APP',
                'settings.appInfo': 'Info APP',
                'settings.rateApp': 'Nilai APP',
                'settings.shareApp': 'Bagikan ke Teman',
                
                // Login/Register page
                'auth.subtitle': 'Pemindai Harga Universal',
                'auth.emailLabel': 'Alamat Email',
                'auth.emailPlaceholder': 'Masukkan email Anda',
                'auth.passwordLabel': 'Kata Sandi',
                'auth.passwordPlaceholder': 'Masukkan kata sandi Anda',
                'auth.forgotPassword': 'Lupa kata sandi?',
                'auth.loginButton': 'Masuk',
                'auth.registerButton': 'Daftar',
                'auth.noAccount': 'Belum punya akun?',
                'auth.hasAccount': 'Sudah punya akun?',
                'auth.registerLink': 'Daftar',
                'auth.loginLink': 'Masuk',
                'auth.or': 'atau',
                'auth.signInWithApple': 'Masuk dengan Apple',
                'auth.signInWithGoogle': 'Masuk dengan Google',
                
                // Pro Upgrade page
                'pro.title': 'Tingkatkan Paket',
                'pro.subtitle': 'Buka semua fitur canggih untuk pemindaian profesional',
                'pro.trialInfo': 'Uji coba gratis 3 hari',
                'pro.feature1Title': 'Layanan AI Cerdas',
                'pro.feature1Desc': 'Pengenalan barang dan analisis harga yang lebih akurat',
                'pro.feature2Title': '1000 Pemindaian per Bulan',
                'pro.feature2Desc': 'Memenuhi semua kebutuhan pemindaian Anda',
                'pro.feature3Title': 'Hapus Iklan Mengganggu',
                'pro.feature3Desc': 'Nikmati pengalaman bersih dan tanpa gangguan',
                'pro.feature4Title': 'Ekspor Laporan Excel',
                'pro.feature4Desc': 'Organisasi data profesional dan laporan analisis',
                'pro.feature5Title': 'Pengenalan Foto Batch',
                'pro.feature5Desc': 'Proses beberapa foto sekaligus, hemat waktu',
                'pro.feature6Title': 'Simpan Otomatis ke Album',
                'pro.feature6Desc': 'Hasil pemindaian dicadangkan otomatis',
                'pro.discountBadge': 'Hemat 34%',
                'pro.yearlyPlan': 'Paket Tahunan',
                'pro.monthlyPlan': 'Paket Bulanan',
                'pro.perMonth': 'per bulan',
                'pro.yearlyTotal': 'Rp1.188.000/tahun',
                'pro.monthlyBilling': 'Ditagih bulanan',
                'pro.startFreeTrial': 'Mulai Uji Coba Gratis',
                'pro.termsOfUse': 'Syarat Penggunaan',
                'pro.privacyPolicy': 'Kebijakan Privasi',
                'pro.subscriptionTerms': 'Ketentuan Berlangganan',
                'pro.restorePurchase': 'Pulihkan Pembelian',
                
                // Forgot Password page
                'forgot.title': 'Lupa Kata Sandi',
                'forgot.description': 'Masukkan alamat email yang Anda gunakan untuk mendaftar<br>Kami akan mengirimkan tautan reset kata sandi',
                'forgot.emailLabel': 'Alamat Email',
                'forgot.emailPlaceholder': 'Masukkan email Anda',
                'forgot.continueButton': 'Lanjutkan',
                
                // Success Dialog
                'success.emailSent': 'Email Terkirim!',
                'success.resetMessage': 'Tautan reset kata sandi telah dikirim ke kotak masuk Anda<br>Silakan periksa email Anda dan klik tautan untuk mereset kata sandi<br><br>Jika tidak menerima, periksa folder spam Anda',
                'success.confirmButton': 'OK',
                
                // Analisis AI
                'common.aiAnalyzing': 'AI sedang menganalisis...',
                'common.aiAnalyzingTitle': 'AI sedang menganalisis',
                'common.aiAnalyzingDesc': 'Memahami konten gambar...',
                'common.batchAnalyzing': 'Menganalisis gambar {current} dari {total}...'
            },
            'tl': {
                'app.title': 'LENSY - Universal na Scanner ng Presyo',
                'nav.list': 'Listahan',
                'nav.settings': 'Mga Setting',
                'settings.title': 'Mga Setting',
                'settings.general': 'Pangkalahatan',
                'settings.aiMode': 'AI Mode',
                'settings.batchAnalysis': 'Pagsusuri ng maraming larawan',
                'settings.theme': 'Madilim na tema',
                'settings.support': 'Suporta',
                'settings.language': 'Wika',
                'settings.feedback': 'Feedback',
                'settings.aboutVersion': 'Tungkol at Bersyon',
                'settings.account': 'Account',
                'settings.logout': 'Mag-logout',
                'language.title': 'Piliin ang wika',
                'language.common': 'Karaniwan',
                'language.asia': 'Asya',
                'language.europe': 'Europa',
                'language.other': 'Iba pa',
                'list.search': 'Maghanap ng mga larawan',
                'list.selectMode': 'Piliin',
                'list.cancel': 'Kanselahin',
                'list.selectAll': 'Piliin lahat',
                'list.deleteSelected': 'Burahin ang napili',
                'list.selectItems': 'Pumili ng mga item',
                'list.share': 'Ibahagi',
                'list.delete': 'Burahin',
                'list.selectedCount': '{count} napili',
                'list.empty.title': 'Simulan ang pag-scan at pagtala',
                'list.empty.desc': 'I-scan ang mga item at itala ang presyo',
                
                // Pahina ng resulta
                'result.title': 'Resulta ng Pagsusuri',
                'result.reanalyze': 'Itama ang Pagkilala sa Item',
                'result.editName': 'I-edit ang Pangalan',
                'result.viewChat': 'Tingnan ang Pag-uusap',
                'result.shareResult': 'Ibahagi ang Resulta',
                'result.delete': 'Burahin',
                'result.confirmReanalyze': 'Sigurado ka bang gusto mong muling kilalanin ang item na ito?',
                'result.confirmDelete': 'Sigurado ka bang gusto mong burahin ang item na ito?',
                'result.reanalyzeFailed': 'Nabigo ang muling pagsusuri',
                'result.noDataToShare': 'Walang data na maibabahagi',
                'result.estimatedPrice': 'Tinatayang Presyo',
                'result.askAI': 'Tanungin ang AI',
                'result.share': 'Ibahagi',
                'result.purchaseChannels': 'Mga Channel ng Pagbili',
                'result.basicInfo': 'Pangunahing Impormasyon',
                'result.category': 'Kategorya',
                'result.brand': 'Tatak',
                'result.whereToBuy': 'Saan Bibili',
                'camera.scanHint': 'Itutok sa item para simulan ang pag-scan',
                'ai.title': 'AI Matalinong Serbisyo',
                'ai.uploadText': 'Mag-upload ng larawan para simulan AI chat',
                'ai.uploadSubtext': 'I-click ang icon para pumili ng larawan\nSimulan ang matalinong pagsusuri ng diyalogo',
                'ai.tips.title': '💡 Mga tip sa paggamit',
                'ai.tips.content': '• Pumili ng malinaw na larawan\n• Susuriin ng AI ang nilalaman\n• Magbibigay ng personal na insight',
                'settings.membership': 'Membership',
                'settings.memberStatus': 'Katayuan ng Miyembro',
                'settings.memberStatusFree': 'Libreng Bersyon',
                'settings.remainingScans': 'Natitirang Pag-scan',
                'settings.restorePurchase': 'Ibalik ang Pagbili',
                'settings.proFeatures': 'Mga Feature ng Pro',
                'settings.aiService': 'AI Matalinong Serbisyo',
                'settings.exportExcel': 'I-export sa Excel Report',
                'export.selectPhotos': 'Pumili ng mga larawan na i-export',
                'export.selectAll': 'Piliin Lahat',
                'export.exportButton': 'I-export Excel',
                'export.cancelButton': 'Kanselahin',
                'export.noData': 'Walang data na mai-export',
                'export.selectAtLeastOne': 'Pumili ng kahit isang item',
                'settings.batchRecognition': 'Batch na Pagkilala ng Larawan',
                'settings.autoSaveAlbum': 'Awtomatikong I-save sa Album',
                'settings.loginRegister': 'Mag-login/Mag-rehistro',
                'settings.contactUs': 'Makipag-ugnayan sa Amin',
                'settings.help': 'Tulong',
                'settings.about': 'Tungkol sa APP',
                'settings.appInfo': 'Impormasyon ng APP',
                'settings.rateApp': 'I-rate ang APP',
                'settings.shareApp': 'Ibahagi sa mga Kaibigan',
                
                // Login/Register page
                'auth.subtitle': 'Universal na Scanner ng Presyo',
                'auth.emailLabel': 'Email Address',
                'auth.emailPlaceholder': 'Ilagay ang iyong email',
                'auth.passwordLabel': 'Password',
                'auth.passwordPlaceholder': 'Ilagay ang iyong password',
                'auth.forgotPassword': 'Nakalimutan ang password?',
                'auth.loginButton': 'Mag-sign In',
                'auth.registerButton': 'Mag-sign Up',
                'auth.noAccount': 'Wala pang account?',
                'auth.hasAccount': 'May account na?',
                'auth.registerLink': 'Mag-sign Up',
                'auth.loginLink': 'Mag-sign In',
                'auth.or': 'o',
                'auth.signInWithApple': 'Mag-sign in gamit ang Apple',
                'auth.signInWithGoogle': 'Mag-sign in gamit ang Google',
                
                // Pro Upgrade page
                'pro.title': 'I-upgrade ang Plano',
                'pro.subtitle': 'I-unlock ang lahat ng makapangyarihang features para sa propesyonal na pag-scan',
                'pro.trialInfo': '3 araw na libreng pagsubok',
                'pro.feature1Title': 'AI Matalinong Serbisyo',
                'pro.feature1Desc': 'Mas tumpak na pagkilala ng item at pagsusuri ng presyo',
                'pro.feature2Title': '1000 Pag-scan bawat Buwan',
                'pro.feature2Desc': 'Nakakatugon sa lahat ng iyong pangangailangan sa pag-scan',
                'pro.feature3Title': 'Alisin ang Nakakaistorbong Ads',
                'pro.feature3Desc': 'Mag-enjoy ng malinis at walang sagabal na karanasan',
                'pro.feature4Title': 'I-export ang Excel Reports',
                'pro.feature4Desc': 'Propesyonal na organisasyon ng data at ulat ng pagsusuri',
                'pro.feature5Title': 'Batch na Pagkilala ng Larawan',
                'pro.feature5Desc': 'Iproseso ang maraming larawan nang sabay-sabay, makatipid ng oras',
                'pro.feature6Title': 'Awtomatikong I-save sa Album',
                'pro.feature6Desc': 'Ang mga resulta ng pag-scan ay awtomatikong naka-backup',
                'pro.discountBadge': 'Makatipid ng 34%',
                'pro.yearlyPlan': 'Taunang Plano',
                'pro.monthlyPlan': 'Buwanang Plano',
                'pro.perMonth': 'bawat buwan',
                'pro.yearlyTotal': '₱1,188/taon',
                'pro.monthlyBilling': 'Sinisingil buwan-buwan',
                'pro.startFreeTrial': 'Simulan ang Libreng Pagsubok',
                'pro.termsOfUse': 'Mga Tuntunin ng Paggamit',
                'pro.privacyPolicy': 'Patakaran sa Privacy',
                'pro.subscriptionTerms': 'Mga Tuntunin ng Subscription',
                'pro.restorePurchase': 'Ibalik ang Pagbili',
                
                // Forgot Password page
                'forgot.title': 'Nakalimutan ang Password',
                'forgot.description': 'Ilagay ang email address na ginamit mo sa pag-register<br>Padadalhan ka namin ng link para i-reset ang password',
                'forgot.emailLabel': 'Email Address',
                'forgot.emailPlaceholder': 'Ilagay ang iyong email',
                'forgot.continueButton': 'Magpatuloy',
                
                // Success Dialog
                'success.emailSent': 'Naipadala na ang Email!',
                'success.resetMessage': 'Naipadala na ang password reset link sa iyong inbox<br>Pakicheck ang iyong email at i-click ang link para i-reset ang password<br><br>Kung hindi mo natanggap, tingnan ang spam folder',
                'success.confirmButton': 'OK',
                
                // Pagsusuri ng AI
                'common.aiAnalyzing': 'Sinusuri ng AI...',
                'common.aiAnalyzingTitle': 'Sinusuri ng AI',
                'common.aiAnalyzingDesc': 'Nauunawaan ang nilalaman ng larawan...',
                'common.batchAnalyzing': 'Sinusuri ang larawan {current} ng {total}...'
            }
        };
        
        // 獲取當前語言
        function getCurrentLanguage() {
            return localStorage.getItem('appLanguage') || 'zh-TW';
        }
        
        // 翻譯函數
        function t(key) {
            const lang = getCurrentLanguage();
            return i18n[lang]?.[key] || i18n['zh-TW'][key] || key;
        }
        
        // 更新頁面所有文字
        function updatePageTexts() {
            const elements = document.querySelectorAll('[data-i18n]');
            elements.forEach(el => {
                const key = el.getAttribute('data-i18n');
                const text = t(key);
                
                // 檢查是否包含換行符，如果有則使用 innerHTML
                if (text.includes('\n')) {
                    el.innerHTML = text.replace(/\n/g, '<br>');
                } else {
                    el.textContent = text;
                }
            });
            
            // 更新特殊元素
            document.title = t('app.title');
            
            // 更新 placeholder
            const searchInput = document.querySelector('.search-input');
            if (searchInput) {
                searchInput.placeholder = t('list.search');
            }
            
            // 更新所有 data-i18n-placeholder 屬性
            const placeholderElements = document.querySelectorAll('[data-i18n-placeholder]');
            placeholderElements.forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                el.placeholder = t(key);
            });
            
            // 更新選擇按鈕文字
            const selectBtn = document.getElementById('selectBtn');
            if (selectBtn && !isSelectMode) {
                selectBtn.textContent = t('list.selectMode');
            }
        }
        
        // 顯示語言選擇器
        function showLanguageSelector() {
            const languagePage = document.getElementById('languageSelectorPage');
            languagePage.classList.add('active');
            
            // 更新當前語言的勾選狀態
            const currentLang = getCurrentLanguage();
            document.querySelectorAll('.language-check').forEach(check => {
                check.classList.remove('active');
            });
            const currentCheck = document.querySelector(`.language-check[data-lang="${currentLang}"]`);
            if (currentCheck) {
                currentCheck.classList.add('active');
            }
        }
        
        // 關閉語言選擇器
        function closeLanguageSelector() {
            const languagePage = document.getElementById('languageSelectorPage');
            languagePage.classList.remove('active');
        }
        
        // 改變語言
        function changeLanguage(lang) {
            // 保存語言設置
            localStorage.setItem('appLanguage', lang);
            
            // 更新勾選狀態
            document.querySelectorAll('.language-check').forEach(check => {
                check.classList.remove('active');
            });
            const newCheck = document.querySelector(`.language-check[data-lang="${lang}"]`);
            if (newCheck) {
                newCheck.classList.add('active');
            }
            
            // 更新頁面文字
            updatePageTexts();
            
            // 更新價格顯示（如果 PRO 頁面開啟）
            if (proUpgradePage.classList.contains('active')) {
                updatePricingDisplay();
            }
            
            // 關閉語言選擇器
            setTimeout(() => {
                closeLanguageSelector();
            }, 300);
        }
        
        // 頁面載入時初始化語言
        document.addEventListener('DOMContentLoaded', () => {
            updatePageTexts();
        });
    </script>
</body>
</html>
